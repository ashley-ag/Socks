(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return f}),n.d(e,"__createBinding",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return v}),n.d(e,"__spread",function(){return g}),n.d(e,"__spreadArrays",function(){return m}),n.d(e,"__spreadArray",function(){return y}),n.d(e,"__await",function(){return b}),n.d(e,"__asyncGenerator",function(){return _}),n.d(e,"__asyncDelegator",function(){return w}),n.d(e,"__asyncValues",function(){return x}),n.d(e,"__makeTemplateObject",function(){return k}),n.d(e,"__importStar",function(){return T}),n.d(e,"__importDefault",function(){return E}),n.d(e,"__classPrivateFieldGet",function(){return S}),n.d(e,"__classPrivateFieldSet",function(){return I});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function f(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||h(e,t,n)}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,i,(e=t[n](e)).done,e.value)})}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var O=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&h(e,t,n);return O(e,t),e}function E(t){return t&&t.__esModule?t:{default:t}}function S(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function I(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},function(t,e,n){"use strict";t.exports=n(123)},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"CONSTANTS",function(){return i}),n.d(e,"Deferred",function(){return d}),n.d(e,"ErrorFactory",function(){return j}),n.d(e,"FirebaseError",function(){return P}),n.d(e,"MAX_VALUE_MILLIS",function(){return ut}),n.d(e,"RANDOM_FACTOR",function(){return ct}),n.d(e,"Sha1",function(){return Y}),n.d(e,"areCookiesEnabled",function(){return I}),n.d(e,"assert",function(){return o}),n.d(e,"assertionError",function(){return a}),n.d(e,"async",function(){return X}),n.d(e,"base64",function(){return u}),n.d(e,"base64Decode",function(){return l}),n.d(e,"base64Encode",function(){return c}),n.d(e,"calculateBackoffMillis",function(){return lt}),n.d(e,"contains",function(){return B}),n.d(e,"createMockUserToken",function(){return p}),n.d(e,"createSubscribe",function(){return $}),n.d(e,"decode",function(){return M}),n.d(e,"deepCopy",function(){return f}),n.d(e,"deepExtend",function(){return h}),n.d(e,"errorPrefix",function(){return tt}),n.d(e,"extractQuerystring",function(){return G}),n.d(e,"getGlobal",function(){return C}),n.d(e,"getModularInstance",function(){return ht}),n.d(e,"getUA",function(){return v}),n.d(e,"isAdmin",function(){return V}),n.d(e,"isBrowser",function(){return y}),n.d(e,"isBrowserExtension",function(){return b}),n.d(e,"isElectron",function(){return w}),n.d(e,"isEmpty",function(){return q}),n.d(e,"isIE",function(){return x}),n.d(e,"isIndexedDBAvailable",function(){return E}),n.d(e,"isMobileCordova",function(){return g}),n.d(e,"isNode",function(){return m}),n.d(e,"isNodeSdk",function(){return O}),n.d(e,"isReactNative",function(){return _}),n.d(e,"isSafari",function(){return T}),n.d(e,"isUWP",function(){return k}),n.d(e,"isValidFormat",function(){return U}),n.d(e,"isValidTimestamp",function(){return L}),n.d(e,"issuedAtTime",function(){return F}),n.d(e,"jsonEval",function(){return R}),n.d(e,"map",function(){return W}),n.d(e,"ordinal",function(){return ft}),n.d(e,"querystring",function(){return H}),n.d(e,"querystringDecode",function(){return K}),n.d(e,"safeGet",function(){return z}),n.d(e,"stringLength",function(){return ot}),n.d(e,"stringToByteArray",function(){return it}),n.d(e,"stringify",function(){return D}),n.d(e,"validateArgCount",function(){return Z}),n.d(e,"validateCallback",function(){return nt}),n.d(e,"validateContextObject",function(){return rt}),n.d(e,"validateIndexedDBOpenable",function(){return S}),n.d(e,"validateNamespace",function(){return et});var r=n(0),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return u.encodeByteArray(e,!0)},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(a),!1),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function m(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function y(){return"object"===typeof self&&self.self===self}function b(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){return v().indexOf("Electron/")>=0}function x(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k(){return v().indexOf("MSAppHost/")>=0}function O(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function T(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){return"indexedDB"in self&&null!=indexedDB}function S(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function I(){return!(!navigator||!navigator.cookieEnabled)}function C(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("Unable to locate global object.")}var A="FirebaseError",P=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=A,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,j.prototype.create),o}return Object(r.__extends)(e,t),e}(Error),j=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(N,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new P(i,s,r)},t}();var N=/\{\$([^}]+)}/g;function R(t){return JSON.parse(t)}function D(t){return JSON.stringify(t)}var M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=R(l(o[0])||""),n=R(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},L=function(t){var e=M(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},F=function(t){var e=M(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},U=function(t){var e=M(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},V=function(t){var e=M(t).claims;return"object"===typeof e&&!0===e.admin};function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function z(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function q(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function W(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function H(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function K(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function G(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Y=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function $(t,e){var n=new Q(t,e);return n.subscribe.bind(n)}var Q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function X(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function J(){}var Z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function tt(t,e){return t+" failed: "+e+" argument "}function et(t,e,n){if((!n||e)&&"string"!==typeof e)throw new Error(tt(t,"namespace")+"must be a valid firebase namespace.")}function nt(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(tt(t,e)+"must be a valid function.")}function rt(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(tt(t,e)+"must be a valid context object.")}var it=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ot=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},at=1e3,st=2,ut=144e5,ct=.5;function lt(t,e,n){void 0===e&&(e=at),void 0===n&&(n=st);var r=e*Math.pow(n,t),i=Math.round(ct*r*(Math.random()-.5)*2);return Math.min(ut,r+i)}function ft(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(t):""+t}function ht(t){return t&&t._delegate?t._delegate:t}}.call(this,n(40))},function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",function(){return x});var r,i,o=n(0),a=n(2),s=n(12),u=n(11),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="0.6.22",d="[DEFAULT]",p=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),v=new u.Logger("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.deepCopy)(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){v.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m="8.6.1";var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var s=i;void 0===s.name&&(s.name=d);var u=s.name;if("string"!==typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(a.contains)(e,u))throw l.create("duplicate-app",{appName:u});var c=new t(n,s,r);return e[u]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void v.warn(c.join(" "))}o(new s.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument");Object(u.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:m,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(a.contains)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return v.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.deepExtend)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++){var h=f[c];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.__assign)(Object(o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.deepExtend)(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.isBrowser)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var w=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.isNode)()&&v.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),w.apply(void 0,t)};var x=y;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(f,h,e),t.registerVersion("fire-js","")}(x),e.default=x},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function r(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return Nt});var r=n(54),i=n(1),o=n.n(i),a=n(118),s=n.n(a),u=n(119),c=n(120),l=n(67),f=n(55),h=n.n(f);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var p=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},v=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!Object(r.typeOf)(t)},g=Object.freeze([]),m=Object.freeze({});function y(t){return"function"==typeof t}function b(t){return t.displayName||t.name||"Component"}function _(t){return t&&"string"==typeof t.styledComponentId}var w="undefined"!=typeof t&&(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_ATTR)||"data-styled",x="undefined"!=typeof window&&"HTMLElement"in window,k=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY)),O={};function T(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)(i<<=1)<0&&T(16,""+t);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),s=0,u=e.length;s<u;s++)this.tag.insertRule(a,e[s])&&(this.groupSizes[t]++,a++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,o=r;o<i;o++)e+=this.tag.getRule(o)+"/*!sc*/\n";return e},t}(),S=new Map,I=new Map,C=1,A=function(t){if(S.has(t))return S.get(t);for(;I.has(C);)C++;var e=C++;return S.set(t,e),I.set(e,t),e},P=function(t){return I.get(t)},j=function(t,e){S.set(t,e),I.set(e,t)},N="style["+w+'][data-styled-version="5.3.0"]',R=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},M=function(t,e){for(var n=e.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(R);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(j(c,u),D(t,c,s[3]),t.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},L=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){for(var e=t.childNodes,n=e.length;n>=0;n--){var r=e[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.3.0");var a=L();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},U=function(){function t(t){var e=this.element=F(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}T(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),V=function(){function t(t){var e=this.element=F(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e),r=this.nodes[t];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),B=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),z=x,q={isServer:!x,useCSSOMInjection:!k},W=function(){function t(t,e,n){void 0===t&&(t=m),void 0===e&&(e={}),this.options=d({},q,{},t),this.gs=e,this.names=new Map(n),!this.options.isServer&&x&&z&&(z=!1,function(t){for(var e=document.querySelectorAll(N),n=0,r=e.length;n<r;n++){var i=e[n];i&&"active"!==i.getAttribute(w)&&(M(t,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}t.registerId=function(t){return A(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(d({},this.options,{},e),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(n=(e=this.options).isServer,r=e.useCSSOMInjection,i=e.target,t=n?new B(i):r?new U(i):new V(i),new E(t)));var t,e,n,r,i},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(A(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},e.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(A(t),n)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(A(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=0;i<n;i++){var o=P(i);if(void 0!==o){var a=t.names.get(o),s=e.getGroup(i);if(void 0!==a&&0!==s.length){var u=w+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach(function(t){t.length>0&&(c+=t+",")}),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},t}(),H=/(a)(d)/gi,K=function(t){return String.fromCharCode(t+(t>25?39:97))};function G(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=K(e%52)+n;return(K(e%52)+n).replace(H,"$1-$2")}var Y=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},$=function(t){return Y(5381,t)};function Q(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(y(n)&&!_(n))return!1}return!0}var X=$("5.3.0"),J=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Q(t),this.componentId=e,this.baseHash=Y(X,e),this.baseStyle=n,W.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,e,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=gt(this.rules,t,e,n).join(""),a=G(Y(this.baseHash,o.length)>>>0);if(!e.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);e.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Y(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=gt(h,t,e,n),p=Array.isArray(d)?d.join(""):d;c=Y(c,p+f),l+=p}}if(l){var v=G(c>>>0);if(!e.hasNameForId(r,v)){var g=n(l,"."+v,void 0,r);e.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},t}(),Z=/^\s*\/\/.*$/gm,tt=[":","[",".","#"];function et(t){var e,n,r,i,o=void 0===t?m:t,a=o.options,s=void 0===a?m:a,c=o.plugins,l=void 0===c?g:c,f=new u.a(s),h=[],d=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return t(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}(function(t){h.push(t)}),p=function(t,r,o){return 0===r&&-1!==tt.indexOf(o[n.length])||o.match(i)?t:"."+e};function v(t,o,a,s){void 0===s&&(s="&");var u=t.replace(Z,""),c=o&&a?a+" "+o+" { "+u+" }":u;return e=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(a||!o?"":o,c)}return f.use([].concat(l,[function(t,e,i){2===t&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(t){if(-2===t){var e=h;return h=[],e}}])),v.hash=l.length?l.reduce(function(t,e){return e.name||T(15),Y(t,e.name)},5381).toString():"",v}var nt=o.a.createContext(),rt=(nt.Consumer,o.a.createContext()),it=(rt.Consumer,new W),ot=et();function at(){return Object(i.useContext)(nt)||it}function st(){return Object(i.useContext)(rt)||ot}function ut(t){var e=Object(i.useState)(t.stylisPlugins),n=e[0],r=e[1],a=at(),u=Object(i.useMemo)(function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e},[t.disableCSSOMInjection,t.sheet,t.target]),c=Object(i.useMemo)(function(){return et({options:{prefix:!t.disableVendorPrefixes},plugins:n})},[t.disableVendorPrefixes,n]);return Object(i.useEffect)(function(){s()(n,t.stylisPlugins)||r(t.stylisPlugins)},[t.stylisPlugins]),o.a.createElement(nt.Provider,{value:u},o.a.createElement(rt.Provider,{value:c},t.children))}var ct=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=ot);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.toString=function(){return T(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=ot),this.name+t.hash},t}(),lt=/([A-Z])/,ft=/([A-Z])/g,ht=/^ms-/,dt=function(t){return"-"+t.toLowerCase()};function pt(t){return lt.test(t)?t.replace(ft,dt).replace(ht,"-ms-"):t}var vt=function(t){return null==t||!1===t||""===t};function gt(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],a=0,s=t.length;a<s;a+=1)""!==(i=gt(t[a],e,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return vt(t)?"":_(t)?"."+t.styledComponentId:y(t)?"function"!=typeof(u=t)||u.prototype&&u.prototype.isReactComponent||!e?t:gt(t(e),e,n,r):t instanceof ct?n?(t.inject(n,r),t.getName(r)):t:v(t)?function t(e,n){var r,i,o=[];for(var a in e)e.hasOwnProperty(a)&&!vt(e[a])&&(v(e[a])?o.push.apply(o,t(e[a],a)):y(e[a])?o.push(pt(a)+":",e[a],";"):o.push(pt(a)+": "+(r=a,null==(i=e[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";"));return n?[n+" {"].concat(o,["}"]):o}(t):t.toString();var u}function mt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return y(t)||v(t)?gt(p(g,[t].concat(n))):0===n.length&&1===t.length&&"string"==typeof t[0]?t:gt(p(t,n))}new Set;var yt=function(t,e,n){return void 0===n&&(n=m),t.theme!==n.theme&&t.theme||e||n.theme},bt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_t=/(^-|-$)/g;function wt(t){return t.replace(bt,"-").replace(_t,"")}var xt=function(t){return G($(t)>>>0)};function kt(t){return"string"==typeof t&&!0}var Ot=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},Tt=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function Et(t,e,n){var r=t[n];Ot(e)&&Ot(r)?St(r,e):t[n]=e}function St(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Ot(a))for(var s in a)Tt(s)&&Et(t,a[s],s)}return t}var It=o.a.createContext();It.Consumer;var Ct={};function At(t,e,n){var r=_(t),a=!kt(t),s=e.attrs,u=void 0===s?g:s,c=e.componentId,f=void 0===c?function(t,e){var n="string"!=typeof t?"sc":wt(t);Ct[n]=(Ct[n]||0)+1;var r=n+"-"+xt("5.3.0"+n+Ct[n]);return e?e+"-"+r:r}(e.displayName,e.parentComponentId):c,p=e.displayName,v=void 0===p?function(t){return kt(t)?"styled."+t:"Styled("+b(t)+")"}(t):p,w=e.displayName&&e.componentId?wt(e.displayName)+"-"+e.componentId:e.componentId||f,x=r&&t.attrs?Array.prototype.concat(t.attrs,u).filter(Boolean):u,k=e.shouldForwardProp;r&&t.shouldForwardProp&&(k=e.shouldForwardProp?function(n,r,i){return t.shouldForwardProp(n,r,i)&&e.shouldForwardProp(n,r,i)}:t.shouldForwardProp);var O,T=new J(n,w,r?t.componentStyle:void 0),E=T.isStatic&&0===u.length,S=function(t,e){return function(t,e,n,r){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,f=t.styledComponentId,h=t.target,p=function(t,e,n){void 0===t&&(t=m);var r=d({},e,{theme:t}),i={};return n.forEach(function(t){var e,n,o,a=t;for(e in y(a)&&(a=a(r)),a)r[e]=i[e]="className"===e?(n=i[e],o=a[e],n&&o?n+" "+o:n||o):a[e]}),[r,i]}(yt(e,Object(i.useContext)(It),s)||m,e,o),v=p[0],g=p[1],b=function(t,e,n,r){var i=at(),o=st();return e?t.generateAndInjectStyles(m,i,o):t.generateAndInjectStyles(n,i,o)}(a,r,v),_=n,w=g.$as||e.$as||g.as||e.as||h,x=kt(w),k=g!==e?d({},e,{},g):e,O={};for(var T in k)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?O.as=k[T]:(c?c(T,l.default,w):!x||Object(l.default)(T))&&(O[T]=k[T]));return e.style&&g.style!==e.style&&(O.style=d({},e.style,{},g.style)),O.className=Array.prototype.concat(u,f,b!==f?b:null,e.className,g.className).filter(Boolean).join(" "),O.ref=_,Object(i.createElement)(w,O)}(O,t,e,E)};return S.displayName=v,(O=o.a.forwardRef(S)).attrs=x,O.componentStyle=T,O.displayName=v,O.shouldForwardProp=k,O.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):g,O.styledComponentId=w,O.target=r?t.target:t,O.withComponent=function(t){var r=e.componentId,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["componentId"]),o=r&&r+"-"+(kt(t)?t:wt(b(t)));return At(t,d({},i,{attrs:x,componentId:o}),n)},Object.defineProperty(O,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?St({},t.defaultProps,e):e}}),O.toString=function(){return"."+O.styledComponentId},a&&h()(O,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),O}var Pt=function(t){return function t(e,n,i){if(void 0===i&&(i=m),!Object(r.isValidElementType)(n))return T(1,String(n));var o=function(){return e(n,i,mt.apply(void 0,arguments))};return o.withConfig=function(r){return t(e,n,d({},i,{},r))},o.attrs=function(r){return t(e,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(At,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){Pt[t]=Pt(t)});var jt=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=Q(t),W.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(t,e,n,r){var i=r(gt(this.rules,e,n,r).join(""),""),o=this.componentId+t;n.insertRules(o,o,i)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,n,r){t>2&&W.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,r)},t}();function Nt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=mt.apply(void 0,[t].concat(n)),s="sc-global-"+xt(JSON.stringify(a)),u=new jt(a,s);function c(t){var e=at(),n=st(),r=Object(i.useContext)(It),o=Object(i.useRef)(e.allocateGSInstance(s)).current;return Object(i.useLayoutEffect)(function(){return l(o,t,e,r,n),function(){return u.removeStyles(o,e)}},[o,t,e,r,n]),null}function l(t,e,n,r,i){if(u.isStatic)u.renderStyles(t,O,n,i);else{var o=d({},e,{theme:yt(e,r,c.defaultProps)});u.renderStyles(t,o,n,i)}}return o.a.memo(c)}!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=L();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?T(2):t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)return T(2);var n=((e={})[w]="",e["data-styled-version"]="5.3.0",e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),r=L();return r&&(n.nonce=r),[o.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var e=t.prototype;e.collectStyles=function(t){return this.sealed?T(2):o.a.createElement(ut,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return T(3)}}();e.b=Pt}).call(this,n(53))},function(t,e,n){"use strict";var r="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},i="undefined"!==typeof window?function(t){return window.requestAnimationFrame(t)}:function(t){return setTimeout(function(){return t(r())},1/60*1e3)};n.d(e,"a",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return m});var o=!0,a=!1,s=!1,u={delta:0,timestamp:0},c=["read","update","preRender","render","postRender"],l=c.reduce(function(t,e){return t[e]=function(t){var e=[],n=[],r=0,i=!1,o=new WeakSet,a={schedule:function(t,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);var u=s&&i,c=u?e:n;return a&&o.add(t),-1===c.indexOf(t)&&(c.push(t),u&&i&&(r=e.length)),t},cancel:function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1),o.delete(t)},process:function(s){var u;if(i=!0,e=(u=[n,e])[0],(n=u[1]).length=0,r=e.length)for(var c=0;c<r;c++){var l=e[c];l(s),o.has(l)&&(a.schedule(l),t())}i=!1}};return a}(function(){return a=!0}),t},{}),f=c.reduce(function(t,e){var n=l[e];return t[e]=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),a||g(),n.schedule(t,e,r)},t},{}),h=c.reduce(function(t,e){return t[e]=l[e].cancel,t},{}),d=c.reduce(function(t,e){return t[e]=function(){return l[e].process(u)},t},{}),p=function(t){return l[t].process(u)},v=function t(e){a=!1,u.delta=o?1/60*1e3:Math.max(Math.min(e-u.timestamp,40),1),u.timestamp=e,s=!0,c.forEach(p),s=!1,a&&(o=!1,i(t))},g=function(){a=!0,o=!0,s||i(v)},m=function(){return u};e.b=f},function(t,e,n){t.exports=n(252)()},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,"LogLevel",function(){return o}),n.d(e,"Logger",function(){return f}),n.d(e,"setLogLevel",function(){return h}),n.d(e,"setUserLogHandler",function(){return d});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function h(t){a.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map(function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Component",function(){return o}),n.d(e,"ComponentContainer",function(){return u}),n.d(e,"Provider",function(){return s});var r=n(0),i=n(2),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.__assign)({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(i)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(h){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=void 0===i?a:i,s=t.options,u=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(o);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:u});try{for(var f=Object(r.__values)(this.instancesDeferred.entries()),h=f.next();!h.done;h=f.next()){var d=Object(r.__read)(h.value,2),p=d[0],v=d[1];c===this.normalizeInstanceIdentifier(p)&&v.resolve(l)}}catch(g){e={error:g}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(l,c),l},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.__values)(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===a?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}var o=n(32);function a(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?Object(o.a)(t):e}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return oc}),n.d(e,"b",function(){return ac}),n.d(e,"c",function(){return $u}),n.d(e,"d",function(){return Yu}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return Zu}),n.d(e,"g",function(){return Ju}),n.d(e,"h",function(){return Vs}),n.d(e,"i",function(){return sc}),n.d(e,"j",function(){return cc}),n.d(e,"k",function(){return js}),n.d(e,"l",function(){return pc}),n.d(e,"m",function(){return ec}),n.d(e,"n",function(){return Gu}),n.d(e,"o",function(){return hc}),n.d(e,"p",function(){return Xu}),n.d(e,"q",function(){return vc}),n.d(e,"r",function(){return dc}),n.d(e,"s",function(){return lc}),n.d(e,"t",function(){return Ps});var r=n(2),i=n(11),o=n(20),a=n(0),s=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();s.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(a.__extends)(e,t),e}(Error),l=new i.Logger("@firebase/firestore");function f(){return l.logLevel}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=i.LogLevel.DEBUG){var r=e.map(v);l.debug.apply(l,Object(a.__spreadArray)(["Firestore (8.5.0): "+t],r))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=i.LogLevel.ERROR){var r=e.map(v);l.error.apply(l,Object(a.__spreadArray)(["Firestore (8.5.0): "+t],r))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=i.LogLevel.WARN){var r=e.map(v);l.warn.apply(l,Object(a.__spreadArray)(["Firestore (8.5.0): "+t],r))}}function v(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function g(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function m(t,e){t||g()}function y(t,e){return t}function b(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function w(t,e){return t<e?-1:t>e?1:0}function x(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function k(t){return t+"\0"}var O=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),T=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new O(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function E(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function S(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var C=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&g(),void 0===n?n=t.length-e:n>t.length-e&&g(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(C),P=/^[_a-zA-Z][_a-zA-Z0-9]*$/,j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return P.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(C),N=function(){function t(t){this.fields=t,t.sort(j.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return x(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),R=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return w(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();R.EMPTY_BYTE_STRING=new R("");var D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(t){if(m(!!t),"string"==typeof t){var e=0,n=D.exec(t);if(m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:L(t.seconds),nanos:L(t.nanos)}}function L(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function F(t){return"string"==typeof t?R.fromBase64String(t):R.fromUint8Array(t)}function U(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function V(t){var e=M(t.mapValue.fields.__local_write_time__.timestampValue);return new O(e.seconds,e.nanos)}function B(t){return null==t}function z(t){return 0===t&&1/t==-1/0}function q(t){return"number"==typeof t&&Number.isInteger(t)&&!z(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var W=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(A.fromString(e))},t.fromName=function(e){return new t(A.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===A.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return A.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new A(e.slice()))},t}();function H(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U(t)?4:10:g()}function K(t,e){var n=H(t);if(n!==H(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return V(t).isEqual(V(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=M(t.timestampValue),r=M(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return F(t.bytesValue).isEqual(F(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return L(t.geoPointValue.latitude)===L(e.geoPointValue.latitude)&&L(t.geoPointValue.longitude)===L(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return L(t.integerValue)===L(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=L(t.doubleValue),r=L(e.doubleValue);return n===r?z(n)===z(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return x(t.arrayValue.values||[],e.arrayValue.values||[],K);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(E(n)!==E(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!K(n[i],r[i])))return!1;return!0}(t,e);default:return g()}}function G(t,e){return void 0!==(t.values||[]).find(function(t){return K(t,e)})}function Y(t,e){var n=H(t),r=H(e);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=L(t.integerValue||t.doubleValue),r=L(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return $(t.timestampValue,e.timestampValue);case 4:return $(V(t),V(e));case 5:return w(t.stringValue,e.stringValue);case 6:return function(t,e){var n=F(t),r=F(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=w(L(t.latitude),L(e.latitude));return 0!==n?n:w(L(t.longitude),L(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Y(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=w(r[a],o[a]);if(0!==s)return s;var u=Y(n[r[a]],i[o[a]]);if(0!==u)return u}return w(r.length,o.length)}(t.mapValue,e.mapValue);default:throw g()}}function $(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return w(t,e);var n=M(t),r=M(e),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function Q(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=M(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?F(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,W.fromName(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):g();var n,r}(t)}function X(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function J(t){return!!t&&"integerValue"in t}function Z(t){return!!t&&"arrayValue"in t}function tt(t){return!!t&&"nullValue"in t}function et(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nt(t){return!!t&&"mapValue"in t}var rt=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(j.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return K(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===H(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=nt(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)}),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(j.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!nt(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function it(t){var e=[];return S(t.fields||{},function(t,n){var r=new j([t]);if(nt(n)){var i=it(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)}),new N(e)}var ot=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,T.min(),rt.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,rt.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,rt.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=rt.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=rt.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),at=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function st(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new at(t,e,n,r,i,o,a)}function ut(t){var e=y(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Q(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),B(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=wt(e.startAt)),e.endAt&&(n+="|ub:",n+=wt(e.endAt)),e.h=n}return e.h}function ct(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!kt(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!K(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tt(t.startAt,e.startAt)&&Tt(t.endAt,e.endAt)}function lt(t){return W.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ft=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(a.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ht(t,n,r):"array-contains"===n?new gt(t,r):"in"===n?new mt(t,r):"not-in"===n?new yt(t,r):"array-contains-any"===n?new bt(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new dt(t,n):new pt(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Y(e,this.value)):null!==e&&H(this.value)===H(e)&&this.m(Y(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return g()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ht=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=W.fromName(r.referenceValue),i}return Object(a.__extends)(e,t),e.prototype.matches=function(t){var e=W.comparator(t.key,this.key);return this.m(e)},e}(ft),dt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=vt("in",n),r}return Object(a.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ft),pt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=vt("not-in",n),r}return Object(a.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ft);function vt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return W.fromName(t.referenceValue)})}var gt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(a.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Z(e)&&G(e.arrayValue,this.value)},e}(ft),mt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(a.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&G(this.value.arrayValue,e)},e}(ft),yt=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(a.__extends)(e,t),e.prototype.matches=function(t){if(G(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!G(this.value.arrayValue,e)},e}(ft),bt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(a.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Z(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return G(e.value.arrayValue,t)})},e}(ft),_t=function(t,e){this.position=t,this.before=e};function wt(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Q(t)}).join(",")}var xt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function kt(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ot(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(a.referenceValue),n.key):Y(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Tt(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!K(t.position[n],e.position[n]))return!1;return!0}var Et=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function St(t,e,n,r,i,o,a,s){return new Et(t,e,n,r,i,o,a,s)}function It(t){return new Et(t)}function Ct(t){return!B(t.limit)&&"F"===t.limitType}function At(t){return!B(t.limit)&&"L"===t.limitType}function Pt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Nt(t){return null!==t.collectionGroup}function Rt(t){var e=y(t);if(null===e.p){e.p=[];var n=jt(e),r=Pt(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new xt(n)),e.p.push(new xt(j.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new xt(j.keyField(),u))}}}return e.p}function Dt(t){var e=y(t);if(!e.T)if("F"===e.limitType)e.T=st(e.path,e.collectionGroup,Rt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Rt(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new xt(o.field,a))}var s=e.endAt?new _t(e.endAt.position,!e.endAt.before):null,u=e.startAt?new _t(e.startAt.position,!e.startAt.before):null;e.T=st(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Mt(t,e,n){return new Et(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lt(t,e){return ct(Dt(t),Dt(e))&&t.limitType===e.limitType}function Ft(t){return ut(Dt(t))+"|lt:"+t.limitType}function Ut(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Q(e.value);var e}).join(", ")+"]"),B(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+wt(t.startAt)),t.endAt&&(e+=", endAt: "+wt(t.endAt)),"Target("+e+")"}(Dt(t))+"; limitType="+t.limitType+")"}function Vt(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):W.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ot(t.startAt,Rt(t),e))&&(!t.endAt||!Ot(t.endAt,Rt(t),e))}(t,e)}function Bt(t){return function(e,n){for(var r=!1,i=0,o=Rt(t);i<o.length;i++){var a=o[i],s=zt(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function zt(t,e,n){var r=t.field.isKeyField()?W.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Y(r,i):g()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}function qt(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z(e)?"-0":e}}function Wt(t){return{integerValue:""+t}}function Ht(t,e){return q(e)?Wt(e):qt(t,e)}var Kt=function(){this._=void 0};function Gt(t,e,n){return t instanceof Qt?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Xt?Jt(t,e):t instanceof Zt?te(t,e):function(t,e){var n=$t(t,e),r=ne(n)+ne(t.A);return J(n)&&J(t.A)?Wt(r):qt(t.R,r)}(t,e)}function Yt(t,e,n){return t instanceof Xt?Jt(t,e):t instanceof Zt?te(t,e):n}function $t(t,e){return t instanceof ee?J(n=e)||n&&"doubleValue"in n?e:{integerValue:0}:null;var n}var Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e}(Kt),Xt=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(a.__extends)(e,t),e}(Kt);function Jt(t,e){for(var n=re(e),r=function(t){n.some(function(e){return K(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Zt=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(a.__extends)(e,t),e}(Kt);function te(t,e){for(var n=re(e),r=function(t){n=n.filter(function(e){return!K(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ee=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(a.__extends)(e,t),e}(Kt);function ne(t){return L(t.integerValue||t.doubleValue)}function re(t){return Z(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ie=function(t,e){this.field=t,this.transform=e},oe=function(t,e){this.version=t,this.transformResults=e},ae=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function se(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ue=function(){};function ce(t,e,n){t instanceof pe?function(t,e,n){var r=t.value.clone(),i=me(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ve?function(t,e,n){if(se(t.precondition,e)){var r=me(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ge(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function le(t,e,n){t instanceof pe?function(t,e,n){if(se(t.precondition,e)){var r=t.value.clone(),i=ye(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(de(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ve?function(t,e,n){if(se(t.precondition,e)){var r=ye(t.fieldTransforms,n,e),i=e.data;i.setAll(ge(t)),i.setAll(r),e.convertToFoundDocument(de(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){se(t.precondition,e)&&e.convertToNoDocument(T.min())}(t,e)}function fe(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=$t(o.transform,a||null);null!=s&&(null==n&&(n=rt.empty()),n.set(o.field,s))}return n||null}function he(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&x(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Xt&&e instanceof Xt||t instanceof Zt&&e instanceof Zt?x(t.elements,e.elements,K):t instanceof ee&&e instanceof ee?K(t.A,e.A):t instanceof Qt&&e instanceof Qt}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function de(t){return t.isFoundDocument()?t.version:T.min()}var pe=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(a.__extends)(e,t),e}(ue),ve=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(a.__extends)(e,t),e}(ue);function ge(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function me(t,e,n){var r=new Map;m(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Yt(a,s,n[i]))}return r}function ye(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Gt(s,u,e))}return r}var be,_e,we=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(a.__extends)(e,t),e}(ue),xe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(a.__extends)(e,t),e}(ue),ke=function(t){this.count=t};function Oe(t){switch(t){case u.OK:return g();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return g()}}function Te(t){if(void 0===t)return d("GRPC error has no .code"),u.UNKNOWN;switch(t){case be.OK:return u.OK;case be.CANCELLED:return u.CANCELLED;case be.UNKNOWN:return u.UNKNOWN;case be.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case be.INTERNAL:return u.INTERNAL;case be.UNAVAILABLE:return u.UNAVAILABLE;case be.UNAUTHENTICATED:return u.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case be.NOT_FOUND:return u.NOT_FOUND;case be.ALREADY_EXISTS:return u.ALREADY_EXISTS;case be.PERMISSION_DENIED:return u.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case be.ABORTED:return u.ABORTED;case be.OUT_OF_RANGE:return u.OUT_OF_RANGE;case be.UNIMPLEMENTED:return u.UNIMPLEMENTED;case be.DATA_LOSS:return u.DATA_LOSS;default:return g()}}(_e=be||(be={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var Ee=function(){function t(t,e){this.comparator=t,this.root=e||Ie.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ie.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ie.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Se(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Se(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Se(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Se(this.root,t,this.comparator,!0)},t}(),Se=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ie=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var t=this.left.check();if(t!==this.right.check())throw g();return t+(this.isRed()?0:1)},t}();Ie.EMPTY=null,Ie.RED=!0,Ie.BLACK=!1,Ie.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ie(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ce=function(){function t(t){this.comparator=t,this.data=new Ee(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ae(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ae(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ae=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Pe=new Ee(W.comparator);function je(){return Pe}var Ne=new Ee(W.comparator);function Re(){return Ne}var De=new Ee(W.comparator);function Me(){return De}var Le=new Ce(W.comparator);function Fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Le,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ue=new Ce(w);function Ve(){return Ue}var Be=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ze.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(T.min(),r,Ve(),je(),Fe())},t}(),ze=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(R.EMPTY_BYTE_STRING,n,Fe(),Fe(),Fe())},t}(),qe=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},We=function(t,e){this.targetId=t,this.V=e},He=function(t,e,n,r){void 0===n&&(n=R.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ke=function(){function t(){this.S=0,this.D=$e(),this.C=R.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Fe(),e=Fe(),n=Fe();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:g()}}),new ze(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=$e()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Ge=function(){function t(t){this.W=t,this.G=new Map,this.H=je(),this.J=Ye(),this.Y=new Ce(w)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:g()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(lt(i))if(0===n){var o=new W(i.path);this.tt(e,o,ot.newNoDocument(o,T.min()))}else m(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&lt(o.target)){var a=new W(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,ot.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Fe();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Be(t,n,this.Y,this.H,r);return this.H=je(),this.J=Ye(),this.Y=new Ce(w),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ke,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ce(w),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||h("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ke),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ye(){return new Ee(W.comparator)}function $e(){return new Ee(W.comparator)}var Qe={asc:"ASCENDING",desc:"DESCENDING"},Xe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Je=function(t,e){this.databaseId=t,this.I=e};function Ze(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function tn(t,e){return t.I?e.toBase64():e.toUint8Array()}function en(t,e){return Ze(t,e.toTimestamp())}function nn(t){return m(!!t),T.fromTimestamp(function(t){var e=M(t);return new O(e.seconds,e.nanos)}(t))}function rn(t,e){return function(t){return new A(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function on(t){var e=A.fromString(t);return m(In(e)),e}function an(t,e){return rn(t.databaseId,e.path)}function sn(t,e){var n=on(e);if(n.get(1)!==t.databaseId.projectId)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(fn(n))}function un(t,e){return rn(t.databaseId,e)}function cn(t){var e=on(t);return 4===e.length?A.emptyPath():fn(e)}function ln(t){return new A(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fn(t){return m(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hn(t,e,n){return{name:an(t,e),fields:n.toProto().mapValue.fields}}function dn(t,e,n){var r=sn(t,e.name),i=nn(e.updateTime),o=new rt({mapValue:{fields:e.fields}}),a=ot.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function pn(t,e){var n;if(e instanceof pe)n={update:hn(t,e.key,e.value)};else if(e instanceof we)n={delete:an(t,e.key)};else if(e instanceof ve)n={update:hn(t,e.key,e.data),updateMask:Sn(e.fieldMask)};else{if(!(e instanceof xe))return g();n={verify:an(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Qt)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xt)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zt)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ee)return{fieldPath:e.field.canonicalString(),increment:n.A};throw g()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:en(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g()}(t,e.precondition)),n}function vn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ae.updateTime(nn(t.updateTime)):void 0!==t.exists?ae.exists(t.exists):ae.none()}(e.currentDocument):ae.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;if("setToServerValue"in e)m("REQUEST_TIME"===e.setToServerValue),n=new Qt;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Xt(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Zt(i)}else"increment"in e?n=new ee(t,e.increment):g();var o=j.fromServerFormat(e.fieldPath);return new ie(o,n)}(t,e)}):[];if(e.update){e.update.name;var i=sn(t,e.update.name),o=new rt({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new N(e.map(function(t){return j.fromServerFormat(t)}))}(e.updateMask);return new ve(i,o,a,n,r)}return new pe(i,o,n,r)}if(e.delete){var s=sn(t,e.delete);return new we(s,n)}if(e.verify){var u=sn(t,e.verify);return new xe(u,n)}return g()}function gn(t,e){return{documents:[un(t,e.path)]}}function mn(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=un(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=un(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(et(t.value))return{unaryFilter:{field:kn(t.field),op:"IS_NAN"}};if(tt(t.value))return{unaryFilter:{field:kn(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(et(t.value))return{unaryFilter:{field:kn(t.field),op:"IS_NOT_NAN"}};if(tt(t.value))return{unaryFilter:{field:kn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kn(t.field),op:xn(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:kn(t.field),direction:wn(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||B(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=bn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=bn(e.endAt)),n}function yn(t){var e=cn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){m(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[En(e)]:void 0!==e.fieldFilter?[Tn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):g():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new xt(On(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return B(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=_n(n.startAt));var l=null;return n.endAt&&(l=_n(n.endAt)),St(e,i,s,a,u,"F",c,l)}function bn(t){return{before:t.before,values:t.position}}function _n(t){var e=!!t.before,n=t.values||[];return new _t(n,e)}function wn(t){return Qe[t]}function xn(t){return Xe[t]}function kn(t){return{fieldPath:t.canonicalString()}}function On(t){return j.fromServerFormat(t.fieldPath)}function Tn(t){return ft.create(On(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(t.fieldFilter.op),t.fieldFilter.value)}function En(t){switch(t.unaryFilter.op){case"IS_NAN":var e=On(t.unaryFilter.field);return ft.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=On(t.unaryFilter.field);return ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=On(t.unaryFilter.field);return ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=On(t.unaryFilter.field);return ft.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function Sn(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function In(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Cn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Pn(e)),e=An(t.get(n),e);return Pn(e)}function An(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Pn(t){return t+"\x01\x01"}function jn(t){var e=t.length;if(m(e>=2),2===e)return m("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),A.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&g(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:g()}o=a+2}return new A(r)}var Nn=function(t,e){this.seconds=t,this.nanoseconds=e},Rn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Rn.store="owner",Rn.key="owner";var Dn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Dn.store="mutationQueues",Dn.keyPath="userId";var Mn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Mn.store="mutations",Mn.keyPath="batchId",Mn.userMutationsIndex="userMutationsIndex",Mn.userMutationsKeyPath=["userId","batchId"];var Ln=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Cn(e)]},t.key=function(t,e,n){return[t,Cn(e),n]},t}();Ln.store="documentMutations",Ln.PLACEHOLDER=new Ln;var Fn=function(t,e){this.path=t,this.readTime=e},Un=function(t,e){this.path=t,this.version=e},Vn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Vn.store="remoteDocuments",Vn.readTimeIndex="readTimeIndex",Vn.readTimeIndexPath="readTime",Vn.collectionReadTimeIndex="collectionReadTimeIndex",Vn.collectionReadTimeIndexPath=["parentPath","readTime"];var Bn=function(t){this.byteSize=t};Bn.store="remoteDocumentGlobal",Bn.key="remoteDocumentGlobalKey";var zn=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};zn.store="targets",zn.keyPath="targetId",zn.queryTargetsIndexName="queryTargetsIndex",zn.queryTargetsKeyPath=["canonicalId","targetId"];var qn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};qn.store="targetDocuments",qn.keyPath=["targetId","path"],qn.documentTargetsIndex="documentTargetsIndex",qn.documentTargetsKeyPath=["path","targetId"];var Wn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Hn=function(t,e){this.collectionId=t,this.parent=e};Hn.store="collectionParents",Hn.keyPath=["collectionId","parent"];var Kn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Kn.store="clientMetadata",Kn.keyPath="clientId";var Gn=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Gn.store="bundles",Gn.keyPath="bundleId";var Yn=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Yn.store="namedQueries",Yn.keyPath="name";var $n=Object(a.__spreadArray)(Object(a.__spreadArray)([],Object(a.__spreadArray)(Object(a.__spreadArray)([],Object(a.__spreadArray)(Object(a.__spreadArray)([],Object(a.__spreadArray)(Object(a.__spreadArray)([],[Dn.store,Mn.store,Ln.store,Vn.store,zn.store,Rn.store,Wn.store,qn.store]),[Kn.store])),[Bn.store])),[Hn.store])),[Gn.store,Yn.store]),Qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Jn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Zn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),tr=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Jn,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new rr(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=ur(e.target.error);n.ft.reject(new rr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new rr(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(h("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new or(e)},t}(),er=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,12.2===e._t(Object(r.getUA)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return h("SimpleDb","Removing database:",t),ar(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(r.getUA)(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)},e.gt=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===e?void 0:e.Tt)},e.It=function(t,e){return t.store(e)},e._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(h("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new rr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new rr(t,n))},i.onupgradeneeded=function(t){h("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next(function(){h("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,function(){var i,o,s,u,c;return Object(a.__generator)(this,function(l){switch(l.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,l,f;return Object(a.__generator)(this,function(a){switch(a.label){case 0:++o,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=a.sent(),e=tr.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Zn.reject(t)}).toPromise(),c={},s.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(a.sent(),s),c)];case 4:return l=a.sent(),f="FirebaseError"!==l.name&&o<3,h("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),nr=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return ar(this.Pt.delete())},t}(),rr=function(t){function e(e,n){var r=this;return(r=t.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(a.__extends)(e,t),e}(c);function ir(t){return"IndexedDbTransactionError"===t.name}var or=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(h("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(h("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ar(n)},t.prototype.add=function(t){return h("SimpleDb","ADD",this.store.name,t,t),ar(this.store.add(t))},t.prototype.get=function(t){var e=this;return ar(this.store.get(t)).next(function(n){return void 0===n&&(n=null),h("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return h("SimpleDb","DELETE",this.store.name,t),ar(this.store.delete(t))},t.prototype.count=function(){return h("SimpleDb","COUNT",this.store.name),ar(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){h("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Zn(function(n,r){e.onerror=function(t){var e=ur(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Zn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new nr(i),a=e(i.primaryKey,i.value,o);if(a instanceof Zn){var s=a.catch(function(t){return o.done(),Zn.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Zn.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ar(t){return new Zn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=ur(t.target.error);n(e)}})}var sr=!1;function ur(t){var e=er._t(Object(r.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sr||(sr=!0,setTimeout(function(){throw i},0)),i}}return t}var cr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(a.__extends)(e,t),e}(Xn);function lr(t,e){var n=y(t);return er.It(n.Mt,e)}var fr=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ce(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&le(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&le(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(T.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Fe())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&x(this.mutations,t.mutations,function(t,e){return he(t,e)})&&x(this.baseMutations,t.baseMutations,function(t,e){return he(t,e)})},t}(),hr=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){m(e.mutations.length===r.length);for(var i=Me(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),dr=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=T.min()),void 0===o&&(o=T.min()),void 0===a&&(a=R.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),pr=function(t){this.Lt=t};function vr(t,e){if(e.document)return dn(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=W.fromSegments(e.noDocument.path),r=_r(e.noDocument.readTime),i=ot.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=W.fromSegments(e.unknownDocument.path);return r=_r(e.unknownDocument.version),ot.newUnknownDocument(o,r)}return g()}function gr(t,e,n){var r=mr(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:an(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Ze(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Vn(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=br(e.version);return a=e.hasCommittedMutations,new Vn(null,new Fn(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=br(e.version);return new Vn(new Un(c,l),null,null,!0,r,i)}return g()}function mr(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yr(t){var e=new O(t[0],t[1]);return T.fromTimestamp(e)}function br(t){var e=t.toTimestamp();return new Nn(e.seconds,e.nanoseconds)}function _r(t){var e=new O(t.seconds,t.nanoseconds);return T.fromTimestamp(e)}function wr(t,e){for(var n=(e.baseMutations||[]).map(function(e){return vn(t.Lt,e)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(e){return vn(t.Lt,e)}),s=O.fromMillis(e.localWriteTimeMs);return new fr(e.batchId,s,n,a)}function xr(t){var e,n,r=_r(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?_r(t.lastLimboFreeSnapshotVersion):T.min();return void 0!==t.query.documents?(m(1===(n=t.query).documents.length),e=Dt(It(cn(n.documents[0])))):e=function(t){return Dt(yn(t))}(t.query),new dr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,R.fromBase64String(t.resumeToken))}function kr(t,e){var n,r=br(e.snapshotVersion),i=br(e.lastLimboFreeSnapshotVersion);n=lt(e.target)?gn(t.Lt,e.target):mn(t.Lt,e.target);var o=e.resumeToken.toBase64();return new zn(e.targetId,ut(e.target),r,o,e.sequenceNumber,i,n)}function Or(t){var e=yn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Mt(e,e.limit,"L"):e}var Tr=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Er(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:_r(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Er(t).put({bundleId:(n=e).id,createTime:br(nn(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Sr(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Or(e.bundledQuery),readTime:_r(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Sr(t).put(function(t){return{name:t.name,readTime:br(nn(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Er(t){return lr(t,Gn.store)}function Sr(t){return lr(t,Yn.store)}var Ir=function(){function t(){this.Bt=new Cr}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Zn.resolve()},t.prototype.getCollectionParents=function(t,e){return Zn.resolve(this.Bt.getEntries(e))},t}(),Cr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ce(A.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ce(A.comparator)).toArray()},t}(),Ar=function(){function t(){this.qt=new Cr}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Cn(i)};return Pr(t).put(o)}return Zn.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[k(e),""],!1,!0);return Pr(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(jn(o.parent))}return n})},t}();function Pr(t){return lr(t,Hn.store)}var jr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Rr(t,e,n){var r=t.store(Mn.store),i=t.store(Ln.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){m(1===s)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Ln.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Zn.waitFor(o).next(function(){return c})}function Dr(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g();e=t.noDocument}return JSON.stringify(e).length}Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);var Mr=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return m(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fr(t).Ot({index:Mn.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Ur(t),a=Fr(t);return a.add({}).next(function(s){m("number"==typeof s);for(var u=new fr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return pn(t.Lt,e)}),i=n.mutations.map(function(e){return pn(t.Lt,e)});return new Mn(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Ce(function(t,e){return w(t.canonicalString(),e.canonicalString())}),h=0,d=r;h<d.length;h++){var p=d[h],v=Ln.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Ln.PLACEHOLDER))}return f.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[s]=u.keys()}),Zn.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Fr(t).get(e).next(function(t){return t?(m(t.userId===n.userId),wr(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Zn.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fr(t).Ot({index:Mn.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(m(e.batchId>=r),o=wr(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fr(t).Ot({index:Mn.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fr(t).Nt(Mn.userMutationsIndex,n).next(function(t){return t.map(function(t){return wr(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ln.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ur(t).Ot({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=jn(u);if(s===n.userId&&e.path.isEqual(l))return Fr(t).get(c).next(function(t){if(!t)throw g();m(t.userId===n.userId),o.push(wr(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ce(w),i=[];return e.forEach(function(e){var o=Ln.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Ur(t).Ot({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=jn(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Zn.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ln.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ce(w);return Ur(t).Ot({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=jn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Fr(t).get(e).next(function(t){if(null===t)throw g();m(t.userId===n.userId),r.push(wr(n.R,t))}))}),Zn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Rr(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Zn.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Zn.resolve();var r=IDBKeyRange.lowerBound(Ln.prefixForUser(e.userId)),i=[];return Ur(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=jn(t[1]);i.push(o)}else r.done()}).next(function(){m(0===i.length)})})},t.prototype.containsKey=function(t,e){return Lr(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Vr(t).get(this.userId).next(function(t){return t||new Dn(e.userId,-1,"")})},t}();function Lr(t,e,n){var r=Ln.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ur(t).Ot({range:o,kt:!0},function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Fr(t){return lr(t,Mn.store)}function Ur(t){return lr(t,Ln.store)}function Vr(t){return lr(t,Dn.store)}var Br=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),zr=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Br(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return T.fromTimestamp(new O(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return qr(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return m(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return qr(t).Ot(function(a,s){var u=xr(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Zn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return qr(t).Ot(function(t,n){var r=xr(n);e(r)})},t.prototype.Xt=function(t){return Wr(t).get(Wn.key).next(function(t){return m(null!==t),t})},t.prototype.Zt=function(t,e){return Wr(t).put(Wn.key,e)},t.prototype.te=function(t,e){return qr(t).put(kr(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=ut(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return qr(t).Ot({range:r,index:zn.queryTargetsIndexName},function(t,n,r){var o=xr(n);ct(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Hr(t);return e.forEach(function(e){var a=Cn(e.path);i.push(o.put(new qn(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),Zn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Hr(t);return Zn.forEach(e,function(e){var o=Cn(e.path);return Zn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Hr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hr(t),i=Fe();return r.Ot({range:n,kt:!0},function(t,e,n){var r=jn(t[1]),o=new W(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Cn(e.path),r=IDBKeyRange.bound([n],[k(n)],!1,!0),i=0;return Hr(t).Ot({index:qn.documentTargetsIndex,kt:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return qr(t).get(e).next(function(t){return t?xr(t):null})},t}();function qr(t){return lr(t,zn.store)}function Wr(t){return lr(t,Wn.store)}function Hr(t){return lr(t,qn.store)}function Kr(t){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){if(t.code!==u.FAILED_PRECONDITION||t.message!==Qn)throw t;return h("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Gr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=w(n,i);return 0===a?w(r,o):a}var Yr=function(){function t(t){this.ne=t,this.buffer=new Ce(Gr),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Gr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),$r=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;h("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(a.__awaiter)(e,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ir(e=n.sent())?(h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Kr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Qr=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Zn.resolve(s.o);var r=new Yr(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; disabled"),Zn.resolve(jr)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jr):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,o,a,s,u,c,l=this,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return o=e,u=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),f()<=i.LogLevel.DEBUG&&h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),Zn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t})})},t}(),Xr=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Qr(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Jr(t,n)},t.prototype.removeReference=function(t,e,n){return Jr(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Jr(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Vr(t).$t(function(r){return Lr(t,r,e).next(function(t){return t&&(n=!0),Zn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),Hr(t).delete([0,Cn(a.path)])})});i.push(u)}}).next(function(){return Zn.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Jr(t,e)},t.prototype.we=function(t,e){var n,r=Hr(t),i=s.o;return r.Ot({index:qn.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==s.o&&e(new W(jn(n)),i),i=u,n=a):i=s.o}).next(function(){i!==s.o&&e(new W(jn(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Jr(t,e){return Hr(t).put(function(t,e){return new qn(0,Cn(t.path),e)}(e,t.currentSequenceNumber))}var Zr=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){S(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return I(this.inner)},t}(),ti=function(){function t(){this.changes=new Zr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:T.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ot.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Zn.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ei=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return ii(t).put(oi(e),n)},t.prototype.removeEntry=function(t,e){var n=ii(t),r=oi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return ii(t).get(oi(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return ii(t).get(oi(e)).next(function(t){return{document:n.ye(e,t),size:Dr(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=je();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=je(),i=new Ee(W.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Dr(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Zn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ii(t).Ot({range:r},function(t,e,r){for(var a=W.fromSegments(t);o&&W.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=je(),o=e.path.length+1,a={};if(n.isEqual(T.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=mr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Vn.collectionReadTimeIndex}return ii(t).Ot(a,function(t,n,a){if(t.length===o){var s=vr(r.R,n);e.path.isPrefixOf(s.key.path)?Vt(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ni(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ri(t).get(Bn.key).next(function(t){return m(!!t),t})},t.prototype.me=function(t,e){return ri(t).put(Bn.key,e)},t.prototype.ye=function(t,e){if(e){var n=vr(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(T.min()))return n}return ot.newInvalidDocument(t)},t}(),ni=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Zr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(a.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ce(function(t,e){return w(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=gr(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Dr(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=gr(e.Ie.R,ot.newNoDocument(o,T.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Zn.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ti);function ri(t){return lr(t,Bn.store)}function ii(t){return lr(t,Vn.store)}function oi(t){return t.path.toArray()}var ai=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=11);var o=new tr("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Rn.store)}(t),function(t){t.createObjectStore(Dn.store,{keyPath:Dn.keyPath}),t.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ln.store)}(t),si(t),function(t){t.createObjectStore(Vn.store)}(t));var a=Zn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(qn.store),t.deleteObjectStore(zn.store),t.deleteObjectStore(Wn.store)}(t),si(t)),a=a.next(function(){return function(t){var e=o.store(Wn.store),n=new Wn(0,0,T.min().toTimestamp(),0);return e.put(Wn.key,n)}()})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(Mn.store).Nt().next(function(n){t.deleteObjectStore(Mn.store),t.createObjectStore(Mn.store,{keyPath:Mn.keyPath,autoIncrement:!0}).createIndex(Mn.userMutationsIndex,Mn.userMutationsKeyPath,{unique:!0});var r=e.store(Mn.store),i=n.map(function(t){return r.put(t)});return Zn.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Kn.store,{keyPath:Kn.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Bn.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Vn.store);e.createIndex(Vn.readTimeIndex,Vn.readTimeIndexPath,{unique:!1}),e.createIndex(Vn.collectionReadTimeIndex,Vn.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Gn.store,{keyPath:Gn.keyPath})}(t),function(t){t.createObjectStore(Yn.store,{keyPath:Yn.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(Vn.store).Ot(function(t,n){e+=Dr(n)}).next(function(){var n=new Bn(e);return t.store(Bn.store).put(Bn.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Dn.store),r=t.store(Mn.store);return n.Nt().next(function(n){return Zn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Mn.userMutationsIndex,i).next(function(r){return Zn.forEach(r,function(r){m(r.userId===n.userId);var i=wr(e.R,r);return Rr(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(qn.store),n=t.store(Vn.store);return t.store(Wn.store).get(Wn.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new A(n),a=[0,Cn(o)];r.push(e.get(a).next(function(n){return n?Zn.resolve():function(n){return e.put(new qn(0,Cn(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Zn.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Hn.store,{keyPath:Hn.keyPath});var n=e.store(Hn.store),r=new Cr,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Cn(i)})}};return e.store(Vn.store).Ot({kt:!0},function(t,e){var n=new A(t);return i(n.popLast())}).next(function(){return e.store(Ln.store).Ot({kt:!0},function(t,e){t[0];var n=t[1],r=(t[2],jn(n));return i(r.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(zn.store);return n.Ot(function(t,r){var i=xr(r),o=kr(e.R,i);return n.put(o)})},t}();function si(t){t.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.documentTargetsIndex,qn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.queryTargetsIndexName,zn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wn.store)}var ui="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ci=function(){function t(e,n,r,i,o,a,s,l,f,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=f,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xr(this,i),this.Le=n+"main",this.R=new pr(l),this.Be=new er(this.Le,11,new ai(this.R)),this.qe=new zr(this.referenceDelegate,this.R),this.Ut=new Ar,this.Ue=function(t,e){return new ei(t,e)}(this.R,this.Ut),this.Qe=new Tr,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===h&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,ui);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new s(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(a.__awaiter)(e,void 0,void 0,function(){return Object(a.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(a.__awaiter)(e,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(a.__awaiter)(e,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return fi(e).put(new Kn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(ir(e))return h("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return li(t).get(Rn.key).next(function(t){return Zn.resolve(e.tn(t))})},t.prototype.en=function(t){return fi(t).delete(this.clientId)},t.prototype.nn=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i=this;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=lr(t,Kn.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return Zn.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Zn.resolve(!0):li(t).get(Rn.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,ui);return!1}}return!(!e.networkEnabled||!e.inForeground)||fi(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&h("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t=this;return Object(a.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Rn.store,Kn.store],function(e){var n=new cr(e,s.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return fi(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Mr.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;h("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,$n,function(o){return i=new cr(o,r.Ne?r.Ne.next():s.o),"readwrite-primary"===e?r.Je(i).next(function(t){return!!t||r.Ye(i)}).next(function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new c(u.FAILED_PRECONDITION,Qn);return n(i)}).next(function(t){return r.Ze(i).next(function(){return t})}):r.dn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return li(t).get(Rn.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,ui)})},t.prototype.Ze=function(t){var e=new Rn(this.clientId,this.allowTabSynchronization,Date.now());return li(t).put(Rn.key,e)},t.yt=function(){return er.yt()},t.prototype.Xe=function(t){var e=this,n=li(t);return n.get(Rn.key).next(function(t){return e.tn(t)?(h("IndexedDbPersistence","Releasing primary lease."),n.delete(Rn.key)):Zn.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return h("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function li(t){return lr(t,Rn.store)}function fi(t){return lr(t,Kn.store)}function hi(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var di=function(t,e){this.progress=t,this.wn=e},pi=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return W.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Nt(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new W(e)).next(function(t){var e=Re();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Re();return this.Ut.getCollectionParents(t,i).next(function(a){return Zn.forEach(a,function(a){var s=function(t,e){return new Et(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.Rn(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ot.newInvalidDocument(c),r=r.insert(c,l)),le(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Vt(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Fe(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ve&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),vi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Fe(),i=Fe(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),gi=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(T.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(a){var s=o.Cn(e,a);return(Ct(e)||At(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(f()<=i.LogLevel.DEBUG&&h("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ut(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Ce(Bt(t));return e.forEach(function(e,r){Vt(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return f()<=i.LogLevel.DEBUG&&h("QueryEngine","Using full collection scan to execute query:",Ut(e)),this.Sn.getDocumentsMatchingQuery(t,e,T.min())},t}(),mi=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ee(w),this.kn=new Zr(function(t){return ut(t)},ct),this.On=T.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new pi(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function yi(t,e,n,r){return new mi(t,e,n,r)}function bi(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return n=y(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new pi(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Fe(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function _i(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Zn.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);m(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function wi(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function xi(t,e){var n=y(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return m(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=je();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(ki(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(T.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return Zn.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.Fn=i,t})}function ki(t,e,n,r,i){var o=Fe();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=je();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(T.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Oi(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Ti(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?(r=i,Zn.resolve(r)):n.qe.allocateTargetId(t).next(function(i){return r=new dr(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Ei(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(a.__generator)(this,function(a){switch(a.label){case 0:r=y(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ir(s=a.sent()))throw s;return h("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Si(t,e,n){var r=y(t),i=T.min(),o=Fe();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=y(t),i=r.kn.get(n);return void 0!==i?Zn.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Dt(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:T.min(),n?o:Fe())}).next(function(t){return{documents:t,Bn:o}})})}function Ii(t,e){var n=y(t),r=y(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Ci(t){var e=y(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=y(t),i=je(),o=mr(n),a=ii(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Vn.readTimeIndex,range:s},function(t,e){var n=vr(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:yr(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn,r=t.readTime;return e.On=r,n})}function Ai(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){return[2,(e=y(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=ii(t),n=T.min();return e.Ot({index:Vn.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=yr(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Pi(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,function(){var i,o,s,u,c,l,f,h,d,p;return Object(a.__generator)(this,function(a){switch(a.label){case 0:for(i=y(t),o=Fe(),s=je(),u=Me(),c=0,l=n;c<l.length;c++)f=l[c],h=e.qn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,e.Un(f)),u=u.insert(h,e.Qn(f.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Ti(i,function(t){return Dt(It(A.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return ki(t,d,s,T.min(),u).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return i.qe.addMatchingKeys(t,o,p.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function ji(t,e,n){return void 0===n&&(n=Fe()),Object(a.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return[4,Ti(t,Dt(Or(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=y(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=nn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(R.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Ni=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Zn.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:nn(n.createTime)}),Zn.resolve()},t.prototype.getNamedQuery=function(t,e){return Zn.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Or(t.bundledQuery),readTime:nn(t.readTime)}}(e)),Zn.resolve()},t}(),Ri=function(){function t(){this.Wn=new Ce(Di.Gn),this.zn=new Ce(Di.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Di(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Di(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new W(new A([])),r=new Di(n,t),i=new Di(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new W(new A([])),n=new Di(e,t),r=new Di(e,t+1),i=Fe();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Di(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Di=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return W.comparator(t.key,e.key)||w(t.ns,e.ns)},t.Hn=function(t,e){return w(t.ns,e.ns)||W.comparator(t.key,e.key)},t}(),Mi=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ce(Di.Gn)}return t.prototype.checkEmpty=function(t){return Zn.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new fr(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Di(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Zn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Zn.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Zn.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Zn.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Zn.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Di(e,0),i=new Di(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Zn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ce(w);return e.forEach(function(t){var e=new Di(t,0),i=new Di(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Zn.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;W.isDocumentKey(i)||(i=i.child(""));var o=new Di(new W(i),0),a=new Ce(w);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),Zn.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;m(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Zn.forEach(e.mutations,function(i){var o=new Di(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Di(e,0),r=this.rs.firstAfterOrEqual(n);return Zn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Zn.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Li=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ee(W.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Zn.resolve(n?n.document.clone():ot.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=je();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ot.newInvalidDocument(t))}),Zn.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=je(),i=new W(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Vt(e,c)&&(r=r.insert(c.key,c.clone()))}return Zn.resolve(r)},t.prototype.fs=function(t,e){return Zn.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Fi(this)},t.prototype.getSize=function(t){return Zn.resolve(this.size)},t}(),Fi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(a.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Zn.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ti),Ui=function(){function t(t){this.persistence=t,this.ds=new Zr(function(t){return ut(t)},ct),this.lastRemoteSnapshotVersion=T.min(),this.highestTargetId=0,this.ws=0,this._s=new Ri,this.targetCount=0,this.ys=Br.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Zn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Zn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Zn.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Zn.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Zn.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Br(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Zn.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Zn.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Zn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Zn.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Zn.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Zn.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Zn.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Zn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Zn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Zn.resolve(n)},t.prototype.containsKey=function(t,e){return Zn.resolve(this._s.containsKey(e))},t}(),Vi=function(){function t(t,e){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ui(this),this.Ut=new Ir,this.Ue=function(t,e){return new Li(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new pr(e),this.Qe=new Ni(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Mi(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;h("MemoryPersistence","Starting transaction:",t);var i=new Bi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Zn.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Bi=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(a.__extends)(e,t),e}(Xn),zi=function(){function t(t){this.persistence=t,this.As=new Ri,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Zn.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Zn.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Zn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zn.forEach(this.vs,function(r){var i=W.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Zn.or([function(){return Zn.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),qi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Wi(t,e){return"firestore_clients_"+t+"_"+e}function Hi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ki(t,e){return"firestore_targets_"+t+"_"+e}qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid");var Gi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new c(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new c(i.error.code,i.error.message)),o?new t(e,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$i=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ve(),a=0;i&&a<r.activeTargetIds.length;++a)i=q(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Qi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xi=function(){function t(){this.activeTargetIds=Ve()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ji=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ee(w),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Wi(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Xi),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,c,l,f,h=this;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Wi(this.persistenceKey,r)))&&(o=$i.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.Os;c<l.length;c++)f=l[c],this.Fs(f);return this.Os=[],this.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ki(this.persistenceKey,t));if(n){var r=Yi.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ki(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return h("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){h("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){h("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(h("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(a.__awaiter)(e,void 0,void 0,function(){var t,e,r,i,o,u;return Object(a.__generator)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(u=function(t){var e=s.o;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Gi(this.currentUser,t,e,n),i=Hi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Hi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Ki(this.persistenceKey,t),i=new Yi(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return $i.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Gi.Vs(new qi(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Yi.Vs(r,e)},t.prototype.js=function(t){return Qi.Vs(t)},t.prototype.ii=function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(h("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ve();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Zi=function(){function t(){this.li=new Xi,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Xi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),to=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),eo=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),no={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ro=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),io=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(a.__extends)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,a){var s=new o.f;s.listenOnce(o.c.COMPLETE,function(){try{switch(s.getLastErrorCode()){case o.a.NO_ERROR:var e=s.getResponseJson();h("Connection","XHR received:",JSON.stringify(e)),i(e);break;case o.a.TIMEOUT:h("Connection",'RPC "'+t+'" timed out'),a(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case o.a.HTTP_ERROR:var n=s.getStatus();if(h("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var l=function(t){var e=r.status.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(e)>=0?e:u.UNKNOWN}();a(new c(l,r.message))}else a(new c(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new c(u.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{h("Connection",'RPC "'+t+'" completed.')}});var l=JSON.stringify(r);s.send(e,"POST",l,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Object(o.g)(),a=Object(o.h)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(r.isMobileCordova)()||Object(r.isReactNative)()||Object(r.isElectron)()||Object(r.isIE)()||Object(r.isUWP)()||Object(r.isBrowserExtension)()||(s.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");h("Connection","Creating WebChannel: "+l,s);var f=i.createWebChannel(l,s),d=!1,v=!1,g=new ro({Ei:function(t){v?h("Connection","Not sending because WebChannel is closed:",t):(d||(h("Connection","Opening WebChannel transport."),f.open(),d=!0),h("Connection","WebChannel sending:",t),f.send(t))},Ti:function(){return f.close()}}),y=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return y(f,o.e.EventType.OPEN,function(){v||h("Connection","WebChannel transport opened.")}),y(f,o.e.EventType.CLOSE,function(){v||(v=!0,h("Connection","WebChannel transport closed"),g.Vi())}),y(f,o.e.EventType.ERROR,function(t){v||(v=!0,p("Connection","WebChannel transport errored:",t),g.Vi(new c(u.UNAVAILABLE,"The operation could not be completed")))}),y(f,o.e.EventType.MESSAGE,function(t){var e;if(!v){var n=t.data[0];m(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){h("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=be[o];if(void 0!==e)return Te(e)}(),s=i.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),v=!0,g.Vi(new c(a,s)),f.close()}else h("Connection","WebChannel received:",n),g.Si(n)}}),y(a,o.b.STAT_EVENT,function(t){t.stat===o.d.PROXY?h("Connection","Detected buffering proxy"):t.stat===o.d.NOPROXY&&h("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);h("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return h("RestConnection","Received: ",t),t},function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=no[t];return this.Di+"/v1/"+e+":"+n},t}());function oo(){return"undefined"!=typeof window?window:null}function ao(){return"undefined"!=typeof document?document:null}function so(t){return new Je(t,!0)}var uo=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&h("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),co=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new uo(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===u.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return h("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),lo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(a.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:g()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(m(void 0===e||"string"==typeof e),R.fromBase64String(e||"")):(m(void 0===e||e instanceof Uint8Array),R.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?u.UNKNOWN:Te(t.code);return new c(e,t.message||"")}(s);n=new He(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=sn(t,r.document.name),o=nn(r.document.updateTime);var s=new rt({mapValue:{fields:r.document.fields}}),l=(a=ot.newFoundDocument(i,o,s),r.targetIds||[]),f=r.removedTargetIds||[];n=new qe(l,f,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=sn(t,r.document),o=r.readTime?nn(r.readTime):T.min(),s=ot.newNoDocument(i,o),a=r.removedTargetIds||[],n=new qe([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=sn(t,r.document),o=r.removedTargetIds||[],n=new qe([],o,i,null);else{if(!("filter"in e))return g();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new ke(r),o=h.targetId,n=new We(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return T.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?T.min():e.readTime?nn(e.readTime):T.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ln(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=lt(r)?{documents:gn(t,r)}:{query:mn(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=tn(t,e.resumeToken):e.snapshotVersion.compareTo(T.min())>0&&(n.readTime=Ze(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ln(this.R),e.removeTarget=t,this.cr(e)},e}(co),fo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(m(void 0!==e),t.map(function(t){return function(t,e){var n=t.updateTime?nn(t.updateTime):nn(e);return n.isEqual(T.min())&&(n=nn(e)),new oe(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=nn(t.commitTime);return this.listener.Tr(n,e)}return m(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ln(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return pn(e.R,t)})};this.cr(n)},e}(co),ho=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(a.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new c(u.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new c(u.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),po=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(e),this.Vr=!1):h("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),vo=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(a.__awaiter)(o,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return Oo(this)?(h("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return(e=y(t)).$r.add(4),[4,mo(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,go(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new po(n,r)};function go(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:if(!Oo(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function mo(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function yo(t,e){var n=y(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),ko(n)?xo(n):Uo(n).er()&&_o(n,e))}function bo(t,e){var n=y(t),r=Uo(n);n.Or.delete(e),r.er()&&wo(n,e),0===n.Or.size&&(r.er()?r.ir():Oo(n)&&n.Br.set("Unknown"))}function _o(t,e){t.qr.U(e.targetId),Uo(t).mr(e)}function wo(t,e){t.qr.U(e),Uo(t).yr(e)}function xo(t){t.qr=new Ge({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Uo(t).start(),t.Br.Sr()}function ko(t){return Oo(t)&&!Uo(t).tr()&&t.Or.size>0}function Oo(t){return 0===y(t).$r.size}function To(t){t.qr=void 0}function Eo(t){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){return t.Or.forEach(function(e,n){_o(t,e)}),[2]})})}function So(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(n){return To(t),ko(t)?(t.Br.Nr(e),xo(t)):t.Br.set("Unknown"),[2]})})}function Io(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(a.__generator)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof He&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(a.__generator)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),h("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Co(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qe?t.qr.X(e):e instanceof We?t.qr.rt(e):t.qr.et(e),n.isEqual(T.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,wi(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(R.EMPTY_BYTE_STRING,n.snapshotVersion)),wo(t,e);var r=new dr(n.target,e,1,n.sequenceNumber);_o(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return h("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Co(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Co(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r=this;return Object(a.__generator)(this,function(i){switch(i.label){case 0:if(!ir(e))throw e;return t.$r.add(1),[4,mo(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return wi(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(a.__awaiter)(r,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return h("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,go(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Ao(t,e){return e().catch(function(n){return Co(t,n,e)})}function Po(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(a.__generator)(this,function(a){switch(a.label){case 0:e=y(t),n=Vo(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Oo(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Oi(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Vo(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Co(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return jo(e)&&No(e),[2]}})})}function jo(t){return Oo(t)&&!Vo(t).tr()&&t.kr.length>0}function No(t){Vo(t).start()}function Ro(t){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){return Vo(t).Ar(),[2]})})}function Do(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(a.__generator)(this,function(o){for(e=Vo(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function Mo(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=hr.from(r,e,n),[4,Ao(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Po(t)];case 2:return o.sent(),[2]}})})}function Lo(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(n){switch(n.label){case 0:return e&&Vo(t).pr?[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return Oe(r=e.code)&&r!==u.ABORTED?(n=t.kr.shift(),Vo(t).sr(),[4,Ao(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Po(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jo(t)&&No(t),[2]}})})}function Fo(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return n=y(t),e?(n.$r.delete(2),[4,go(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,mo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Uo(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=y(t);return r.br(),new lo(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Eo.bind(null,t),Ri:So.bind(null,t),_r:Io.bind(null,t)}),t.Mr.push(function(n){return Object(a.__awaiter)(e,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),ko(t)?xo(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),To(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Vo(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=y(t);return r.br(),new fo(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ro.bind(null,t),Ri:Lo.bind(null,t),Ir:Do.bind(null,t),Tr:Mo.bind(null,t)}),t.Mr.push(function(n){return Object(a.__awaiter)(e,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Po(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(h("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Bo=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(u.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function zo(t,e){if(d("AsyncQueue",e+": "+t),ir(t))return new c(u.UNAVAILABLE,e+": "+t);throw t}var qo=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||W.comparator(e.key,n.key)}:function(t,e){return W.comparator(t.key,e.key)},this.keyedMap=Re(),this.sortedSet=new Ee(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Wo=function(){function t(){this.Kr=new Ee(W.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):g():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ho=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,qo.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ko=function(){this.Wr=void 0,this.listeners=[]},Go=function(){this.queries=new Zr(function(t){return Ft(t)},Lt),this.onlineState="Unknown",this.Gr=new Set};function Yo(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,u,c;return Object(a.__generator)(this,function(a){switch(a.label){case 0:if(n=y(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ko),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=a.sent(),[3,4];case 3:return u=a.sent(),c=zo(u,"Initialization of query '"+Ut(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Qo(n),[2]}})})}function $o(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(a.__generator)(this,function(a){return n=y(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Qo(t){t.Gr.forEach(function(t){t.next()})}var Xo=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ho(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Jo=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Zo=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return sn(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?dn(this.R,t.document,!1):ot.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return nn(t)},t}(),ta=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=ea(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Zo(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Fe()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return[4,Pi(this.localStore,new Zo(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,ji(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new di(Object.assign({},this.progress),t))]}})})},t}();function ea(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var na=function(t){this.key=t},ra=function(t){this.key=t},ia=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Fe(),this.mutatedKeys=Fe(),this.lo=Bt(t),this.fo=new qo(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Wo,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ct(this.query)&&i.size===this.query.limit?i.last():null,c=At(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=Vt(n.query,e)?e:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),Ct(this.query)||At(this.query))for(;a.size>this.query.limit;){var l=Ct(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Ho(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Wo,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Fe(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new ra(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new na(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Fe();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ho.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),oa=function(t,e,n){this.query=t,this.targetId=e,this.view=n},aa=function(t){this.key=t,this.bo=!1},sa=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Zr(function(t){return Ft(t)},Lt),this.Vo=new Map,this.So=new Set,this.Do=new Ee(W.comparator),this.Co=new Map,this.No=new Ri,this.xo={},this.Fo=new Map,this.ko=Br.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function ua(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return n=ja(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Ti(n.localStore,Dt(e))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,ca(n,e,r,"current"===u)];case 3:i=a.sent(),n.isPrimaryClient&&yo(n.remoteStore,s),a.label=4;case 4:return[2,i]}})})}function ca(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,function(){var i,o,s,u,c,l;return Object(a.__generator)(this,function(f){switch(f.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,function(){var i,o,s;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Si(t.localStore,e.query,!1).then(function(t){var n=t.documents;return e.view._o(n,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ba(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Si(t.localStore,e,!0)];case 1:return i=f.sent(),o=new ia(e,i.Bn),s=o._o(i.documents),u=ze.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),ba(t,n,c.To),l=new oa(e,n,o),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function la(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return n=y(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Lt(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ei(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),bo(n.remoteStore,r.targetId),ma(n,r.targetId)}).catch(Kr)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ma(n,r.targetId),[4,Ei(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function fa(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(a.__generator)(this,function(a){switch(a.label){case 0:r=Na(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=y(t),i=O.now(),o=e.reduce(function(t,e){return t.add(e.key)},Fe());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=fe(c,n.get(c.key));null!=l&&a.push(new ve(c.key,l,it(l.toProto().mapValue),ae.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ee(w)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,xa(r,i.changes)];case 3:return a.sent(),[4,Po(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=zo(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function ha(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:n=y(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,xi(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(m(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?m(r.bo):t.removedDocuments.size>0&&(m(r.bo),r.bo=!1))}),[4,xa(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Kr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function da(t,e,n){var r=y(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=y(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Qo(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pa(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(a.__generator)(this,function(a){switch(a.label){case 0:Oo((n=y(t)).remoteStore)||h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=y(n.localStore);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}()];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=zo(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function va(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function ga(t,e,n){var r=y(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ma(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||ya(t,e)})}function ya(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(bo(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),wa(t))}function ba(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof na?(t.No.addReference(o.key,e),_a(t,o)):o instanceof ra?(h("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||ya(t,o.key)):g()}}function _a(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(h("SyncEngine","New document in limbo: "+n),t.So.add(r),wa(t))}function wa(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new W(A.fromString(e)),r=t.ko.next();t.Co.set(r,new aa(n)),t.Do=t.Do.insert(n,r),yo(t.remoteStore,new dr(Dt(It(n.path)),r,2,s.o))}}function xa(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(a.__generator)(this,function(u){switch(u.label){case 0:return r=y(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=vi.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,f;return Object(a.__generator)(this,function(a){switch(a.label){case 0:n=y(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Zn.forEach(e,function(e){return Zn.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Zn.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return a.sent(),[3,4];case 3:if(!ir(r=a.sent()))throw r;return h("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(c=n.Fn.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),n.Fn=n.Fn.insert(u,f));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function ka(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return[4,Si((n=y(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ba(n,e.targetId,i.To),i)]}})})}function Oa(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){return[2,Ci((e=y(t)).localStore).then(function(t){return xa(e,t)})]})})}function Ta(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=y(t),r=y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Zn.resolve(null)})})}((i=y(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Po(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ga(i,e,r||null),va(i,e),function(t,e){y(y(t)._n).Gt(e)}(i.localStore,e)):g(),a.label=4;case 4:return[4,xa(i,o)];case 5:return a.sent(),[3,7];case 6:h("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function Ea(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return ja(n=y(t)),Na(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Sa(n,r.toArray())]);case 1:return i=a.sent(),n.Oo=!0,[4,Fo(n.remoteStore,!0)];case 2:for(a.sent(),o=0,s=i;o<s.length;o++)u=s[o],yo(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then(function(){return ma(n,e),Ei(n.localStore,e,!0)}),bo(n.remoteStore,e)}),[4,l]);case 4:return a.sent(),[4,Sa(n,c)];case 5:return a.sent(),function(t){var e=y(n);e.Co.forEach(function(t,n){bo(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Ee(W.comparator)}(),n.Oo=!1,[4,Fo(n.remoteStore,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})}function Sa(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,f,h,d,p,v,g;return Object(a.__generator)(this,function(a){switch(a.label){case 0:n=y(t),r=[],i=[],o=0,s=e,a.label=1;case 1:return o<s.length?(u=s[o],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Ti(n.localStore,Dt(l[0]))]:[3,7]):[3,13];case 2:c=a.sent(),f=0,h=l,a.label=3;case 3:return f<h.length?(d=h[f],p=n.Po.get(d),[4,ka(n,p)]):[3,6];case 4:(v=a.sent()).snapshot&&i.push(v.snapshot),a.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Ii(n.localStore,u)];case 8:return g=a.sent(),[4,Ti(n.localStore,g)];case 9:return c=a.sent(),[4,ca(n,Ia(g),u,!1)];case 10:a.sent(),a.label=11;case 11:r.push(c),a.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Ia(t){return St(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ca(t){var e=y(t);return y(y(e.localStore).persistence).fn()}function Aa(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,function(){var i,o,s;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return(i=y(t)).Oo?(h("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ci(i.localStore)];case 3:return o=a.sent(),s=Be.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,xa(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Ei(i.localStore,e,!0)];case 6:return a.sent(),ma(i,e,r),[3,8];case 7:g(),a.label=8;case 8:return[2]}})})}function Pa(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,c,l,f,d,p;return Object(a.__generator)(this,function(v){switch(v.label){case 0:if(!(r=ja(t)).Oo)return[3,10];i=0,o=e,v.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(h("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ii(r.localStore,s)]):[3,6];case 2:return u=v.sent(),[4,Ti(r.localStore,u)];case 3:return c=v.sent(),[4,ca(r,Ia(u),c.targetId,!1)];case 4:v.sent(),yo(r.remoteStore,c),v.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ei(r.localStore,t,!1).then(function(){bo(r.remoteStore,t),ma(r,t)}).catch(Kr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},f=0,d=n,v.label=7;case 7:return f<d.length?(p=d[f],[5,l(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function ja(t){var e=y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ha.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=y(t),r=n.Co.get(e);if(r&&r.bo)return Fe().add(r.key);var i=Fe(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,c;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return(r=y(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Ee(W.comparator)).insert(o,ot.newNoDocument(o,T.min())),u=Fe().add(o),c=new Be(T.min(),new Map,new Ce(w),s,u),[4,ha(r,c)]):[3,2];case 1:return a.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),wa(r),[3,4];case 2:return[4,Ei(r.localStore,e,!1).then(function(){return ma(r,e,n)}).catch(Kr)];case 3:a.sent(),a.label=4;case 4:return[2]}})})}.bind(null,e),e.vo._r=function(t,e){for(var n=y(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Qo(n)}.bind(null,e.eventManager),e.vo.Mo=function(t,e,n){var r=y(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}.bind(null,e.eventManager),e}function Na(t){var e=y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:n=y(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,_i(n.localStore,e)];case 2:return i=o.sent(),ga(n,r,null),va(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,xa(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Kr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=function(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:r=y(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return m(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),ga(r,e,n),va(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,xa(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Kr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}.bind(null,e),e}function Ra(t,e,n){var r=y(t);(function(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,c;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=a.sent(),[4,function(t,e){var n=y(t),r=nn(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Qe.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(r)>=0})}(t.localStore,r)];case 2:return a.sent()?[4,e.close()]:[3,4];case 3:return[2,(a.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(ea(r)),i=new ta(r,t.localStore,e.R),[4,e.Lo()];case 5:o=a.sent(),a.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=a.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=a.sent(),a.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return u=a.sent(),[4,xa(t,u.wn,void 0)];case 12:return a.sent(),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Qe.saveBundleMetadata(t,e)})}(t.localStore,r)];case 13:return a.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(c=a.sent())),n._failWith(c),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Da=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return this.R=so(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return yi(this.persistence,new gi,t.initialUser,this.R)},t.prototype.qo=function(t){return new Vi(zi.bs,this.R)},t.prototype.Bo=function(t){return new Zi},t.prototype.terminate=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Ma=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(a.__extends)(e,t),e.prototype.initialize=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ai(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Na(this.Ko.syncEngine)];case 4:return n.sent(),[4,Po(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return yi(this.persistence,new gi,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new $r(e,t.asyncQueue)},e.prototype.qo=function(t){var e=hi(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new ci(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,oo(),ao(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Zi},e}(Da),La=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(a.__extends)(e,t),e.prototype.initialize=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r=this;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Ji?(this.sharedClientState.syncEngine={ui:Ta.bind(null,n),ai:Aa.bind(null,n),hi:Pa.bind(null,n),fn:Ca.bind(null,n),ci:Oa.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(a.__awaiter)(r,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return[4,Ea(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=oo();if(!Ji.yt(e))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hi(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ji(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Ma),Fa=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return da(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return(n=y(t)).currentUser.isEqual(e)?[3,3]:(h("SyncEngine","User change. New user:",e.toKey()),[4,bi(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,xa(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}.bind(null,this.syncEngine),[4,Fo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Go},t.prototype.createDatastore=function(t){var e,n=so(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new io(e));return function(t,e,n){return new ho(t,r,n)}(t.credentials,0,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return da(a.syncEngine,t,0)},o=eo.yt()?new eo:new to,new vo(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new sa(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return e=y(t),h("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,mo(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function Ua(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var r;return Object(a.__generator)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Va=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Ba=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Jn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,e,n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Jo(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),za=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(a.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return n=y(t),r=ln(n.R)+"/documents",i={documents:e.map(function(t){return an(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){m(!!e.found),e.found.name,e.found.updateTime;var n=sn(t,e.found.name),r=nn(e.found.updateTime),i=new rt({mapValue:{fields:e.found.fields}});return ot.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){m(!!e.missing),m(!!e.readTime);var n=sn(t,e.missing),r=nn(e.readTime);return ot.newNoDocument(n,r)}(t,e):g()}(n.R,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());m(!!e),u.push(e)}),u)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new we(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(a.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=W.fromPath(n);e.mutations.push(new xe(r,e.precondition(r)))}),[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return n=y(t),r=ln(n.R)+"/documents",i={writes:e.map(function(t){return pn(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw g();e=T.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ae.updateTime(e):ae.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(T.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ae.updateTime(e)}return ae.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),qa=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new uo(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(a.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return Object(a.__generator)(this,function(r){return t=new za(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!B(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Oe(e)}return!1},t}(),Wa=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=qi.UNAUTHENTICATED,this.clientId=_.u(),this.credentialListener=function(){},this.receivedInitialUser=new Jn,this.credentials.setChangeListener(function(t){h("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(a.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=zo(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ha(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),h("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(a.__awaiter)(i,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,bi(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ka(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ga(t)];case 1:return n=i.sent(),h("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return(n=y(t)).asyncQueue.verifyOperationInProgress(),h("RemoteStore","RemoteStore received new credentials"),r=Oo(n),n.$r.add(3),[4,mo(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,go(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Ga(t){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(h("FirestoreClient","Using default OfflineComponentProvider"),[4,Ha(t,new Da)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ya(t){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(h("FirestoreClient","Using default OnlineComponentProvider"),[4,Ka(t,new Fa)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function $a(t){return Ga(t).then(function(t){return t.persistence})}function Qa(t){return Ga(t).then(function(t){return t.localStore})}function Xa(t){return Ya(t).then(function(t){return t.remoteStore})}function Ja(t){return Ya(t).then(function(t){return t.syncEngine})}function Za(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return[4,Ya(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=ua.bind(null,e.syncEngine),n.onUnlisten=la.bind(null,e.syncEngine),n)]}})})}function ts(t,e,n){var r=this;void 0===n&&(n={});var i=new Jn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(r,void 0,void 0,function(){var r;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Va({next:function(o){e.enqueueAndForget(function(){return $o(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Xo(It(n.path),o,{includeMetadataChanges:!0,so:!0});return Yo(t,a)},[4,Za(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function es(t,e,n){var r=this;void 0===n&&(n={});var i=new Jn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(r,void 0,void 0,function(){var r;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Va({next:function(n){e.enqueueAndForget(function(){return $o(t,a)}),n.fromCache&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Xo(n,o,{includeMetadataChanges:!0,so:!0});return Yo(t,a)},[4,Za(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var ns=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},rs=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),is=new Map,os=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},as=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(qi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ss=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),us=function(){function t(t){var e=this;this.oc=null,this.currentUser=qi.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(h("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(m("string"==typeof n.accessToken),new os(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return m(null===t||"string"==typeof t),new qi(t)},t}(),cs=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=qi.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),ls=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new cs(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(qi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function fs(t,e,n){if(!n)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hs(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ds(t,e,n,r){if(!0===e&&!0===r)throw new c(u.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ps(t){if(!W.isDocumentKey(t))throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function vs(t){if(W.isDocumentKey(t))throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gs(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g()}function ms(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new c(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gs(t);throw new c(u.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ys(t,e){if(e<=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var bs=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ds("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),_s=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bs({}),this._settingsFrozen=!1,t instanceof rs?(this._databaseId=t,this._credentials=new as):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(t.options.projectId)}(t),this._credentials=new us(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bs(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new as;switch(t.type){case"gapi":var e=t.client;return m(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ls(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=is.get(this))&&(h("ComponentProvider","Removing Datastore"),is.delete(this),t.terminate()),Promise.resolve();var t},t}(),ws=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ks(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),xs=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ks=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,It(r))||this)._path=r,i.type="collection",i}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new ws(this.firestore,null,new W(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(xs);function Os(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Object(r.getModularInstance)(t),fs("collection","path",e),t instanceof _s)return vs(n=A.fromString.apply(A,Object(a.__spreadArray)([e],i))),new ks(t,null,n);if(!(t instanceof ws||t instanceof ks))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vs(n=A.fromString.apply(A,Object(a.__spreadArray)([t.path],i)).child(A.fromString(e))),new ks(t.firestore,null,n)}function Ts(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Object(r.getModularInstance)(t),1===arguments.length&&(e=_.u()),fs("doc","path",e),t instanceof _s)return ps(n=A.fromString.apply(A,Object(a.__spreadArray)([e],i))),new ws(t,null,new W(n));if(!(t instanceof ws||t instanceof ks))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ps(n=t._path.child(A.fromString.apply(A,Object(a.__spreadArray)([e],i)))),new ws(t.firestore,t instanceof ks?t.converter:null,new W(n))}function Es(t,e){return t=Object(r.getModularInstance)(t),e=Object(r.getModularInstance)(e),(t instanceof ws||t instanceof ks)&&(e instanceof ws||e instanceof ks)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ss(t,e){return t=Object(r.getModularInstance)(t),e=Object(r.getModularInstance)(e),t instanceof xs&&e instanceof xs&&t.firestore===e.firestore&&Lt(t._query,e._query)&&t.converter===e.converter}var Is=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new uo(this,"async_queue_retry"),this.Ec=function(){var e=ao();e&&h("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=ao();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=ao();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(a.__generator)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ir(t=n.sent()))throw t;return h("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Bo.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&g()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Cs(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var As=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Jn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Ps=-1,js=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Is,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(a.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Rs(this),this._firestoreClient.terminate()},e}(_s);function Ns(t){return t._firestoreClient||Rs(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rs(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ns(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Wa(t._credentials,t._queue,r)}function Ds(t,e,n){var r=this,i=new Jn;return t.asyncQueue.enqueue(function(){return Object(a.__awaiter)(r,void 0,void 0,function(){var r;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ha(t,n)];case 1:return o.sent(),[4,Ka(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===u.FAILED_PRECONDITION||t.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ms(t){if(t._initialized||t._terminated)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ls=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new j(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Fs=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(R.fromBase64String(e))}catch(e){throw new c(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(R.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Us=function(t){this._methodName=t},Vs=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return w(this._lat,t._lat)||w(this._long,t._long)},t}(),Bs=/^__.*__$/,zs=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ve(t,this.data,this.fieldMask,e,this.fieldTransforms):new pe(t,this.data,e,this.fieldTransforms)},t}(),qs=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ve(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Ws(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var Hs=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return fu(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Ws(this.Dc)&&Bs.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Ks=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||so(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Hs({Dc:t,methodName:e,Lc:n,path:j.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Gs(t){var e=t._freezeSettings(),n=so(t._databaseId);return new Ks(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ys(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);su("Data must be an object, but it was:",a,r);var s,l,f=ou(r,a);if(o.merge)s=new N(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){for(var h=[],d=0,p=o.mergeFields;d<p.length;d++){var v=uu(e,p[d],n);if(!a.contains(v))throw new c(u.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");hu(h,v)||h.push(v)}s=new N(h),l=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,l=a.fieldTransforms;return new zs(new rt(f),s,l)}var $s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Us);function Qs(t,e,n){return new Hs({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new ie(t.path,new Qt)},e.prototype.isEqual=function(t){return t instanceof e},e}(Us),Js=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(a.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=Qs(this,t,!0),n=this.qc.map(function(t){return iu(t,e)}),r=new Xt(n);return new ie(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Us),Zs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(a.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=Qs(this,t,!0),n=this.qc.map(function(t){return iu(t,e)}),r=new Zt(n);return new ie(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Us),tu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(a.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new ee(t.R,Ht(t.R,this.Uc));return new ie(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Us);function eu(t,e,n,i){var o=t.Bc(1,e,n);su("Data must be an object, but it was:",o,i);var a=[],s=rt.empty();S(i,function(t,i){var u=lu(e,t,n);i=Object(r.getModularInstance)(i);var c=o.kc(u);if(i instanceof $s)a.push(u);else{var l=iu(i,c);null!=l&&(a.push(u),s.set(u,l))}});var u=new N(a);return new qs(s,u,o.fieldTransforms)}function nu(t,e,n,i,o,a){var s=t.Bc(1,e,n),l=[uu(e,i,n)],f=[o];if(a.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<a.length;h+=2)l.push(uu(e,a[h])),f.push(a[h+1]);for(var d=[],p=rt.empty(),v=l.length-1;v>=0;--v)if(!hu(d,l[v])){var g=l[v],m=f[v];m=Object(r.getModularInstance)(m);var y=s.kc(g);if(m instanceof $s)d.push(g);else{var b=iu(m,y);null!=b&&(d.push(g),p.set(g,b))}}var _=new N(d);return new qs(p,_,s.fieldTransforms)}function ru(t,e,n,r){return void 0===r&&(r=!1),iu(n,t.Bc(r?4:3,e))}function iu(t,e){if(au(t=Object(r.getModularInstance)(t)))return su("Unsupported field value:",e,t),ou(t,e);if(t instanceof Us)return function(t,e){if(!Ws(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=iu(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(r.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ht(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=O.fromDate(t);return{timestampValue:Ze(e.R,n)}}if(t instanceof O)return n=new O(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ze(e.R,n)};if(t instanceof Vs)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fs)return{bytesValue:tn(e.R,t._byteString)};if(t instanceof ws){n=e.databaseId;var i=t.firestore._databaseId;if(!i.isEqual(n))throw e.$c("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:rn(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+gs(t))}(t,e)}function ou(t,e){var n={};return I(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):S(t,function(t,r){var i=iu(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function au(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof O||t instanceof Vs||t instanceof Fs||t instanceof ws||t instanceof Us)}function su(t,e,n){if(!au(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gs(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function uu(t,e,n){if((e=Object(r.getModularInstance)(e))instanceof Ls)return e._internalPath;if("string"==typeof e)return lu(t,e);throw fu("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var cu=new RegExp("[~\\*/\\[\\]]");function lu(t,e,n){if(e.search(cu)>=0)throw fu("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ls.bind.apply(Ls,Object(a.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(r){throw fu("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function fu(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new c(u.INVALID_ARGUMENT,(s+=". ")+t+l)}function hu(t,e){return t.some(function(t){return t.isEqual(e)})}var du=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ws(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new pu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(vu("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(du);function vu(t,e){return"string"==typeof e?lu(t,e):e instanceof Ls?e._internalPath:e._delegate._internalPath}var gu=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),mu=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(a.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(vu("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(du),yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(mu),bu=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new gu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new yu(n._firestore,n._userDataWriter,r.key,r,new gu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){var r=new yu(t._firestore,t._userDataWriter,e.doc.key,e.doc,new gu(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new yu(t._firestore,t._userDataWriter,e.doc.key,e.doc,new gu(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:_u(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function _u(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function wu(t,e){return t instanceof mu&&e instanceof mu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof bu&&e instanceof bu&&t._firestore===e._firestore&&Ss(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function xu(t){if(At(t)&&0===t.explicitOrderBy.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ku=function(){};function Ou(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=i[r]._apply(t)}return t}var Tu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(a.__extends)(e,t),e.prototype._apply=function(t){var e=Gs(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ju(a,o);for(var l=[],f=0,h=a;f<h.length;f++){var d=h[f];l.push(Pu(r,t,d))}s={arrayValue:{values:l}}}else s=Pu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ju(a,o),s=ru(n,"where",a,"in"===o||"not-in"===o);var p=ft.create(i,o,s);return function(t,e){if(e.g()){var n=jt(t);if(null!==n&&!n.isEqual(e.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Pt(t);null!==r&&Nu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===e.op?new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,p),p}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new xs(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Et(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(ku),Eu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xt(e,n);return function(t,e){if(null===Pt(t)){var n=jt(t);null!==n&&Nu(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new xs(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Et(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(ku),Su=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(a.__extends)(e,t),e.prototype._apply=function(t){return new xs(t.firestore,t.converter,Mt(t._query,this.Gc,this.zc))},e}(ku),Iu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(a.__extends)(e,t),e.prototype._apply=function(t){var e=Au(t,this.type,this.Hc,this.Jc);return new xs(t.firestore,t.converter,function(t,e){return new Et(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(ku),Cu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(a.__extends)(e,t),e.prototype._apply=function(t){var e=Au(t,this.type,this.Hc,this.Jc);return new xs(t.firestore,t.converter,function(t,e){return new Et(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(ku);function Au(t,e,n,i){if(n[0]=Object(r.getModularInstance)(n[0]),n[0]instanceof du)return function(t,e,n,r,i){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Rt(t);a<s.length;a++){var l=s[a];if(l.field.isKeyField())o.push(X(e,r.key));else{var f=r.data.field(l.field);if(U(f))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){var h=l.field.canonicalString();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(f)}}return new _t(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=Gs(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],l=0;l<i.length;l++){var f=i[l];if(a[l].field.isKeyField()){if("string"!=typeof f)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof f);if(!Nt(t)&&-1!==f.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+f+"' contains a slash.");var h=t.path.child(A.fromString(f));if(!W.isDocumentKey(h))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var d=new W(h);s.push(X(e,d))}else{var p=ru(n,r,f);s.push(p)}}return new _t(s,o)}(t._query,t.firestore._databaseId,o,e,n,i)}function Pu(t,e,n){if("string"==typeof(n=Object(r.getModularInstance)(n))){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nt(e)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(A.fromString(n));if(!W.isDocumentKey(i))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return X(t,new W(i))}if(n instanceof ws)return X(t,n._key);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gs(n)+".")}function ju(t,e){if(!Array.isArray(t)||0===t.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Nu(t,e,n){if(!n.isEqual(e))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Ru=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),H(t)){case 0:return null;case 1:return t.booleanValue;case 2:return L(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(F(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw g()}},t.prototype.convertObject=function(t,e){var n=this,r={};return S(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Vs(L(t.latitude),L(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return U(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(V(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=M(t);return new O(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=A.fromString(t);m(In(n));var r=new rs(n.get(1),n.get(3)),i=new W(n.popFirst(5));return r.isEqual(e)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Du(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Mu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.__extends)(e,t),e.prototype.convertBytes=function(t){return new Fs(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ws(this.firestore,null,e)},e}(Ru),Lu=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Gs(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Fu(t,this._firestore),i=Du(r.converter,e,n),o=Ys(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ae.none())),this},t.prototype.update=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,s=Fu(t,this._firestore);return a="string"==typeof(e=Object(r.getModularInstance)(e))||e instanceof Ls?nu(this._dataReader,"WriteBatch.update",s._key,e,n,i):eu(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,ae.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Fu(t,this._firestore);return this._mutations=this._mutations.concat(new we(e._key,ae.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Fu(t,e){if((t=Object(r.getModularInstance)(t)).firestore!==e)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Uu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.__extends)(e,t),e.prototype.convertBytes=function(t){return new Fs(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ws(this.firestore,null,e)},e}(Ru);function Vu(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=ms(t,ws);var a=ms(t.firestore,js),s=Gs(a);return zu(a,[("string"==typeof(e=Object(r.getModularInstance)(e))||e instanceof Ls?nu(s,"updateDoc",t._key,e,n,i):eu(s,"updateDoc",t._key,e)).toMutation(t._key,ae.exists(!0))])}function Bu(t){for(var e,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];t=Object(r.getModularInstance)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof o[c]||Cs(o[c])||(u=o[c],c++);var l,f,h,d={includeMetadataChanges:u.includeMetadataChanges};if(Cs(o[c])){var p=o[c];o[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),o[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[c+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}if(t instanceof ws)f=ms(t.firestore,js),h=It(t._key.path),l={next:function(e){o[c]&&o[c](qu(f,t,e))},error:o[c+1],complete:o[c+2]};else{var v=ms(t,xs);f=ms(v.firestore,js),h=v._query;var g=new Uu(f);l={next:function(t){o[c]&&o[c](new bu(f,g,v,t))},error:o[c+1],complete:o[c+2]},xu(t._query)}return function(t,e,n,r){var i=this,o=new Va(l),s=new Xo(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(i,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return e=Yo,[4,Za(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(i,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return e=$o,[4,Za(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Ns(f),h,d)}function zu(t,e){return function(t,e){var n=this,r=new Jn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(n,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return n=fa,[4,Ja(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Ns(t),e)}function qu(t,e,n){var r=n.docs.get(e._key),i=new Uu(t);return new mu(t,i,e._key,r,new gu(n.hasPendingWrites,n.fromCache),e.converter)}var Wu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(a.__extends)(e,t),e.prototype.get=function(e){var n=this,r=Fu(e,this._firestore),i=new Uu(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new mu(n._firestore,i,r._key,t._document,new gu(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Gs(t)}return t.prototype.get=function(t){var e=this,n=Fu(t,this._firestore),r=new Mu(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return g();var i=t[0];if(i.isFoundDocument())return new du(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new du(e._firestore,r,n._key,null,n.converter);throw g()})},t.prototype.set=function(t,e,n){var r=Fu(t,this._firestore),i=Du(r.converter,e,n),o=Ys(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,s=Fu(t,this._firestore);return a="string"==typeof(e=Object(r.getModularInstance)(e))||e instanceof Ls?nu(this._dataReader,"Transaction.update",s._key,e,n,i):eu(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this},t.prototype.delete=function(t){var e=Fu(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Hu(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ku(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Gu=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Ku(),new t(Fs.fromBase64String(e))},t.fromUint8Array=function(e){return Hu(),new t(Fs.fromUint8Array(e))},t.prototype.toBase64=function(){return Ku(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Hu(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Yu=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ms(t=ms(t,js));var n=Ns(t),r=t._freezeSettings(),i=new Fa;return Ds(n,i,new Ma(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ms(t=ms(t,js));var e=Ns(t),n=t._freezeSettings(),r=new Fa;return Ds(e,r,new La(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Jn;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(a.__awaiter)(e,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return er.yt()?(e=t+"main",[4,er.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(hi(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),$u=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof rs||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){void 0===i&&(i={});var o=(t=ms(t,_s))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),i.mockUserToken){var a=Object(r.createMockUserToken)(i.mockUserToken),s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new c(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new ss(new os(a,new qi(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(a.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return[4,$a(t)];case 1:return e=r.sent(),[4,Xa(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=y(n);return e.$r.delete(0),go(e)}())]}})})})}(Ns(ms(this._delegate,js)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(a.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return[4,$a(t)];case 1:return e=r.sent(),[4,Xa(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return(e=y(t)).$r.add(0),[4,mo(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Ns(ms(this._delegate,js)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ds("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Jn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(e,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return e=pa,[4,Ja(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ns(ms(this._delegate,js)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Va(e);return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(n,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.add(e),e.next()},[4,Za(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(n,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.delete(e)},[4,Za(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Ns(t=ms(t,js)),Cs(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new lc(this,Os(this._delegate,t))}catch(t){throw nc(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new ec(this,Ts(this._delegate,t))}catch(t){throw nc(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new sc(this,function(t,e){if(t=ms(t,_s),fs("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new xs(t,null,function(t){return new Et(A.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw nc(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Jn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(n,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ya(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new qa(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Ns(t),function(n){return e(new Wu(t,n))})}(this._delegate,function(n){return t(new Ju(e,n))})},t.prototype.batch=function(){var t=this;return Ns(this._delegate),new Zu(new Lu(this._delegate,function(e){return zu(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new c(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new c(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Qu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.__extends)(e,t),e.prototype.convertBytes=function(t){return new Gu(new Fs(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return ec.Zc(e,this.firestore,null)},e}(Ru);function Xu(t){var e;e=t,l.setLogLevel(e)}var Ju=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Qu(t)}return t.prototype.get=function(t){var e=this,n=fc(t);return this._delegate.get(n).then(function(t){return new oc(e._firestore,new mu(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=fc(t);return n?(hs("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=fc(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(a.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=fc(t);return this._delegate.delete(e),this},t}(),Zu=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=fc(t);return n?(hs("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=fc(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(a.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=fc(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),tc=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new yu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ac(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Qu(e),n),i.set(n,o)),o},t}();tc.eu=new WeakMap;var ec=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qu(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new ws(n._delegate,r,new W(e)))},t.Zc=function(e,n,r){return new t(n,new ws(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new lc(this.firestore,Os(this._delegate,t))}catch(t){throw nc(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(r.getModularInstance)(t))instanceof ws&&Es(this._delegate,t)},t.prototype.set=function(t,e){e=hs("DocumentReference.set",e);try{return function(t,e,n){t=ms(t,ws);var r=ms(t.firestore,js),i=Du(t.converter,e,n);return zu(r,[Ys(Gs(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ae.none())])}(this._delegate,t,e)}catch(t){throw nc(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Vu(this._delegate,t):Vu.apply(void 0,Object(a.__spreadArray)([this._delegate,t,e],n))}catch(t){throw nc(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return zu(ms((t=this._delegate).firestore,js),[new we(t._key,ae.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=rc(e),i=ic(e,function(e){return new oc(t.firestore,new mu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Bu(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ms(t,ws);var e=ms(t.firestore,js),n=Ns(e),r=new Uu(e);return function(t,e){var n=this,r=new Jn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(n,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=zo(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Qa(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new mu(e,r,t._key,n,new gu(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ms(t,ws);var e=ms(t.firestore,js);return ts(Ns(e),t._key,{source:"server"}).then(function(n){return qu(e,t,n)})}(this._delegate):function(t){t=ms(t,ws);var e=ms(t.firestore,js);return ts(Ns(e),t._key).then(function(n){return qu(e,t,n)})}(this._delegate)).then(function(t){return new oc(e.firestore,new mu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(tc.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function nc(t,e,n){return t.message=t.message.replace(e,n),t}function rc(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Cs(r))return r}return{}}function ic(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Cs(t[0])?t[0]:Cs(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var oc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ec(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return wu(this._delegate,t._delegate)},t}(),ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(oc),sc=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qu(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Ou(this._delegate,function(t,e,n){var r=e,i=vu("where",t);return new Tu(i,r,n)}(e,n,r)))}catch(e){throw nc(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Ou(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=vu("orderBy",t);return new Eu(r,n)}(e,n)))}catch(e){throw nc(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Ou(this._delegate,function(t){return ys("limit",t),new Su("limit",t,"F")}(e)))}catch(e){throw nc(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Ou(this._delegate,function(t){return ys("limitToLast",t),new Su("limitToLast",t,"L")}(e)))}catch(e){throw nc(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ou(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Iu("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw nc(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ou(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Iu("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw nc(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ou(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cu("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw nc(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ou(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cu("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw nc(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Ss(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ms(t,xs);var e=ms(t.firestore,js),n=Ns(e),r=new Uu(e);return function(t,e){var n=this,r=new Jn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(n,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Si(t,e,!0)];case 1:return u=a.sent(),r=new ia(e,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=zo(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Qa(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new bu(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ms(t,xs);var e=ms(t.firestore,js),n=Ns(e),r=new Uu(e);return es(n,t._query,{source:"server"}).then(function(n){return new bu(e,r,t,n)})}(this._delegate):function(t){t=ms(t,xs);var e=ms(t.firestore,js),n=Ns(e),r=new Uu(e);return xu(t._query),es(n,t._query).then(function(n){return new bu(e,r,t,n)})}(this._delegate)).then(function(t){return new cc(e.firestore,new bu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=rc(e),i=ic(e,function(e){return new cc(t.firestore,new bu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Bu(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(tc.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),uc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ac(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),cc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new sc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new ac(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new uc(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new ac(n._firestore,r))})},t.prototype.isEqual=function(t){return wu(this._delegate,t._delegate)},t}(),lc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new ec(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ec(this.firestore,void 0===t?Ts(this._delegate):Ts(this._delegate,t))}catch(t){throw nc(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ms(t.firestore,js),r=Ts(t),i=Du(t.converter,e);return zu(n,[Ys(Gs(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ae.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new ec(e.firestore,t)})},e.prototype.isEqual=function(t){return Es(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(tc.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(sc);function fc(t){return ms(t,ws)}var hc=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ls.bind.apply(Ls,Object(a.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(j.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(r.getModularInstance)(t))instanceof Ls&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),dc=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Xs("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $s("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Js("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zs("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new tu("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();function pc(t){return function(t,e){var n=Ns(t=ms(t,js)),r=new As;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new Ba(t,e)}(function(t,e){if(t instanceof Uint8Array)return Ua(t,e);if(t instanceof ArrayBuffer)return Ua(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,so(e));t.asyncQueue.enqueueAndForget(function(){return Object(a.__awaiter)(i,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return e=Ra,[4,Ja(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,t._databaseId,e,r),r}(this._delegate,t)}function vc(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Object(a.__awaiter)(n,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=y(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Qe.getNamedQuery(t,e)})},[4,Qa(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(Ns(e=ms(e,js)),n).then(function(t){return t?new xs(e,null,t.query):null})).then(function(t){return t?new sc(r,t):null})}}).call(this,n(53))},function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return I});var r=n(24),i=n(1),o=n.n(i),a=(n(10),n(28)),s=n(84),u=n(23),c=n(18),l=n(85),f=n.n(l),h=(n(54),n(46)),d=(n(55),function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History")),p=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),v=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen(function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t})),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(d.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);o.a.Component;o.a.Component;var g={},m=1e4,y=0;function b(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=g[n]||(g[n]={});if(r[t])return r[t];var i=[],o={regexp:f()(t,i,e),keys:i};return y<m&&(r[t]=o,y++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],h=u.slice(1),d=t===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce(function(t,e,n){return t[e.name]=h[n],t},{})}},null)}var _=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(p.Consumer,null,function(e){e||Object(u.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?b(n.pathname,t.props):e.match,i=Object(c.a)({},e,{location:n,match:r}),a=t.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(p.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)})},e}(o.a.Component);function w(t){return"/"===t.charAt(0)?t:"/"+t}function x(t,e){if(!t)return e;var n=w(t);return 0!==e.pathname.indexOf(n)?e:Object(c.a)({},e,{pathname:e.pathname.substr(n.length)})}function k(t){return"string"===typeof t?t:Object(a.e)(t)}function O(t){return function(){Object(u.a)(!1)}}function T(){}o.a.Component;var E=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(p.Consumer,null,function(e){e||Object(u.a)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?b(i.pathname,Object(c.a)({},t.props,{path:a})):e.match}}),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null})},e}(o.a.Component);var S=o.a.useContext;function I(){return S(p).location}},function(t,e,n){"use strict";var r=n(0);function i(t){return t}function o(t){var e=t.top;return{x:{min:t.left,max:t.right},y:{min:e,max:t.bottom}}}function a(t){var e=t.x,n=t.y;return{top:n.min,bottom:n.max,left:e.min,right:e.max}}function s(t,e){var n=t.top,r=t.left,o=t.bottom,a=t.right;void 0===e&&(e=i);var s=e({x:r,y:n}),u=e({x:a,y:o});return{top:s.y,left:s.x,bottom:u.y,right:u.x}}function u(){return{x:{min:0,max:1},y:{min:0,max:1}}}function c(t){return{x:Object(r.__assign)({},t.x),y:Object(r.__assign)({},t.y)}}n.d(e,"a",function(){return u}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return s});var l={translate:0,scale:1,origin:0,originPoint:0};function f(){return{x:Object(r.__assign)({},l),y:Object(r.__assign)({},l)}}},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return er}),n.d(e,"b",function(){return rr}),n.d(e,"c",function(){return nr}),n.d(e,"d",function(){return ir}),n.d(e,"e",function(){return or}),n.d(e,"f",function(){return ar}),n.d(e,"g",function(){return Zn}),n.d(e,"h",function(){return tr});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function l(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function y(){return Date.now()}function b(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,h)&&t[h]||(t[h]=++d)})(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},x=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var E,S=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function I(t,e){return-1!=t.indexOf(e)}function C(t,e){return t<e?-1:t>e?1:0}t:{var A=u.navigator;if(A){var P=A.userAgent;if(P){E=P;break t}}E=""}function j(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function N(t){var e={};for(var n in t)e[n]=t[n];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M(t){return M[" "](t),t}M[" "]=c;var L,F=I(E,"Opera"),U=I(E,"Trident")||I(E,"MSIE"),V=I(E,"Edge"),B=V||U,z=I(E,"Gecko")&&!(I(E.toLowerCase(),"webkit")&&!I(E,"Edge"))&&!(I(E,"Trident")||I(E,"MSIE"))&&!I(E,"Edge"),q=I(E.toLowerCase(),"webkit")&&!I(E,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var H="",K=function(){var t=E;return z?/rv:([^\);]+)(\)|;)/.exec(t):V?/Edge\/([\d\.]+)/.exec(t):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):q?/WebKit\/(\S+)/.exec(t):F?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(K&&(H=K?K[1]:""),U){var G=W();if(null!=G&&G>parseFloat(H)){L=String(G);break t}}L=H}var Y,$={};function Q(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=S(String(L)).split("."),r=S(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=C(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||C(0==a[2].length,0==s[2].length)||C(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}if(u.document&&U){var X=W();Y=X||(parseInt(L,10)||void 0)}else Y=void 0;var J=Y,Z=!U||9<=Number(J),tt=U&&!Q("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{M(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},b(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),at=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++at,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=w(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ft(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new st(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}r=xt(r);return e&&e[ot]?e.wa(n,r,f(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=xt(n),t&&t[ot]?t.va(e,n,f(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!Z)return null;var s=_t(t);if(s||(t[ht]=s=new ct(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=bt,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(lt(n,t),0==n.b&&(n.src=null,e[ht]=null)):ut(t)}}}function mt(t){return t in dt?dt[t]:dt[t]="on"+t}function yt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&gt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new rt(e,this))}return yt(t,new rt(e,this))}function _t(t){return(t=t[ht])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"===typeof t?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function kt(){_.call(this),this.c=new ct(this),this.J=this,this.C=null}function Ot(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new nt(e,t);else if(e instanceof nt)e.target=e.target||t;else{var i=e;D(e=new nt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Tt(a,r,!0,e)&&i}if(i=Tt(a=e.a=t,r,!0,e)&&i,i=Tt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Tt(a=e.a=n[o],r,!1,e)&&i}function Tt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&lt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(kt,_),kt.prototype[ot]=!0,(o=kt.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=f(i)?!!i.capture:!!i,r=xt(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ft(a=e.a[n],r,i,o))&&(ut(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,r,i,o)),(r=-1<e?n[e]:null)&&gt(r))}(this,t,e,n,r)},o.G=function(){if(kt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Et=u.JSON.stringify;function St(){this.b=this.a=null}var It,Ct=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new Pt},function(t){t.reset()});function At(){var t=Dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pt(){this.next=this.b=this.a=null}function jt(t){u.setTimeout(function(){throw t},0)}function Nt(t,e){It||function(){var t=u.Promise.resolve(void 0);It=function(){t.then(Mt)}}(),Rt||(It(),Rt=!0),Dt.add(t,e)}St.prototype.add=function(t,e){var n=Ct.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var Rt=!1,Dt=new St;function Mt(){for(var t;t=At();){try{t.a.call(t.b)}catch(n){jt(n)}var e=Ct;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Rt=!1}function Lt(t,e){kt.call(this),this.b=t||1,this.a=e||u,this.f=g(this.Za,this),this.g=y()}function Ft(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ut(t,e,n){if("function"===typeof t)n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}b(Lt,kt),(o=Lt.prototype).aa=!1,o.M=null,o.Za=function(){if(this.aa){var t=y()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ot(this,"tick"),this.aa&&(Ft(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=y())},o.G=function(){Lt.X.G.call(this),Ft(this),delete this.a};var Vt=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Ut(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function Bt(t){_.call(this),this.b=t,this.a={}}b(Bt,_);var zt=[];function qt(t,e,n,r){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wt(t){j(t.a,function(t,e){this.a.hasOwnProperty(e)&&gt(t)},t),t.a={}}function Ht(){this.a=!0}function Kt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Et(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}Bt.prototype.G=function(){Bt.X.G.call(this),Wt(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ht.prototype.info=function(){};var Gt={},Yt=null;function $t(){return Yt=Yt||new kt}function Qt(t){nt.call(this,Gt.Fa,t)}function Xt(t){var e=$t();Ot(e,new Qt(e,t))}function Jt(t,e){nt.call(this,Gt.STAT_EVENT,t),this.stat=e}function Zt(t){var e=$t();Ot(e,new Jt(e,t))}function te(t){nt.call(this,Gt.Ga,t)}function ee(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){t()},e)}Gt.Fa="serverreachability",b(Qt,nt),Gt.STAT_EVENT="statevent",b(Jt,nt),Gt.Ga="timingevent",b(te,nt);var ne={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},re={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ie(){}function oe(t){var e;return(e=t.a)||(e=t.a={}),e}function ae(){}ie.prototype.a=null;var se,ue={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ce(){nt.call(this,"d")}function le(){nt.call(this,"c")}function fe(){}function he(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Bt(this),this.P=de,t=B?125:void 0,this.R=new Lt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(ce,nt),b(le,nt),b(fe,ie),se=new fe;var de=45e3,pe={},ve={};function ge(t,e,n){t.H=1,t.i=Fe(je(e)),t.j=n,t.I=!0,me(t,null)}function me(t,e){t.u=y(),_e(t),t.l=je(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Xe(n.b,"t",r),t.D=0,t.a=Kn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Vt(g(t.Ca,t,t.a),t.O)),qt(t.J,t.a,"readystatechange",t.Xa),e=t.B?N(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Xt(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ye(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=be(t,n);if(i==ve){4==e&&(t.h=4,Zt(14),r=!1),Kt(t.c,t.f,null,"[Incomplete Response]");break}if(i==pe){t.h=4,Zt(15),Kt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Kt(t.c,t.f,i,null),Te(t,i)}4==e&&0==n.length&&(t.h=1,Zt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fn(e),e.F=!0,Zt(11))):(Kt(t.c,t.f,n,"[Invalid Chunked Response]"),Oe(t),ke(t))}function be(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.D=r+n,e))}function _e(t){t.T=y()+t.P,we(t,t.P)}function we(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ee(g(t.Va,t),e)}function xe(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function ke(t){0==t.g.v||t.A||Bn(t.g,t)}function Oe(t){xe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ft(t.R),Wt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Te(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||on(n.b,t)))if(n.I=t.N,!t.C&&on(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vn(n),Cn(n)}Ln(n),Zt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ee(g(n.Sa,n),6e3));if(1>=rn(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else qn(n,11)}else if((t.C||n.a==t)&&Vn(n),!T(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(I(l,"spdy")||I(l,"quic")||I(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(an(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Le(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=y()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Hn(u,u.C?u.ga:null,u.fa),d.C){sn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(xe(p),_e(p)),u.a=d}else Mn(u);0<n.g.length&&jn(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):In(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Xt(4)}catch(m){}}function Ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"===typeof t)x(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(l(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Se(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Se)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ce(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ce(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=he.prototype).setTimeout=function(t){this.P=t},o.Xa=function(t){t=t.target;var e=this.F;e&&3==On(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=On(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!B&&!this.a.$())){this.A||4!=e||7==n||Xt(8==n||0>=r?3:2),xe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Zt(12),Oe(this),ke(this);break t}Kt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Te(this,u)}this.I?(ye(this,e,o),B&&this.b&&3==e&&(qt(this.J,this.R,"tick",this.Wa),this.R.start())):(Kt(this.c,this.f,o,null),Te(this,o)),4==e&&Oe(this),this.b&&!this.A&&(4==e?Bn(this.g,this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zt(12)):(this.h=0,Zt(13)),Oe(this),ke(this)}}}catch(c){}},o.Wa=function(){if(this.a){var t=On(this.a),e=this.a.$();this.D<e.length&&(xe(this),ye(this,t,e),this.b&&4!=t&&_e(this))}},o.cancel=function(){this.A=!0,Oe(this)},o.Va=function(){this.o=null;var t=y();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Xt(3),Zt(17)),Oe(this),this.h=2,ke(this)):we(this,this.T-t)},(o=Se.prototype).K=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Ie(this),this.a.concat()},o.get=function(t,e){return Ce(this.b,t)?this.b[t]:e},o.set=function(t,e){Ce(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pe){this.a=void 0!==e?e:t.a,Ne(this,t.f),this.j=t.j,Re(this,t.c),De(this,t.h),this.g=t.g,e=t.b;var n=new Ge;n.c=e.c,e.a&&(n.a=new Se(e.a),n.b=e.b),Me(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,Ne(this,n[1]||"",!0),this.j=Ue(n[2]||""),Re(this,n[3]||"",!0),De(this,n[4]),this.g=Ue(n[5]||"",!0),Me(this,n[6]||"",!0),this.i=Ue(n[7]||"")):(this.a=!!e,this.b=new Ge(null,this.a))}function je(t){return new Pe(t)}function Ne(t,e,n){t.f=n?Ue(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Re(t,e,n){t.c=n?Ue(e,!0):e}function De(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Me(t,e,n){e instanceof Ge?(t.b=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),Xe(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ve(e,He)),t.b=new Ge(e,t.a))}function Le(t,e,n){t.b.set(e,n)}function Fe(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),t}function Ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ve(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Be),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Be(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ve(e,ze,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ve(e,ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ve(n,"/"==n.charAt(0)?We:qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ve(n,Ke)),t.join("")};var ze=/[#\/\?@]/g,qe=/[#\?:]/g,We=/[#\?]/g,He=/[#\?@]/g,Ke=/#/g;function Ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Se,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $e(t,e){Ye(t),e=Je(t,e),Ce(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ce((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t)))}function Qe(t,e){return Ye(t),e=Je(t,e),Ce(t.a.b,e)}function Xe(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(Je(t,e),O(n)),t.b+=n.length)}function Je(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(o=Ge.prototype).add=function(t,e){Ye(this),this.c=null,t=Je(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Ye(this),this.a.forEach(function(n,r){x(n,function(n){t.call(e,n,r,this)},this)},this)},o.L=function(){Ye(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Ye(this);var e=[];if("string"===typeof t)Qe(this,t)&&(e=k(e,this.a.get(Je(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},o.set=function(t,e){return Ye(this),this.c=null,Qe(this,t=Je(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ze=function(){return function(t,e){this.b=t,this.a=e}}();function tn(t){this.g=t||en,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var en=10;function nn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function rn(t){return t.b?1:t.a?t.a.size:0}function on(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function an(t,e){t.a?t.a.add(e):t.b=e}function sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function un(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return O(t.c)}function cn(){}function ln(){this.a=new cn}function fn(t,e,n){var r=n||"";try{Ee(t,function(t,n){var i=t;f(t)&&(i=Et(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}tn.prototype.cancel=function(){var t,e;if(this.c=un(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},cn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var dn=u.JSON.parse;function pn(t){kt.call(this),this.headers=new Se,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vn,this.D=this.F=!1}b(pn,kt);var vn="",gn=/^https?$/i,mn=["POST","PUT"];function yn(t){return"content-type"==t.toLowerCase()}function bn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,_n(t),xn(t)}function _n(t){t.u||(t.u=!0,Ot(t,"complete"),Ot(t,"error"))}function wn(t){if(t.b&&"undefined"!=typeof s&&(!t.s[1]||4!=On(t)||2!=t.W()))if(t.l&&4==On(t))Ut(t.za,0,t);else if(Ot(t,"readystatechange"),4==On(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ae)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!gn.test(o?o.toLowerCase():"")}e=i}if(e)Ot(t,"complete"),Ot(t,"success");else{t.h=6;try{var c=2<On(t)?t.a.statusText:""}catch(n){c=""}t.f=c+" ["+t.W()+"]",_n(t)}}finally{xn(t)}}}function xn(t,e){if(t.a){kn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function kn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function On(t){return t.a?t.a.readyState:0}function Tn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return j(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function En(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sn(t){this.pa=0,this.g=[],this.c=new Ht,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=En("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=En("baseRetryDelayMs",5e3,t),this.Ra=En("retryDelaySeedMs",1e4,t),this.Ma=En("forwardChannelMaxRetries",2,t),this.ma=En("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new tn(t&&t.concurrentRequestLimit),this.ka=new ln,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function In(t){if(An(t),3==t.v){var e=t.R++,n=je(t.B);Le(n,"SID",t.J),Le(n,"RID",e),Le(n,"TYPE","terminate"),Rn(t,n),(e=new he(t,t.c,e,void 0)).H=2,e.i=Fe(je(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kn(e.g,null),e.a.ba(e.i)),e.u=y(),_e(e)}Wn(t)}function Cn(t){t.a&&(Fn(t),t.a.cancel(),t.a=null)}function An(t){Cn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Vn(t),t.b.cancel(),t.h&&("number"===typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Pn(t,e){t.g.push(new Ze(t.Oa++,e)),3==t.v&&jn(t)}function jn(t){nn(t.b)||t.h||(t.h=!0,Nt(t.Ba,t),t.u=0)}function Nn(t,e){var n;n=e?e.f:t.R++;var r=je(t.B);Le(r,"SID",t.J),Le(r,"RID",n),Le(r,"AID",t.P),Rn(t,r),t.i&&t.l&&Tn(r,t.i,t.l),n=new he(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Dn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),an(t.b,n),ge(n,r,e)}function Rn(t,e){t.f&&Ee({},function(t,n){Le(e,n,t)})}function Dn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?g(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{fn(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mn(t){t.a||t.j||(t.T=1,Nt(t.Aa,t),t.o=0)}function Ln(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ee(g(t.Aa,t),zn(t,t.o)),t.o++,!0)}function Fn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Un(t){t.a=new he(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=je(t.la);Le(e,"RID","rpc"),Le(e,"SID",t.J),Le(e,"CI",t.H?"0":"1"),Le(e,"AID",t.P),Rn(t,e),Le(e,"TYPE","xmlhttp"),t.i&&t.l&&Tn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fe(je(e)),n.j=null,n.I=!0,me(n,t)}function Vn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Bn(t,e){var n=null;if(t.a==e){Vn(t),Fn(t),t.a=null;var r=2}else{if(!on(t.b,e))return;n=e.s,sn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=y()-e.u;var i=t.u;Ot(r=$t(),new te(r,n,e,i)),jn(t)}else Mn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(rn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=ee(g(t.Ba,t,e),zn(t,t.u)),t.u++,!0))}(t,e)||2==r&&Ln(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}function zn(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Ya,t);n||(n=new Pe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ne(n,"https"),Fe(n)),function(t,e){var n=new Ht;if(u.Image){var r=new Image;r.onload=m(hn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(hn,n,r,"TestLoadImage: error",!1,e),r.onabort=m(hn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(hn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.v=0,t.f&&t.f.ra(e),Wn(t),An(t)}function Wn(t){t.v=0,t.I=-1,t.f&&(0==un(t.b).length&&0==t.g.length||(t.b.c.length=0,O(t.g),t.g.length=0),t.f.qa())}function Hn(t,e,n){var r=function(t){return t instanceof Pe?je(t):new Pe(t,void 0)}(n);if(""!=r.c)e&&Re(r,e+"."+r.c),De(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new Pe(null,void 0);return t&&Ne(i,t),e&&Re(i,e),n&&De(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&j(t.V,function(t,e){Le(r,e,t)}),e=t.A,n=t.na,e&&n&&Le(r,e,n),Le(r,"VER",t.ha),Rn(t,r),r}function Kn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pn(t.Na)).F=t.C,e}function Gn(){}function Yn(){if(U&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function $n(t,e){kt.call(this),this.a=new Sn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Jn(this)}function Qn(t){ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xn(){le.call(this),this.status=1}function Jn(t){this.a=t}(o=pn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?oe(this.H):oe(se),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void bn(this,o)}t=n||"";var i=new Se(this.headers);r&&Ee(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=yn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=w(mn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{kn(this),0<this.o&&((this.D=function(t){return U&&Q(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=Ut(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){bn(this,o)}},o.xa=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ot(this,"timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ot(this,"complete"),Ot(this,"abort"),xn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xn(this,!0)),pn.X.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?wn(this):this.Ua())},o.Ua=function(){wn(this)},o.W=function(){try{return 2<On(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(o=Sn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new he(this,this.c,t,void 0),r=this.l;if(this.O&&(r?D(r=N(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Dn(this,n,e),Le(i=je(this.B),"RID",t),Le(i,"CVER",22),this.A&&Le(i,"X-HTTP-Session-Id",this.A),Rn(this,i),this.i&&r&&Tn(i,this.i,r),an(this.b,n),this.Ia&&Le(i,"TYPE","init"),this.da?(Le(i,"$req",e),Le(i,"SID","null"),n.U=!0,ge(n,i,null)):ge(n,i,e),this.v=2}}else 3==this.v&&(t?Nn(this,t):0==this.g.length||nn(this.b)||Nn(this))},o.Aa=function(){if(this.j=null,Un(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ee(g(this.Ta,this),t)}},o.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Zt(10),Cn(this),Un(this))},o.Sa=function(){null!=this.m&&(this.m=null,Cn(this),Ln(this),Zt(19))},o.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Zt(2)):(this.c.info("Failed to ping google.com"),Zt(1))},(o=Gn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ja=function(){},Yn.prototype.a=function(t,e){return new $n(t,e)},b($n,kt),$n.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Zt(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Hn(t,null,t.fa),jn(t)},$n.prototype.close=function(){In(this.a)},$n.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,Pn(this.a,e)}else this.l?((e={}).__data__=Et(t),Pn(this.a,e)):Pn(this.a,t)},$n.prototype.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,$n.X.G.call(this)},b(Qn,ce),b(Xn,le),b(Jn,Gn),Jn.prototype.ta=function(){Ot(this.a,"a")},Jn.prototype.sa=function(t){Ot(this.a,new Qn(t))},Jn.prototype.ra=function(t){Ot(this.a,new Xn(t))},Jn.prototype.qa=function(){Ot(this.a,"b")},Yn.prototype.createWebChannel=Yn.prototype.a,$n.prototype.send=$n.prototype.h,$n.prototype.open=$n.prototype.g,$n.prototype.close=$n.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",ae.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",kt.prototype.listen=kt.prototype.va,pn.prototype.listenOnce=pn.prototype.wa,pn.prototype.getLastError=pn.prototype.Qa,pn.prototype.getLastErrorCode=pn.prototype.ua,pn.prototype.getStatus=pn.prototype.W,pn.prototype.getResponseJson=pn.prototype.Pa,pn.prototype.getResponseText=pn.prototype.$,pn.prototype.send=pn.prototype.ba;var Zn=function(){return new Yn},tr=function(){return $t()},er=ne,nr=re,rr=Gt,ir={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},or=ae,ar=pn}).call(this,n(40))},,function(t,e,n){"use strict";var r=n(107),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function a(t){return"undefined"===typeof t}function s(t){return null!==t&&"object"===typeof t}function u(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:l,merge:function t(){var e={};function n(n,r){u(e[r])&&u(n)?e[r]=t(e[r],n):u(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,n){"use strict";var r=!0,i="Invariant failed";e.a=function(t,e){if(!t){if(r)throw new Error(i);throw new Error(i+": "+(e||""))}}},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return m});var r=n(16),i=n(24),o=n(1),a=n.n(o),s=n(28),u=(n(10),n(18)),c=n(46),l=n(23),f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.a)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var h=function(t,e){return"function"===typeof t?t(e):t},d=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},p=function(t){return t},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var g=v(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.a)(t,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=p!==v&&e||n,a.a.createElement("a",l)});var m=v(function(t,e){var n=t.component,i=void 0===n?g:n,o=t.replace,s=t.to,f=t.innerRef,m=Object(c.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,function(t){t||Object(l.a)(!1);var n=t.history,r=d(h(s,t.location),t.location),c=r?n.createHref(r):"",g=Object(u.a)({},m,{href:c,navigate:function(){var e=h(s,t.location);(o?n.replace:n.push)(e)}});return p!==v?g.ref=e||f:g.innerRef=f,a.a.createElement(i,g)})}),y=function(t){return t},b=a.a.forwardRef;"undefined"===typeof b&&(b=y);b(function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,f=t.activeStyle,p=t.className,v=t.exact,g=t.isActive,_=t.location,w=t.sensitive,x=t.strict,k=t.style,O=t.to,T=t.innerRef,E=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,function(t){t||Object(l.a)(!1);var n=_||t.location,o=d(h(O,n),n),c=o.pathname,S=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=S?Object(r.e)(n.pathname,{path:S,exact:v,sensitive:w,strict:x}):null,C=!!(g?g(I,n):I),A=C?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t}).join(" ")}(p,s):p,P=C?Object(u.a)({},k,{},f):k,j=Object(u.a)({"aria-current":C&&i||null,className:A,style:P,to:o},E);return y!==b?j.ref=e||T:j.innerRef=T,a.a.createElement(m,j)})})},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return c});var r=n(9),i=n(17),o=n(50);function a(t){return t.projection.isEnabled||t.shouldResetTransform()}function s(t,e){void 0===e&&(e=[]);var n=t.parent;return n&&s(n,e),a(t)&&e.push(t),e}function u(t){var e=[];return t.children.forEach(function t(n){a(n)&&e.push(n),n.children.forEach(t)}),e.sort(o.a)}function c(t){if(!t.shouldResetTransform()){var e=t.getLayoutState();t.notifyBeforeLayoutMeasure(e.layout),e.isHydrated=!0,e.layout=t.measureViewportBox(),e.layoutCorrected=Object(i.d)(e.layout),t.notifyLayoutMeasure(e.layout,t.prevViewportBox||e.layout),r.b.update(function(){return t.rebaseProjectionTarget()})}}function l(t){t.shouldResetTransform()||(t.prevViewportBox=t.measureViewportBox(!1),t.rebaseProjectionTarget(!1,t.prevViewportBox))}},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(18);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),c=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])});if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every(function(r){return t(e[r],n[r])})}return!1},c=n(23);function l(t){return"/"===t.charAt(0)?t:"/"+t}function f(t){return"/"===t.charAt(0)?t.substr(1):t}function h(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function d(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function p(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function m(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}n.d(e,"a",function(){return k}),n.d(e,"b",function(){return C}),n.d(e,"d",function(){return P}),n.d(e,"c",function(){return v}),n.d(e,"f",function(){return g}),n.d(e,"e",function(){return p});var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}var _="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(t){return{}}}function k(t){void 0===t&&(t={}),y||Object(c.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,g=o.keyLength,k=void 0===g?6:g,O=t.basename?d(l(t.basename)):"";function T(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return O&&(o=h(o,O)),v(o,r,n)}function E(){return Math.random().toString(36).substr(2,k)}var S=m();function I(t){Object(r.a)(V,t),V.length=e.length,S.notifyListeners(V.location,V.action)}function C(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||j(T(t.state))}function A(){j(T(x()))}var P=!1;function j(t){if(P)P=!1,I();else{S.confirmTransitionTo(t,"POP",f,function(e){e?I({action:"POP",location:t}):function(t){var e=V.location,n=R.indexOf(e.key);-1===n&&(n=0);var r=R.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,M(i))}(t)})}}var N=T(x()),R=[N.key];function D(t){return O+p(t)}function M(t){e.go(t)}var L=0;function F(t){1===(L+=t)&&1===t?(window.addEventListener(_,C),i&&window.addEventListener(w,A)):0===L&&(window.removeEventListener(_,C),i&&window.removeEventListener(w,A))}var U=!1;var V={length:e.length,action:"POP",location:N,createHref:D,push:function(t,r){var i=v(t,r,E(),V.location);S.confirmTransitionTo(i,"PUSH",f,function(t){if(t){var r=D(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=R.indexOf(V.location.key),c=R.slice(0,u+1);c.push(i.key),R=c,I({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(t,r){var i=v(t,r,E(),V.location);S.confirmTransitionTo(i,"REPLACE",f,function(t){if(t){var r=D(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=R.indexOf(V.location.key);-1!==u&&(R[u]=i.key),I({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=S.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=S.appendListener(t);return F(1),function(){F(-1),e()}}};return V}var O="hashchange",T={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+f(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function E(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function S(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function I(t){window.location.replace(E(window.location.href)+"#"+t)}function C(t){void 0===t&&(t={}),y||Object(c.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?d(l(t.basename)):"",f=T[s],g=f.encodePath,_=f.decodePath;function w(){var t=_(S());return u&&(t=h(t,u)),v(t)}var x=m();function k(t){Object(r.a)(V,t),V.length=e.length,x.notifyListeners(V.location,V.action)}var C=!1,A=null;function P(){var t,e,n=S(),r=g(n);if(n!==r)I(r);else{var i=w(),a=V.location;if(!C&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(A===p(i))return;A=null,function(t){if(C)C=!1,k();else{x.confirmTransitionTo(t,"POP",o,function(e){e?k({action:"POP",location:t}):function(t){var e=V.location,n=D.lastIndexOf(p(e));-1===n&&(n=0);var r=D.lastIndexOf(p(t));-1===r&&(r=0);var i=n-r;i&&(C=!0,M(i))}(t)})}}(i)}}var j=S(),N=g(j);j!==N&&I(N);var R=w(),D=[p(R)];function M(t){e.go(t)}var L=0;function F(t){1===(L+=t)&&1===t?window.addEventListener(O,P):0===L&&window.removeEventListener(O,P)}var U=!1;var V={length:e.length,action:"POP",location:R,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=E(window.location.href)),n+"#"+g(u+p(t))},push:function(t,e){var n=v(t,void 0,void 0,V.location);x.confirmTransitionTo(n,"PUSH",o,function(t){if(t){var e=p(n),r=g(u+e);if(S()!==r){A=e,function(t){window.location.hash=t}(r);var i=D.lastIndexOf(p(V.location)),o=D.slice(0,i+1);o.push(e),D=o,k({action:"PUSH",location:n})}else k()}})},replace:function(t,e){var n=v(t,void 0,void 0,V.location);x.confirmTransitionTo(n,"REPLACE",o,function(t){if(t){var e=p(n),r=g(u+e);S()!==r&&(A=e,I(r));var i=D.indexOf(p(V.location));-1!==i&&(D[i]=e),k({action:"REPLACE",location:n})}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=x.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=x.appendListener(t);return F(1),function(){F(-1),e()}}};return V}function A(t,e,n){return Math.min(Math.max(t,e),n)}function P(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,l=m();function f(t){Object(r.a)(_,t),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=A(s,0,o.length-1),g=o.map(function(t){return v(t,void 0,"string"===typeof t?h():t.key||h())}),y=p;function b(t){var e=A(_.index+t,0,_.entries.length-1),r=_.entries[e];l.confirmTransitionTo(r,"POP",n,function(t){t?f({action:"POP",location:r,index:e}):f()})}var _={length:g.length,action:"POP",location:g[d],index:d,entries:g,createHref:y,push:function(t,e){var r=v(t,e,h(),_.location);l.confirmTransitionTo(r,"PUSH",n,function(t){if(t){var e=_.index+1,n=_.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),f({action:"PUSH",location:r,index:e,entries:n})}})},replace:function(t,e){var r=v(t,e,h(),_.location);l.confirmTransitionTo(r,"REPLACE",n,function(t){t&&(_.entries[_.index]=r,f({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=_.index+t;return e>=0&&e<_.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return _}},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(9),a=n(26),s=n(41),u=n(50),c=n(45),l={layoutReady:function(t){return t.notifyLayoutReady()}};function f(){var t=new Set;return{add:function(e){return t.add(e)},flush:function(e){var n=void 0===e?l:e,r=n.layoutReady,f=n.parent;Object(s.a)(function(e,n){var s=Array.from(t).sort(u.a),l=f?Object(a.a)(f):[];n(function(){Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(l)),Object(i.__read)(s)).forEach(function(t){return t.resetTransform()})}),e(function(){s.forEach(a.d)}),n(function(){l.forEach(function(t){return t.restoreTransform()}),s.forEach(r)}),e(function(){s.forEach(function(t){t.isPresent&&(t.presence=c.a.Present)})}),n(function(){o.c.preRender(),o.c.render()}),e(function(){o.b.postRender(function(){return s.forEach(h)}),t.clear()})}),Object(s.b)()}}}function h(t){t.prevViewportBox=t.projection.target}n.d(e,"a",function(){return p}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return v});var d=Object(r.createContext)(f()),p=Object(r.createContext)(f());function v(t){return!!t.forceUpdate}},,function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1),i=Object(r.createContext)(null)},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(87),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(56),i=n(10),o=n.n(i),a=n(1),s=n.n(a);function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function h(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(t){return e=t,(e-=0)===e?t:(t=t.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})).substr(0,1).toLowerCase()+t.substr(1);var e}var v=!1;try{v=!0}catch(_){}function g(t){return r.b.icon?r.b.icon(t):null===t?null:"object"===u(t)&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"===typeof t?{prefix:"fas",iconName:t}:void 0}function m(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?c({},t,e):{}}function y(t){var e=t.forwardedRef,n=h(t,["forwardedRef"]),i=n.icon,o=n.mask,a=n.symbol,s=n.className,u=n.title,l=n.titleId,p=g(i),_=m("classes",[].concat(d(function(t){var e,n=t.spin,r=t.pulse,i=t.fixedWidth,o=t.inverse,a=t.border,s=t.listItem,u=t.flip,l=t.size,f=t.rotation,h=t.pull,d=(c(e={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":o,"fa-border":a,"fa-li":s,"fa-flip-horizontal":"horizontal"===u||"both"===u,"fa-flip-vertical":"vertical"===u||"both"===u},"fa-".concat(l),"undefined"!==typeof l&&null!==l),c(e,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f&&0!==f),c(e,"fa-pull-".concat(h),"undefined"!==typeof h&&null!==h),c(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(d).map(function(t){return d[t]?t:null}).filter(function(t){return t})}(n)),d(s.split(" ")))),w=m("transform","string"===typeof n.transform?r.b.transform(n.transform):n.transform),x=m("mask",g(o)),k=Object(r.a)(p,f({},_,{},w,{},x,{symbol:a,title:u,titleId:l}));if(!k)return function(){var t;!v&&console&&"function"===typeof console.error&&(t=console).error.apply(t,arguments)}("Could not find icon",p),null;var O=k.abstract,T={ref:e};return Object.keys(n).forEach(function(t){y.defaultProps.hasOwnProperty(t)||(T[t]=n[t])}),b(O[0],T)}y.displayName="FontAwesomeIcon",y.propTypes={border:o.a.bool,className:o.a.string,mask:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),fixedWidth:o.a.bool,inverse:o.a.bool,flip:o.a.oneOf(["horizontal","vertical","both"]),icon:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),listItem:o.a.bool,pull:o.a.oneOf(["right","left"]),pulse:o.a.bool,rotation:o.a.oneOf([0,90,180,270]),size:o.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o.a.bool,symbol:o.a.oneOfType([o.a.bool,o.a.string]),title:o.a.string,transform:o.a.oneOfType([o.a.string,o.a.object]),swapOpacity:o.a.bool},y.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var b=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map(function(n){return t(e,n)}),o=Object.keys(n.attributes||{}).reduce(function(t,e){var r=n.attributes[e];switch(e){case"class":t.attrs.className=r,delete n.attributes.class;break;case"style":t.attrs.style=r.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n,r=e.indexOf(":"),i=p(e.slice(0,r)),o=e.slice(r+1).trim();return i.startsWith("webkit")?t[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:t[i]=o,t},{});break;default:0===e.indexOf("aria-")||0===e.indexOf("data-")?t.attrs[e.toLowerCase()]=r:t.attrs[p(e)]=r}return t},{attrs:{}}),a=r.style,s=void 0===a?{}:a,u=h(r,["style"]);return o.attrs.style=f({},o.attrs.style,{},s),e.apply(void 0,[n.tag,f({},o.attrs,{},u)].concat(d(i)))}.bind(null,s.a.createElement)},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return u});var r={prefix:"fas",iconName:"chart-line",icon:[512,512,[],"f201","M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"]},i={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M464,128H272L208,64H48A48,48,0,0,0,0,112V400a48,48,0,0,0,48,48H464a48,48,0,0,0,48-48V176A48,48,0,0,0,464,128ZM359.5,296a16,16,0,0,1-16,16h-64v64a16,16,0,0,1-16,16h-16a16,16,0,0,1-16-16V312h-64a16,16,0,0,1-16-16V280a16,16,0,0,1,16-16h64V200a16,16,0,0,1,16-16h16a16,16,0,0,1,16,16v64h64a16,16,0,0,1,16,16Z"]},o={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]},a={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},s={prefix:"fas",iconName:"socks",icon:[512,512,[],"f696","M214.66 311.01L288 256V96H128v176l-86.65 64.61c-39.4 29.56-53.86 84.42-29.21 127.06C30.39 495.25 63.27 512 96.08 512c20.03 0 40.25-6.25 57.52-19.2l21.86-16.39c-29.85-55.38-13.54-125.84 39.2-165.4zM288 32c0-11.05 3.07-21.3 8.02-30.38C293.4.92 290.85 0 288 0H160c-17.67 0-32 14.33-32 32v32h160V32zM480 0H352c-17.67 0-32 14.33-32 32v32h192V32c0-17.67-14.33-32-32-32zM320 272l-86.13 64.61c-39.4 29.56-53.86 84.42-29.21 127.06 18.25 31.58 50.61 48.33 83.42 48.33 20.03 0 40.25-6.25 57.52-19.2l115.2-86.4A127.997 127.997 0 0 0 512 304V96H320v176z"]},u={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]}},,function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1);function i(t){var e=Object(r.useRef)(null);return null===e.current&&(e.current=t()),e.current}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=new Set;function i(t,e,n){t[n]||(t[n]=[]),t[n].push(e)}function o(t){return r.add(t),function(){return r.delete(t)}}function a(){if(r.size){var t=0,e=[[]],n=[],o=function(n){return i(e,n,t)},a=function(e){i(n,e,t),t++};r.forEach(function(e){e(o,a),t=0}),r.clear();for(var u=n.length,c=0;c<=u;c++)e[c]&&e[c].forEach(s),n[c]&&n[c].forEach(s)}}var s=function(t){return t()}},function(t,e,n){!function(t){"use strict";function e(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function n(t,n,r){var i,o=new Promise(function(o,a){e(i=t[n].apply(t,r)).then(o,a)});return o.request=i,o}function r(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function i(t,e,r,i){i.forEach(function(i){i in r.prototype&&(t.prototype[i]=function(){return n(this[e],i,arguments)})})}function o(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function a(t,e,r,i){i.forEach(function(i){i in r.prototype&&(t.prototype[i]=function(){return function(t,e,r){var i=n(t,e,r);return i.then(function(t){if(t)return new u(t,i.request)})}(this[e],i,arguments)})})}function s(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function c(t){this._store=t}function l(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new l(n)}function h(t){this._db=t}r(s,"_index",["name","keyPath","multiEntry","unique"]),i(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(u,"_cursor",["direction","key","primaryKey","value"]),i(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then(function(t){if(t)return new u(t,n._request)})})})}),c.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(c,"_store",["name","keyPath","indexNames","autoIncrement"]),i(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(c,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),o(l,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),o(f,"_db",IDBDatabase,["deleteObjectStore","close"]),h.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(h,"_db",["name","version","objectStoreNames"]),o(h,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[c,s].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e,n=(e=arguments,Array.prototype.slice.call(e)),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[s,c].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,r){var i=n(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){r&&r(new f(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new h(t)})},t.deleteDb=function(t){return n(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){var r=n(138),i=n(143);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var r,i;n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),function(t){t[t.Entering=0]="Entering",t[t.Present=1]="Present",t[t.Exiting=2]="Exiting"}(r||(r={})),function(t){t[t.Hide=0]="Hide",t[t.Show=1]="Show"}(i||(i={}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(59),i=n(139),o=n(140),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(72),i=n(77);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1);function i(t){return Object(r.useEffect)(function(){return function(){return t()}},[])}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t.depth-e.depth}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(19);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){Object(r.a)(t,e,n[e])})}return t}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=n(232)},function(t,e,n){"use strict";var r=n(54),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(e),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=h(n,m);try{c(e,m,y)}catch(b){}}}}return e}},function(t,e,n){"use strict";(function(t,r){function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return jt}),n.d(e,"b",function(){return Pt});var c=function(){},l={},f={},h={mark:c,measure:c};try{"undefined"!==typeof window&&(l=window),"undefined"!==typeof document&&(f=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(h=performance)}catch(Nt){}var d=(l.navigator||{}).userAgent,p=void 0===d?"":d,v=l,g=f,m=h,y=(v.document,!!g.documentElement&&!!g.head&&"function"===typeof g.addEventListener&&"function"===typeof g.createElement),b=(~p.indexOf("MSIE")||p.indexOf("Trident/"),"fa"),_="svg-inline--fa",w="data-fa-i2svg",x=(function(){try{}catch(Nt){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),k=x.concat([11,12,13,14,15,16,17,18,19,20]),O={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},T=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",O.GROUP,O.SWAP_OPACITY,O.PRIMARY,O.SECONDARY].concat(x.map(function(t){return"".concat(t,"x")})).concat(k.map(function(t){return"w-".concat(t)})),v.FontAwesomeConfig||{});if(g&&"function"===typeof g.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=u(t,2),n=e[0],r=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=g.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n));void 0!==i&&null!==i&&(T[r]=i)})}var E=s({},{familyPrefix:b,replacementClass:_,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},T);E.autoReplaceSvg||(E.observeMutations=!1);var S=s({},E);v.FontAwesomeConfig=S;var I=v||{};I.___FONT_AWESOME___||(I.___FONT_AWESOME___={}),I.___FONT_AWESOME___.styles||(I.___FONT_AWESOME___.styles={}),I.___FONT_AWESOME___.hooks||(I.___FONT_AWESOME___.hooks={}),I.___FONT_AWESOME___.shims||(I.___FONT_AWESOME___.shims=[]);var C=I.___FONT_AWESOME___,A=[];y&&((g.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(g.readyState)||g.addEventListener("DOMContentLoaded",function t(){g.removeEventListener("DOMContentLoaded",t),1,A.map(function(t){return t()})}));var P,j="pending",N="settled",R="fulfilled",D="rejected",M=function(){},L="undefined"!==typeof t&&"undefined"!==typeof t.process&&"function"===typeof t.process.emit,F="undefined"===typeof r?setTimeout:r,U=[];function V(){for(var t=0;t<U.length;t++)U[t][0](U[t][1]);U=[],P=!1}function B(t,e){U.push([t,e]),P||(P=!0,F(V,0))}function z(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"===typeof i){n=R;try{r=i(r)}catch(Nt){K(o,Nt)}}q(o,r)||(n===R&&W(o,r),n===D&&K(o,r))}function q(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"===typeof e||"object"===i(e))){var r=e.then;if("function"===typeof r)return r.call(e,function(r){n||(n=!0,e===r?H(t,r):W(t,r))},function(e){n||(n=!0,K(t,e))}),!0}}catch(Nt){return n||K(t,Nt),!0}return!1}function W(t,e){t!==e&&q(t,e)||H(t,e)}function H(t,e){t._state===j&&(t._state=N,t._data=e,B(Y,t))}function K(t,e){t._state===j&&(t._state=N,t._data=e,B($,t))}function G(t){t._then=t._then.forEach(z)}function Y(t){t._state=R,G(t)}function $(e){e._state=D,G(e),!e._handled&&L&&t.process.emit("unhandledRejection",e._data,e)}function Q(e){t.process.emit("rejectionHandled",e)}function X(t){if("function"!==typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof X===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){K(e,t)}try{t(function(t){W(e,t)},n)}catch(Nt){n(Nt)}}(t,this)}X.prototype={constructor:X,_state:j,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(M),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===D&&L&&B(Q,this)),this._state===R||this._state===D?B(z,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},X.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new X(function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"===typeof a.then?a.then(o(s),n):r[s]=a;i||e(r)})},X.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new X(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"===typeof r.then?r.then(e,n):e(r)})},X.resolve=function(t){return t&&"object"===i(t)&&t.constructor===X?t:new X(function(e){e(t)})},X.reject=function(t){return new X(function(e,n){n(t)})};"function"===typeof Promise&&Promise;var J={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Z(t){if(t&&y){var e=g.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=g.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return g.head.insertBefore(e,r),t}}var tt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function et(){for(var t=12,e="";t-- >0;)e+=tt[62*Math.random()|0];return e}function nt(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rt(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function it(t){return t.size!==J.size||t.x!==J.x||t.y!==J.y||t.rotate!==J.rotate||t.flipX||t.flipY}function ot(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var at={x:0,y:0,width:"100%",height:"100%"};function st(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function ut(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,a=t.transform,u=t.symbol,c=t.title,l=t.maskId,f=t.titleId,h=t.extra,d=t.watchable,p=void 0!==d&&d,v=r.found?r:n,g=v.width,m=v.height,y="fak"===i,b=y?"":"fa-w-".concat(Math.ceil(g/m*16)),_=[S.replacementClass,o?"".concat(S.familyPrefix,"-").concat(o):"",b].filter(function(t){return-1===h.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(h.classes).join(" "),x={children:[],attributes:s({},h.attributes,{"data-prefix":i,"data-icon":o,class:_,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},k=y&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};p&&(x.attributes[w]=""),c&&x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(f||et())},children:[c]});var O=s({},x,{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:a,symbol:u,styles:s({},k,h.styles)}),T=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,a=t.maskId,u=t.transform,c=i.width,l=i.icon,f=o.width,h=o.icon,d=ot({transform:u,containerWidth:f,iconWidth:c}),p={tag:"rect",attributes:s({},at,{fill:"white"})},v=l.children?{children:l.children.map(st)}:{},g={tag:"g",attributes:s({},d.inner),children:[st(s({tag:l.tag,attributes:s({},l.attributes,d.path)},v))]},m={tag:"g",attributes:s({},d.outer),children:[g]},y="mask-".concat(a||et()),b="clip-".concat(a||et()),_={tag:"mask",attributes:s({},at,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,m]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(e=h,"g"===e.tag?e.children:[e])},_]};return n.push(w,{tag:"rect",attributes:s({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(y,")")},at)}),{children:n,attributes:r}}(O):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=rt(t.styles);if(o.length>0&&(n.style=o),it(i)){var a=ot({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:s({},a.outer),children:[{tag:"g",attributes:s({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:s({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(O),E=T.children,I=T.attributes;return O.children=E,O.attributes=I,u?function(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:s({},i,{id:!0===o?"".concat(e,"-").concat(S.familyPrefix,"-").concat(n):o}),children:r}]}]}(O):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,a=t.transform;if(it(a)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=rt(s({},o,{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(O)}var ct=function(){},lt=(S.measurePerformance&&m&&m.mark&&m.measure,function(t,e,n,r){var i,o,a,s=Object.keys(t),u=s.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,a=t[s[0]]):(i=0,a=n);i<u;i++)a=c(a,t[o=s[i]],o,t);return a});var ft=C.styles,ht=C.shims,dt=function(){var t=function(t){return lt(ft,function(e,n,r){return e[r]=lt(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in ft;lt(ht,function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),t[r]={prefix:i,iconName:o},t},{})};dt();C.styles;function pt(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function vt(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"===typeof t?nt(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(nt(t[n]),'" ')},"").trim()}(r),">").concat(o.map(vt).join(""),"</").concat(e,">")}var gt=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e):e};function mt(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}mt.prototype=Object.create(Error.prototype),mt.prototype.constructor=mt;var yt={fill:"currentColor"},bt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},_t={tag:"path",attributes:s({},yt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},wt=s({},bt,{attributeName:"opacity"});s({},yt,{cx:"256",cy:"364",r:"28"}),s({},bt,{attributeName:"r",values:"28;14;28;28;14;28;"}),s({},wt,{values:"1;0;1;1;0;1;"}),s({},yt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),s({},wt,{values:"1;0;0;0;0;1;"}),s({},yt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),s({},wt,{values:"0;0;1;1;0;0;"}),C.styles;function xt(t){var e=t[0],n=t[1],r=u(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(S.familyPrefix,"-").concat(O.GROUP)},children:[{tag:"path",attributes:{class:"".concat(S.familyPrefix,"-").concat(O.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(S.familyPrefix,"-").concat(O.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}C.styles;var kt='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function Ot(){var t=b,e=_,n=S.familyPrefix,r=S.replacementClass,i=kt;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}function Tt(){S.autoAddCss&&!At&&(Z(Ot()),At=!0)}function Et(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return vt(t)})}}),Object.defineProperty(t,"node",{get:function(){if(y){var e=g.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function St(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return pt(Ct.definitions,n,r)||pt(C.styles,n,r)}var It,Ct=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e,n,r;return e=t,(n=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=s({},t.definitions[e]||{},i[e]),function t(e,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,o=Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{});"function"!==typeof C.hooks.addPack||i?C.styles[e]=s({},C.styles[e]||{},o):C.hooks.addPack(e,o),"fas"===e&&t("fa",n)}(e,i[e]),dt()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,o=r.iconName,a=r.icon;t[i]||(t[i]={}),t[i][o]=a}),t}}])&&o(e.prototype,n),r&&o(e,r),t}()),At=!1,Pt={transform:function(t){return gt(t)}},jt=(It=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?J:n,i=e.symbol,o=void 0!==i&&i,a=e.mask,u=void 0===a?null:a,c=e.maskId,l=void 0===c?null:c,f=e.title,h=void 0===f?null:f,d=e.titleId,p=void 0===d?null:d,v=e.classes,g=void 0===v?[]:v,m=e.attributes,y=void 0===m?{}:m,b=e.styles,_=void 0===b?{}:b;if(t){var w=t.prefix,x=t.iconName,k=t.icon;return Et(s({type:"icon"},t),function(){return Tt(),S.autoA11y&&(h?y["aria-labelledby"]="".concat(S.replacementClass,"-title-").concat(p||et()):(y["aria-hidden"]="true",y.focusable="false")),ut({icons:{main:xt(k),mask:u?xt(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:x,transform:s({},J,r),symbol:o,title:h,maskId:l,titleId:p,extra:{attributes:y,styles:_,classes:g}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:St(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:St(r||{})),It(n,s({},e,{mask:r}))})}).call(this,n(40),n(250).setImmediate)},function(t,e,n){var r=n(128),i=n(129),o=n(130),a=n(131),s=n(132);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(52);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(33).Symbol;t.exports=r},function(t,e,n){var r=n(43)(Object,"create");t.exports=r},function(t,e,n){var r=n(152);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(98),i=n(184),o=n(48);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(47),i=n(44),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(64),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){"use strict";var r=n(1),i=n.n(r);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=n(51),s=n(32),u=n(13),c=n(5);function l(t,e,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(c.a)(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var f=n(14),h=n(19),d=n(4),p=n(6);function v(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function y(t,e,n){var r=n||function(t){return Array.prototype.slice.call(t)},i=!1,o=[];return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];o=r(a),i||(i=!0,m.call(window,function(){i=!1,t.apply(e,o)}))}}var b=function(t){return"start"===t?"left":"end"===t?"right":"center"},_=function(t,e,n){return"start"===t?e:"end"===t?n:(e+n)/2};function w(){}var x=function(){var t=0;return function(){return t++}}();function k(t){return null===t||"undefined"===typeof t}function O(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function T(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}var E=function(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)};function S(t,e){return E(t)?t:e}function I(t,e){return"undefined"===typeof t?e:t}var C=function(t,e){return"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t};function A(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function P(t,e,n,r){var i,o,a;if(O(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(T(t))for(o=(a=Object.keys(t)).length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function j(t,e){var n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function N(t){if(O(t))return t.map(N);if(T(t)){for(var e=Object.create(null),n=Object.keys(t),r=n.length,i=0;i<r;++i)e[n[i]]=N(t[n[i]]);return e}return t}function R(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function D(t,e,n,r){if(R(t)){var i=e[t],o=n[t];T(i)&&T(o)?M(i,o,r):e[t]=N(o)}}function M(t,e,n){var r=O(e)?e:[e],i=r.length;if(!T(t))return t;for(var o=(n=n||{}).merger||D,a=0;a<i;++a)if(T(e=r[a]))for(var s=Object.keys(e),u=0,c=s.length;u<c;++u)o(s[u],t,e,n);return t}function L(t,e){return M(t,e,{merger:F})}function F(t,e,n){if(R(t)){var r=e[t],i=n[t];T(r)&&T(i)?L(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=N(i))}}var U="",V=".";function B(t,e){var n=t.indexOf(V,e);return-1===n?t.length:n}function z(t,e){if(e===U)return t;for(var n=0,r=B(e,n);t&&r>n;)t=t[e.substr(n,r-n)],r=B(e,n=r+1);return t}function q(t){return t.charAt(0).toUpperCase()+t.slice(1)}var W=function(t){return"undefined"!==typeof t},H=function(t){return"function"===typeof t},K=Math.PI,G=2*K,Y=G+K,$=Number.POSITIVE_INFINITY,Q=K/180,X=K/2,J=K/4,Z=2*K/3,tt=Math.log10,et=Math.sign;function nt(t){var e=Math.pow(10,Math.floor(tt(t))),n=t/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function rt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function it(t,e,n){return Math.abs(t-e)<n}function ot(t,e,n){var r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function at(t){return t*(K/180)}function st(t){return t*(180/K)}function ut(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ct(t,e){return(t-e+Y)%G-K}function lt(t){return(t%G+G)%G}function ft(t,e,n){var r=lt(t),i=lt(e),o=lt(n),a=lt(i-r),s=lt(o-r),u=lt(r-i),c=lt(r-o);return r===i||r===o||a>s&&u<c}function ht(t,e,n){return Math.max(e,Math.min(n,t))}var dt=function(t){return 0===t||1===t},pt=function(t,e,n){return-Math.pow(2,10*(t-=1))*Math.sin((t-e)*G/n)},vt=function(t,e,n){return Math.pow(2,-10*t)*Math.sin((t-e)*G/n)+1},gt={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*X)},easeOutSine:function(t){return Math.sin(t*X)},easeInOutSine:function(t){return-.5*(Math.cos(K*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return dt(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1)))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){return dt(t)?t:pt(t,.075,.3)},easeOutElastic:function(t){return dt(t)?t:vt(t,.075,.3)},easeInOutElastic:function(t){return dt(t)?t:t<.5?.5*pt(2*t,.1125,.45):.5+.5*vt(2*t-1,.1125,.45)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-gt.easeOutBounce(1-t)},easeOutBounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*gt.easeInBounce(2*t):.5*gt.easeOutBounce(2*t-1)+.5}},mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yt="0123456789ABCDEF",bt=function(t){return yt[15&t]},_t=function(t){return yt[(240&t)>>4]+yt[15&t]},wt=function(t){return(240&t)>>4===(15&t)};function xt(t){var e=function(t){return wt(t.r)&&wt(t.g)&&wt(t.b)&&wt(t.a)}(t)?bt:_t;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function kt(t){return t+.5|0}var Ot=function(t,e,n){return Math.max(Math.min(t,n),e)};function Tt(t){return Ot(kt(2.55*t),0,255)}function Et(t){return Ot(kt(255*t),0,255)}function St(t){return Ot(kt(t/2.55)/100,0,1)}function It(t){return Ot(kt(100*t),0,100)}var Ct=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var At=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Pt(t,e,n){var r=e*Math.min(n,1-n),i=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function jt(t,e,n){var r=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Nt(t,e,n){var r,i=Pt(t,1,.5);for(e+n>1&&(e*=r=1/(e+n),n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Rt(t){var e,n,r,i=t.r/255,o=t.g/255,a=t.b/255,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(s+u)/2;return s!==u&&(r=s-u,n=c>.5?r/(2-s-u):r/(s+u),e=60*(e=s===i?(o-a)/r+(o<a?6:0):s===o?(a-i)/r+2:(i-o)/r+4)+.5),[0|e,n||0,c]}function Dt(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Et)}function Mt(t,e,n){return Dt(Pt,t,e,n)}function Lt(t){return(t%360+360)%360}function Ft(t){var e,n=At.exec(t),r=255;if(n){n[5]!==e&&(r=n[6]?Tt(+n[5]):Et(+n[5]));var i=Lt(+n[2]),o=+n[3]/100,a=+n[4]/100;return{r:(e="hwb"===n[1]?function(t,e,n){return Dt(Nt,t,e,n)}(i,o,a):"hsv"===n[1]?function(t,e,n){return Dt(jt,t,e,n)}(i,o,a):Mt(i,o,a))[0],g:e[1],b:e[2],a:r}}}var Ut,Vt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zt(t){Ut||((Ut=function(){var t,e,n,r,i,o={},a=Object.keys(Bt),s=Object.keys(Vt);for(t=0;t<a.length;t++){for(r=i=a[t],e=0;e<s.length;e++)n=s[e],i=i.replace(n,Vt[n]);n=parseInt(Bt[r],16),o[i]=[n>>16&255,n>>8&255,255&n]}return o}()).transparent=[0,0,0,0]);var e=Ut[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function qt(t,e,n){if(t){var r=Rt(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Mt(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Wt(t,e){return t?Object.assign(e||{},t):t}function Ht(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Et(t[3]))):(e=Wt(t,{r:0,g:0,b:0,a:1})).a=Et(e.a),e}function Kt(t){return"r"===t.charAt(0)?function(t){var e,n,r,i=Ct.exec(t),o=255;if(i){if(i[7]!==e){var a=+i[7];o=255&(i[8]?Tt(a):255*a)}return e=+i[1],n=+i[3],r=+i[5],{r:e=255&(i[2]?Tt(e):e),g:n=255&(i[4]?Tt(n):n),b:r=255&(i[6]?Tt(r):r),a:o}}}(t):Ft(t)}var Gt=function(){function t(e){if(Object(d.a)(this,t),e instanceof t)return e;var n,r=typeof e;"object"===r?n=Ht(e):"string"===r&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*mt[t[1]],g:255&17*mt[t[2]],b:255&17*mt[t[3]],a:5===n?17*mt[t[4]]:255}:7!==n&&9!==n||(e={r:mt[t[1]]<<4|mt[t[2]],g:mt[t[3]]<<4|mt[t[4]],b:mt[t[5]]<<4|mt[t[6]],a:9===n?mt[t[7]]<<4|mt[t[8]]:255})),e}(e)||zt(e)||Kt(e)),this._rgb=n,this._valid=!!n}return Object(p.a)(t,[{key:"rgbString",value:function(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(St(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):this._rgb;var t}},{key:"hexString",value:function(){return this._valid?xt(this._rgb):this._rgb}},{key:"hslString",value:function(){return this._valid?function(t){if(t){var e=Rt(t),n=e[0],r=It(e[1]),i=It(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(St(t.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}}(this._rgb):this._rgb}},{key:"mix",value:function(t,e){if(t){var n,r=this.rgb,i=t.rgb,o=e===n?.5:e,a=2*o-1,s=r.a-i.a,u=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;n=1-u,r.r=255&u*r.r+n*i.r+.5,r.g=255&u*r.g+n*i.g+.5,r.b=255&u*r.b+n*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}},{key:"clone",value:function(){return new t(this.rgb)}},{key:"alpha",value:function(t){return this._rgb.a=Et(t),this}},{key:"clearer",value:function(t){return this._rgb.a*=1-t,this}},{key:"greyscale",value:function(){var t=this._rgb,e=kt(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}},{key:"opaquer",value:function(t){return this._rgb.a*=1+t,this}},{key:"negate",value:function(){var t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}},{key:"lighten",value:function(t){return qt(this._rgb,2,t),this}},{key:"darken",value:function(t){return qt(this._rgb,2,-t),this}},{key:"saturate",value:function(t){return qt(this._rgb,1,t),this}},{key:"desaturate",value:function(t){return qt(this._rgb,1,-t),this}},{key:"rotate",value:function(t){return function(t,e){var n=Rt(t);n[0]=Lt(n[0]+e),n=Mt(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}},{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var t=Wt(this._rgb);return t&&(t.a=St(t.a)),t},set:function(t){this._rgb=Ht(t)}}]),t}();function Yt(t){return new Gt(t)}var $t=function(t){return t instanceof CanvasGradient||t instanceof CanvasPattern};function Qt(t){return $t(t)?t:Yt(t)}function Xt(t){return $t(t)?t:Yt(t).saturate(.5).darken(.1).hexString()}var Jt=Object.create(null),Zt=Object.create(null);function te(t,e){if(!e)return t;for(var n=e.split("."),r=0,i=n.length;r<i;++r){var o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function ee(t,e,n){return"string"===typeof e?M(te(t,e),n):M(te(t,""),e)}var ne=new(function(){function t(e){Object(d.a)(this,t),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(t){return t.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(t,e){return Xt(e.backgroundColor)},this.hoverBorderColor=function(t,e){return Xt(e.borderColor)},this.hoverColor=function(t,e){return Xt(e.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}return Object(p.a)(t,[{key:"set",value:function(t,e){return ee(this,t,e)}},{key:"get",value:function(t){return te(this,t)}},{key:"describe",value:function(t,e){return ee(Zt,t,e)}},{key:"override",value:function(t,e){return ee(Jt,t,e)}},{key:"route",value:function(t,e,n,r){var i,o=te(this,t),a=te(this,n),s="_"+e;Object.defineProperties(o,(i={},Object(h.a)(i,s,{value:o[e],writable:!0}),Object(h.a)(i,e,{enumerable:!0,get:function(){var t=this[s],e=a[r];return T(t)?Object.assign({},e,t):I(t,e)},set:function(t){this[s]=t}}),i))}}]),t}())({_scriptable:function(t){return!t.startsWith("on")},_indexable:function(t){return"events"!==t},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function re(t,e,n,r,i){var o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function ie(t,e,n,r){var i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;var a,s,u,c,l,f=0,h=n.length;for(a=0;a<h;a++)if(void 0!==(c=n[a])&&null!==c&&!0!==O(c))f=re(t,i,o,f,c);else if(O(c))for(s=0,u=c.length;s<u;s++)void 0===(l=c[s])||null===l||O(l)||(f=re(t,i,o,f,l));t.restore();var d=o.length/2;if(d>n.length){for(a=0;a<d;a++)delete i[o[a]];o.splice(0,d)}return f}function oe(t,e,n){var r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function ae(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function se(t,e,n,r){var i,o,a,s,u,c=e.pointStyle,l=e.rotation,f=e.radius,h=(l||0)*Q;if(c&&"object"===typeof c&&("[object HTMLImageElement]"===(i=c.toString())||"[object HTMLCanvasElement]"===i))return t.save(),t.translate(n,r),t.rotate(h),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void t.restore();if(!(isNaN(f)||f<=0)){switch(t.beginPath(),c){default:t.arc(n,r,f,0,G),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(h)*f,r-Math.cos(h)*f),h+=Z,t.lineTo(n+Math.sin(h)*f,r-Math.cos(h)*f),h+=Z,t.lineTo(n+Math.sin(h)*f,r-Math.cos(h)*f),t.closePath();break;case"rectRounded":s=f-(u=.516*f),o=Math.cos(h+J)*s,a=Math.sin(h+J)*s,t.arc(n-o,r-a,u,h-K,h-X),t.arc(n+a,r-o,u,h-X,h),t.arc(n+o,r+a,u,h,h+X),t.arc(n-a,r+o,u,h+X,h+K),t.closePath();break;case"rect":if(!l){s=Math.SQRT1_2*f,t.rect(n-s,r-s,2*s,2*s);break}h+=J;case"rectRot":o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+a,r-o),t.lineTo(n+o,r+a),t.lineTo(n-a,r+o),t.closePath();break;case"crossRot":h+=J;case"cross":o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"star":o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o),h+=J,o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"line":o=Math.cos(h)*f,a=Math.sin(h)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(h)*f,r+Math.sin(h)*f)}t.fill(),e.borderWidth>0&&t.stroke()}}function ue(t,e,n){return n=n||.5,t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ce(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function le(t){t.restore()}function fe(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){var o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function he(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function de(t,e,n,r,i){var o,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=O(e)?e:[e],c=s.strokeWidth>0&&""!==s.strokeColor;for(t.save(),s.translation&&t.translate(s.translation[0],s.translation[1]),k(s.rotation)||t.rotate(s.rotation),t.font=i.string,s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline),o=0;o<u.length;++o){if(a=u[o],c&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),k(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(a,n,r,s.maxWidth)),t.fillText(a,n,r,s.maxWidth),s.strikethrough||s.underline){var l=t.measureText(a),f=n-l.actualBoundingBoxLeft,h=n+l.actualBoundingBoxRight,d=r-l.actualBoundingBoxAscent,p=r+l.actualBoundingBoxDescent,v=s.strikethrough?(d+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(f,v),t.lineTo(h,v),t.stroke()}r+=i.lineHeight}t.restore()}function pe(t,e){var n=e.x,r=e.y,i=e.w,o=e.h,a=e.radius;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-X,K,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,K,X,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,X,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-X,!0),t.lineTo(n+a.topLeft,r)}var ve=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ge=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function me(t,e){var n=(""+t).match(ve);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}var ye=function(t){return+t||0};function be(t,e){var n,r={},i=T(e),o=i?Object.keys(e):e,a=T(t)?i?function(n){return I(t[n],t[e[n]])}:function(e){return t[e]}:function(){return t},s=v(o);try{for(s.s();!(n=s.n()).done;){var u=n.value;r[u]=ye(a(u))}}catch(c){s.e(c)}finally{s.f()}return r}function _e(t){return be(t,{top:"y",right:"x",bottom:"y",left:"x"})}function we(t){return be(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xe(t){var e=_e(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ke(t,e){t=t||{},e=e||ne.font;var n=I(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));var r=I(t.style,e.style);r&&!(""+r).match(ge)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");var i={family:I(t.family,e.family),lineHeight:me(I(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:I(t.weight,e.weight),string:""};return i.string=function(t){return!t||k(t.size)||k(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Oe(t,e,n,r){var i,o,a,s=!0;for(i=0,o=t.length;i<o;++i)if(void 0!==(a=t[i])&&(void 0!==e&&"function"===typeof a&&(a=a(e),s=!1),void 0!==n&&O(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function Te(t,e,n){n=n||function(n){return t[n]<e};for(var r,i=t.length-1,o=0;i-o>1;)n(r=o+i>>1)?o=r:i=r;return{lo:o,hi:i}}var Ee=function(t,e,n){return Te(t,n,function(r){return t[r][e]<n})},Se=function(t,e,n){return Te(t,n,function(r){return t[r][e]>=n})};var Ie=["push","pop","shift","splice","unshift"];function Ce(t,e){var n=t._chartjs;if(n){var r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Ie.forEach(function(e){delete t[e]}),delete t._chartjs)}}function Ae(t){var e,n,r=new Set;for(e=0,n=t.length;e<n;++e)r.add(t[e]);if(r.size===n)return t;var i=[];return r.forEach(function(t){i.push(t)}),i}function Pe(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return t[0]};W(i)||(i=ze("_fallback",t));var s=(e={},Object(h.a)(e,Symbol.toStringTag,"Object"),Object(h.a)(e,"_cacheable",!0),Object(h.a)(e,"_scopes",t),Object(h.a)(e,"_rootScopes",r),Object(h.a)(e,"_fallback",i),Object(h.a)(e,"_getTarget",a),Object(h.a)(e,"override",function(e){return Pe([e].concat(o(t)),n,r,i)}),e);return new Proxy(s,{deleteProperty:function(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get:function(e,r){return Me(e,r,function(){return function(t,e,n,r){var i,o,a=v(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(i=ze(Re(s,t),n),W(i))return De(t,i)?Ve(n,r,t,i):i}}catch(u){a.e(u)}finally{a.f()}}(r,n,t,e)})},getOwnPropertyDescriptor:function(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf:function(){return Reflect.getPrototypeOf(t[0])},has:function(t,e){return qe(t).includes(e)},ownKeys:function(t){return qe(t)},set:function(t,e,n){return(t._storage||(t._storage=a()))[e]=n,delete t[e],delete t._keys,!0}})}function je(t,e,n,r){var i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Ne(t,r),setContext:function(e){return je(t,e,n,r)},override:function(i){return je(t.override(i),e,n,r)}};return new Proxy(i,{deleteProperty:function(e,n){return delete e[n],delete t[n],!0},get:function(t,e,n){return Me(t,e,function(){return function(t,e,n){var r=t._proxy,i=t._context,a=t._subProxy,s=t._descriptors,u=r[e];H(u)&&s.isScriptable(e)&&(u=function(t,e,n,r){var i=n._proxy,a=n._context,s=n._subProxy,u=n._stack;if(u.has(t))throw new Error("Recursion detected: "+o(u).join("->")+"->"+t);u.add(t),e=e(a,s||r),u.delete(t),T(e)&&(e=Ve(i._scopes,i,t,e));return e}(e,u,t,n));O(u)&&u.length&&(u=function(t,e,n,r){var i=n._proxy,o=n._context,a=n._subProxy,s=n._descriptors;if(W(o.index)&&r(t))e=e[o.index%e.length];else if(T(e[0])){var u=e,c=i._scopes.filter(function(t){return t!==u});e=[];var l,f=v(u);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=Ve(c,i,t,h);e.push(je(d,o,a&&a[t],s))}}catch(p){f.e(p)}finally{f.f()}}return e}(e,u,t,s.isIndexable));De(e,u)&&(u=je(u,i,a&&a[e],s));return u}(t,e,n)})},getOwnPropertyDescriptor:function(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(t)},has:function(e,n){return Reflect.has(t,n)},ownKeys:function(){return Reflect.ownKeys(t)},set:function(e,n,r){return t[n]=r,delete e[n],!0}})}function Ne(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=t._scriptable,r=void 0===n?e.scriptable:n,i=t._indexable,o=void 0===i?e.indexable:i,a=t._allKeys;return{allKeys:void 0===a?e.allKeys:a,scriptable:r,indexable:o,isScriptable:H(r)?r:function(){return r},isIndexable:H(o)?o:function(){return o}}}var Re=function(t,e){return t?t+q(e):e},De=function(t,e){return T(e)&&"adapters"!==t};function Me(t,e,n){var r=t[e];return W(r)?r:(r=n(),W(r)&&(t[e]=r),r)}function Le(t,e,n){return H(t)?t(e,n):t}var Fe=function(t,e){return!0===t?e:"string"===typeof t?z(e,t):void 0};function Ue(t,e,n,r){var i,o=v(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=Fe(n,a);if(s){t.add(s);var u=Le(s._fallback,n,s);if(W(u)&&u!==n&&u!==r)return u}else if(!1===s&&W(r)&&n!==r)return null}}catch(c){o.e(c)}finally{o.f()}return!1}function Ve(t,e,n,r){var i=e._rootScopes,a=Le(e._fallback,n,r),s=[].concat(o(t),o(i)),u=new Set;u.add(r);var c=Be(u,s,n,a||n);return null!==c&&((!W(a)||a===n||null!==(c=Be(u,s,a,c)))&&Pe(o(u),[""],i,a,function(){var t=e._getTarget();return n in t||(t[n]={}),t[n]}))}function Be(t,e,n,r){for(;n;)n=Ue(t,e,n,r);return n}function ze(t,e){var n,r=v(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i){var o=i[t];if(W(o))return o}}}catch(a){r.e(a)}finally{r.f()}}function qe(t){var e=t._keys;return e||(e=t._keys=function(t){var e,n=new Set,r=v(t);try{for(r.s();!(e=r.n()).done;){var i,a=e.value,s=v(Object.keys(a).filter(function(t){return!t.startsWith("_")}));try{for(s.s();!(i=s.n()).done;){var u=i.value;n.add(u)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}return o(n)}(t._scopes)),e}var We=Number.EPSILON||1e-14,He=function(t,e){return e<t.length&&!t[e].skip&&t[e]};function Ke(t,e,n,r){var i=t.skip?e:t,o=e,a=n.skip?e:n,s=ut(o,i),u=ut(a,o),c=s/(s+u),l=u/(s+u),f=r*(c=isNaN(c)?0:c),h=r*(l=isNaN(l)?0:l);return{previous:{x:o.x-f*(a.x-i.x),y:o.y-f*(a.y-i.y)},next:{x:o.x+h*(a.x-i.x),y:o.y+h*(a.y-i.y)}}}function Ge(t){var e,n,r,i=t.length,o=Array(i).fill(0),a=Array(i),s=He(t,0);for(e=0;e<i;++e)if(n=r,r=s,s=He(t,e+1),r){if(s){var u=s.x-r.x;o[e]=0!==u?(s.y-r.y)/u:0}a[e]=n?s?et(o[e-1])!==et(o[e])?0:(o[e-1]+o[e])/2:o[e-1]:o[e]}!function(t,e,n){for(var r,i,o,a,s,u=t.length,c=He(t,0),l=0;l<u-1;++l)s=c,c=He(t,l+1),s&&c&&(it(e[l],0,We)?n[l]=n[l+1]=0:(r=n[l]/e[l],i=n[l+1]/e[l],(a=Math.pow(r,2)+Math.pow(i,2))<=9||(o=3/Math.sqrt(a),n[l]=r*o*e[l],n[l+1]=i*o*e[l])))}(t,o,a),function(t,e){for(var n,r,i,o=t.length,a=He(t,0),s=0;s<o;++s)if(r=i,i=a,a=He(t,s+1),i){var u=i,c=u.x,l=u.y;r&&(n=(c-r.x)/3,i.cp1x=c-n,i.cp1y=l-n*e[s]),a&&(n=(a.x-c)/3,i.cp2x=c+n,i.cp2y=l+n*e[s])}}(t,a)}function Ye(t,e,n){return Math.max(Math.min(t,n),e)}function $e(t,e,n,r){var i,o,a,s;if(e.spanGaps&&(t=t.filter(function(t){return!t.skip})),"monotone"===e.cubicInterpolationMode)Ge(t);else{var u=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)s=Ke(u,a=t[i],t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=s.previous.x,a.cp1y=s.previous.y,a.cp2x=s.next.x,a.cp2y=s.next.y,u=a}e.capBezierPoints&&function(t,e){var n,r,i,o,a,s=ue(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&ue(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=Ye(i.cp1x,e.left,e.right),i.cp1y=Ye(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=Ye(i.cp2x,e.left,e.right),i.cp2y=Ye(i.cp2y,e.top,e.bottom)))}(t,n)}function Qe(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Xe(t,e,n){var r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}var Je=function(t){return window.getComputedStyle(t,null)};var Ze=["top","right","bottom","left"];function tn(t,e,n){var r={};n=n?"-"+n:"";for(var i=0;i<4;i++){var o=Ze[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var en=function(t,e,n){return(t>0||e>0)&&(!n||!n.shadowRoot)};function nn(t,e){var n=e.canvas,r=e.currentDevicePixelRatio,i=Je(n),o="border-box"===i.boxSizing,a=tn(i,"padding"),s=tn(i,"border","width"),u=function(t,e){var n,r,i=t.native||t,o=i.touches,a=o&&o.length?o[0]:i,s=a.offsetX,u=a.offsetY,c=!1;if(en(s,u,i.target))n=s,r=u;else{var l=e.getBoundingClientRect();n=a.clientX-l.left,r=a.clientY-l.top,c=!0}return{x:n,y:r,box:c}}(t,n),c=u.x,l=u.y,f=u.box,h=a.left+(f&&s.left),d=a.top+(f&&s.top),p=e.width,v=e.height;return o&&(p-=a.width+s.width,v-=a.height+s.height),{x:Math.round((c-h)/p*n.width/r),y:Math.round((l-d)/v*n.height/r)}}var rn=function(t){return Math.round(10*t)/10};function on(t,e,n,r){var i=Je(t),o=tn(i,"margin"),a=Xe(i.maxWidth,t,"clientWidth")||$,s=Xe(i.maxHeight,t,"clientHeight")||$,u=function(t,e,n){var r,i;if(void 0===e||void 0===n){var o=Qe(t);if(o){var a=o.getBoundingClientRect(),s=Je(o),u=tn(s,"border","width"),c=tn(s,"padding");e=a.width-c.width-u.width,n=a.height-c.height-u.height,r=Xe(s.maxWidth,o,"clientWidth"),i=Xe(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||$,maxHeight:i||$}}(t,e,n),c=u.width,l=u.height;if("content-box"===i.boxSizing){var f=tn(i,"border","width"),h=tn(i,"padding");c-=h.width+f.width,l-=h.height+f.height}return c=Math.max(0,c-o.width),l=Math.max(0,r?Math.floor(c/r):l-o.height),c=rn(Math.min(c,a,u.maxWidth)),l=rn(Math.min(l,s,u.maxHeight)),c&&!l&&(l=rn(c/2)),{width:c,height:l}}function an(t,e,n){var r=t.currentDevicePixelRatio=e||1,i=t.canvas,o=t.width,a=t.height;i.height=a*r,i.width=o*r,t.ctx.setTransform(r,0,0,r,0,0),i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height=a+"px",i.style.width=o+"px")}var sn=function(){var t=!1;try{var e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(n){}return t}();function un(t,e){var n=function(t,e){return Je(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function cn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function ln(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function fn(t,e,n,r){var i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=cn(t,i,n),s=cn(i,o,n),u=cn(o,e,n),c=cn(a,s,n),l=cn(s,u,n);return cn(c,l,n)}var hn=new Map;function dn(t,e,n){return function(t,e){e=e||{};var n=t+JSON.stringify(e),r=hn.get(n);return r||(r=new Intl.NumberFormat(t,e),hn.set(n,r)),r}(e,n).format(t)}var pn=function(t,e){return{x:function(n){return t+t+e-n},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}},vn=function(){return{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}};function gn(t,e,n){return t?pn(e,n):vn()}function mn(t,e){var n,r;"ltr"!==e&&"rtl"!==e||(r=[(n=t.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function yn(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function bn(t){return"angle"===t?{between:ft,compare:ct,normalize:lt}:{between:function(t,e,n){return t>=Math.min(e,n)&&t<=Math.max(n,e)},compare:function(t,e){return t-e},normalize:function(t){return t}}}function _n(t){var e=t.start,n=t.end,r=t.count;return{start:e%r,end:n%r,loop:t.loop&&(n-e+1)%r===0,style:t.style}}function wn(t,e,n){if(!n)return[t];for(var r,i,o,a=n.property,s=n.start,u=n.end,c=e.length,l=bn(a),f=l.compare,h=l.between,d=l.normalize,p=function(t,e,n){var r,i,o=n.property,a=n.start,s=n.end,u=bn(o),c=u.between,l=u.normalize,f=e.length,h=t.start,d=t.end,p=t.loop;if(p){for(h+=f,d+=f,r=0,i=f;r<i&&c(l(e[h%f][o]),a,s);++r)h--,d--;h%=f,d%=f}return d<h&&(d+=f),{start:h,end:d,loop:p,style:t.style}}(t,e,n),v=p.start,g=p.end,m=p.loop,y=p.style,b=[],_=!1,w=null,x=function(){return _||h(s,o,r)&&0!==f(s,o)},k=function(){return!_||0===f(u,r)||h(u,o,r)},O=v,T=v;O<=g;++O)(i=e[O%c]).skip||(r=d(i[a]),_=h(r,s,u),null===w&&x()&&(w=0===f(r,s)?O:T),null!==w&&k()&&(b.push(_n({start:w,end:O,loop:m,count:c,style:y})),w=null),T=O,o=r);return null!==w&&b.push(_n({start:w,end:g,loop:m,count:c,style:y})),b}function xn(t,e){for(var n=[],r=t.segments,i=0;i<r.length;i++){var a=wn(r[i],t.points,e);a.length&&n.push.apply(n,o(a))}return n}function kn(t,e,n){return n&&n.setContext&&e?function(t,e,n){var r,i=e.length,o=[],a=t[0].start,s=a,u=v(t);try{for(u.s();!(r=u.n()).done;){var c=r.value,l=void 0,f=void 0,h=e[a%i];for(s=a+1;s<=c.end;s++){var d=e[s%i];p=n.setContext({type:"segment",p0:h,p1:d}),On(f={backgroundColor:p.backgroundColor,borderCapStyle:p.borderCapStyle,borderDash:p.borderDash,borderDashOffset:p.borderDashOffset,borderJoinStyle:p.borderJoinStyle,borderWidth:p.borderWidth,borderColor:p.borderColor},l)&&(o.push({start:a,end:s-1,loop:c.loop,style:l}),l=f,a=s-1),h=d,l=f}a<s-1&&(o.push({start:a,end:s-1,loop:c.loop,style:f}),a=s-1)}}catch(g){u.e(g)}finally{u.f()}var p;return o}(t,e,n):t}function On(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}function Tn(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return En(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function En(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sn=new(function(){function t(){Object(d.a)(this,t),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return Object(p.a)(t,[{key:"_notify",value:function(t,e,n,r){var i=e.listeners[r],o=e.duration;i.forEach(function(r){return r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})})}},{key:"_refresh",value:function(){var t=this;t._request||(t._running=!0,t._request=m.call(window,function(){t._update(),t._request=null,t._running&&t._refresh()}))}},{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=this,n=0;e._charts.forEach(function(r,i){if(r.running&&r.items.length){for(var o,a=r.items,s=a.length-1,u=!1;s>=0;--s)(o=a[s])._active?(o._total>r.duration&&(r.duration=o._total),o.tick(t),u=!0):(a[s]=a[a.length-1],a.pop());u&&(i.draw(),e._notify(i,r,t,"progress")),a.length||(r.running=!1,e._notify(i,r,t,"complete"),r.initial=!1),n+=a.length}}),e._lastDate=t,0===n&&(e._running=!1)}},{key:"_getAnims",value:function(t){var e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}},{key:"listen",value:function(t,e,n){this._getAnims(t).listeners[e].push(n)}},{key:"add",value:function(t,e){var n;e&&e.length&&(n=this._getAnims(t).items).push.apply(n,o(e))}},{key:"has",value:function(t){return this._getAnims(t).items.length>0}},{key:"start",value:function(t){var e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(function(t,e){return Math.max(t,e._duration)},0),this._refresh())}},{key:"running",value:function(t){if(!this._running)return!1;var e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}},{key:"stop",value:function(t){var e=this._charts.get(t);if(e&&e.items.length){for(var n=e.items,r=n.length-1;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}}},{key:"remove",value:function(t){return this._charts.delete(t)}}]),t}()),In={boolean:function(t,e,n){return n>.5?e:t},color:function(t,e,n){var r=Qt(t||"transparent"),i=r.valid&&Qt(e||"transparent");return i&&i.valid?i.mix(r,n).hexString():e},number:function(t,e,n){return t+(e-t)*n}},Cn=function(){function t(e,n,r,i){Object(d.a)(this,t);var o=n[r];i=Oe([e.to,i,o,e.from]);var a=Oe([e.from,o,i]);this._active=!0,this._fn=e.fn||In[e.type||typeof a],this._easing=gt[e.easing]||gt.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}return Object(p.a)(t,[{key:"active",value:function(){return this._active}},{key:"update",value:function(t,e,n){var r=this;if(r._active){r._notify(!1);var i=r._target[r._prop],o=n-r._start,a=r._duration-o;r._start=n,r._duration=Math.floor(Math.max(a,t.duration)),r._total+=o,r._loop=!!t.loop,r._to=Oe([t.to,e,i,t.from]),r._from=Oe([t.from,i,e])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(t){var e,n=this,r=t-n._start,i=n._duration,o=n._prop,a=n._from,s=n._loop,u=n._to;if(n._active=a!==u&&(s||r<i),!n._active)return n._target[o]=u,void n._notify(!0);r<0?n._target[o]=a:(e=r/i%2,e=s&&e>1?2-e:e,e=n._easing(Math.min(1,Math.max(0,e))),n._target[o]=n._fn(a,u,e))}},{key:"wait",value:function(){var t=this._promises||(this._promises=[]);return new Promise(function(e,n){t.push({res:e,rej:n})})}},{key:"_notify",value:function(t){for(var e=t?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][e]()}}]),t}();ne.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var An=Object.keys(ne.animation);ne.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(t){return"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}}),ne.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),ne.describe("animations",{_fallback:"animation"}),ne.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(t){return 0|t}}}}});var Pn=function(){function t(e,n){Object(d.a)(this,t),this._chart=e,this._properties=new Map,this.configure(n)}return Object(p.a)(t,[{key:"configure",value:function(t){if(T(t)){var e=this._properties;Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];if(T(r)){var i,o={},a=Tn(An);try{for(a.s();!(i=a.n()).done;){var s=i.value;o[s]=r[s]}}catch(u){a.e(u)}finally{a.f()}(O(r.properties)&&r.properties||[n]).forEach(function(t){t!==n&&e.has(t)||e.set(t,o)})}})}}},{key:"_animateOptions",value:function(t,e){var n=e.options,r=function(t,e){if(!e)return;var n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];var i=this._createAnimations(r,n);return n.$shared&&function(t,e){for(var n=[],r=Object.keys(e),i=0;i<r.length;i++){var o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(t.options.$animations,n).then(function(){t.options=n},function(){}),i}},{key:"_createAnimations",value:function(t,e){var n,r=this._properties,i=[],a=t.$animations||(t.$animations={}),s=Object.keys(e),u=Date.now();for(n=s.length-1;n>=0;--n){var c=s[n];if("$"!==c.charAt(0))if("options"!==c){var l=e[c],f=a[c],h=r.get(c);if(f){if(h&&f.active()){f.update(h,l,u);continue}f.cancel()}h&&h.duration?(a[c]=f=new Cn(h,t,c,l),i.push(f)):t[c]=l}else i.push.apply(i,o(this._animateOptions(t,e)))}return i}},{key:"update",value:function(t,e){if(0!==this._properties.size){var n=this._createAnimations(t,e);return n.length?(Sn.add(this._chart,n),!0):void 0}Object.assign(t,e)}}]),t}();function jn(t,e){var n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Nn(t,e){var n,r,i=[],o=t._getSortedDatasetMetas(e);for(n=0,r=o.length;n<r;++n)i.push(o[n].index);return i}function Rn(t,e,n,r){var i,o,a,s,u=t.keys,c="single"===r.mode;if(null!==e){for(i=0,o=u.length;i<o;++i){if((a=+u[i])===n){if(r.all)continue;break}s=t.values[a],E(s)&&(c||0===e||et(e)===et(s))&&(e+=s)}return e}}function Dn(t,e){var n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Mn(t,e,n){var r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Ln(t,e,n){var r,i=Tn(e.getMatchingVisibleMetas("bar").reverse());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t[o.index];if(n&&a>0||!n&&a<0)return o.index}}catch(s){i.e(s)}finally{i.f()}return null}function Fn(t,e){for(var n,r=t.chart,i=t._cachedMeta,o=r._stacks||(r._stacks={}),a=i.iScale,s=i.vScale,u=i.index,c=a.axis,l=s.axis,f=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(a,s,i),h=e.length,d=0;d<h;++d){var p=e[d],v=p[c],g=p[l];(n=(p._stacks||(p._stacks={}))[l]=Mn(o,f,v))[u]=g,n._top=Ln(n,s,!0),n._bottom=Ln(n,s,!1)}}function Un(t,e){var n=t.scales;return Object.keys(n).filter(function(t){return n[t].axis===e}).shift()}function Vn(t,e){var n,r=Tn(e=e||t._parsed);try{for(r.s();!(n=r.n()).done;){var i=n.value._stacks;if(!i||void 0===i[t.vScale.id]||void 0===i[t.vScale.id][t.index])return;delete i[t.vScale.id][t.index]}}catch(o){r.e(o)}finally{r.f()}}var Bn=function(t){return"reset"===t||"none"===t},zn=function(t,e){return e?t:Object.assign({},t)},qn=function(){function t(e,n){Object(d.a)(this,t),this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this.initialize()}return Object(p.a)(t,[{key:"initialize",value:function(){var t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Dn(t.vScale,t),this.addElements()}},{key:"updateIndex",value:function(t){this.index=t}},{key:"linkScales",value:function(){var t=this,e=t.chart,n=t._cachedMeta,r=t.getDataset(),i=function(t,e,n,r){return"x"===t?e:"r"===t?r:n},o=n.xAxisID=I(r.xAxisID,Un(e,"x")),a=n.yAxisID=I(r.yAxisID,Un(e,"y")),s=n.rAxisID=I(r.rAxisID,Un(e,"r")),u=n.indexAxis,c=n.iAxisID=i(u,o,a,s),l=n.vAxisID=i(u,a,o,s);n.xScale=t.getScaleForId(o),n.yScale=t.getScaleForId(a),n.rScale=t.getScaleForId(s),n.iScale=t.getScaleForId(c),n.vScale=t.getScaleForId(l)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(t){return this.chart.scales[t]}},{key:"_getOtherScale",value:function(t){var e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var t=this._cachedMeta;this._data&&Ce(this._data,this),t._stacked&&Vn(t)}},{key:"_dataCheck",value:function(){var t,e,n=this,r=n.getDataset(),i=r.data||(r.data=[]);T(i)?n._data=function(t){var e,n,r,i=Object.keys(t),o=new Array(i.length);for(e=0,n=i.length;e<n;++e)r=i[e],o[e]={x:r,y:t[r]};return o}(i):n._data!==i&&(n._data&&(Ce(n._data,n),Vn(n._cachedMeta)),i&&Object.isExtensible(i)&&(e=n,(t=i)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ie.forEach(function(e){var n="_onData"+q(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=r.apply(this,i);return t._chartjs.listeners.forEach(function(t){"function"===typeof t[n]&&t[n].apply(t,i)}),a}})}))),n._data=i)}},{key:"addElements",value:function(){var t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(t){var e=this,n=e._cachedMeta,r=e.getDataset(),i=!1;e._dataCheck(),n._stacked=Dn(n.vScale,n),n.stack!==r.stack&&(i=!0,Vn(n),n.stack=r.stack),e._resyncElements(t),i&&Fn(e,n._parsed)}},{key:"configure",value:function(){var t=this,e=t.chart.config,n=e.datasetScopeKeys(t._type),r=e.getOptionScopes(t.getDataset(),n,!0);t.options=e.createResolver(r,t.getContext()),t._parsing=t.options.parsing}},{key:"parse",value:function(t,e){var n,r,i,o=this,a=o._cachedMeta,s=o._data,u=a.iScale,c=a._stacked,l=u.axis,f=0===t&&e===s.length||a._sorted,h=t>0&&a._parsed[t-1];if(!1===o._parsing)a._parsed=s,a._sorted=!0,i=s;else{i=O(s[t])?o.parseArrayData(a,s,t,e):T(s[t])?o.parseObjectData(a,s,t,e):o.parsePrimitiveData(a,s,t,e);for(n=0;n<e;++n)a._parsed[n+t]=r=i[n],f&&((null===r[l]||h&&r[l]<h[l])&&(f=!1),h=r);a._sorted=f}c&&Fn(o,i)}},{key:"parsePrimitiveData",value:function(t,e,n,r){var i,o,a,s=t.iScale,u=t.vScale,c=s.axis,l=u.axis,f=s.getLabels(),d=s===u,p=new Array(r);for(i=0,o=r;i<o;++i){var v;a=i+n,p[i]=(v={},Object(h.a)(v,c,d||s.parse(f[a],a)),Object(h.a)(v,l,u.parse(e[a],a)),v)}return p}},{key:"parseArrayData",value:function(t,e,n,r){var i,o,a,s,u=t.xScale,c=t.yScale,l=new Array(r);for(i=0,o=r;i<o;++i)s=e[a=i+n],l[i]={x:u.parse(s[0],a),y:c.parse(s[1],a)};return l}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s,u=t.xScale,c=t.yScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,p=void 0===d?"y":d,v=new Array(r);for(i=0,o=r;i<o;++i)s=e[a=i+n],v[i]={x:u.parse(z(s,h),a),y:c.parse(z(s,p),a)};return v}},{key:"getParsed",value:function(t){return this._cachedMeta._parsed[t]}},{key:"getDataElement",value:function(t){return this._cachedMeta.data[t]}},{key:"applyStack",value:function(t,e,n){var r=this.chart,i=this._cachedMeta,o=e[t.axis];return Rn({keys:Nn(r,!0),values:e._stacks[t.axis]},o,i.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(t,e,n,r){var i=n[e.axis],o=null===i?NaN:i,a=r&&n._stacks[e.axis];r&&a&&(r.values=a,t.min=Math.min(t.min,o),t.max=Math.max(t.max,o),o=Rn(r,i,this._cachedMeta.index,{all:!0})),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}},{key:"getMinMax",value:function(t,e){var n,r,i,o,a=this,s=a._cachedMeta,u=s._parsed,c=s._sorted&&t===s.iScale,l=u.length,f=a._getOtherScale(t),h=e&&s._stacked&&{keys:Nn(a.chart,!0),values:null},d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},p=function(t){var e=t.getUserBounds(),n=e.min,r=e.max,i=e.minDefined,o=e.maxDefined;return{min:i?n:Number.NEGATIVE_INFINITY,max:o?r:Number.POSITIVE_INFINITY}}(f),v=p.min,g=p.max;function m(){return i=u[n],r=i[t.axis],o=i[f.axis],!E(r)||v>o||g<o}for(n=0;n<l&&(m()||(a.updateRangeFromParsed(d,t,i,h),!c));++n);if(c)for(n=l-1;n>=0;--n)if(!m()){a.updateRangeFromParsed(d,t,i,h);break}return d}},{key:"getAllParsedValues",value:function(t){var e,n,r,i=this._cachedMeta._parsed,o=[];for(e=0,n=i.length;e<n;++e)r=i[e][t.axis],E(r)&&o.push(r);return o}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}},{key:"_update",value:function(t){var e=this,n=e._cachedMeta;e.configure(),e._cachedDataOpts={},e.update(t||"default"),n._clip=function(t){var e,n,r,i;return T(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i}}(I(e.options.clip,function(t,e,n){if(!1===n)return!1;var r=jn(t,n),i=jn(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(n.xScale,n.yScale,e.getMaxOverflow())))}},{key:"update",value:function(t){}},{key:"draw",value:function(){var t,e=this,n=e._ctx,r=e.chart,i=e._cachedMeta,o=i.data||[],a=r.chartArea,s=[],u=e._drawStart||0,c=e._drawCount||o.length-u;for(i.dataset&&i.dataset.draw(n,a,u,c),t=u;t<u+c;++t){var l=o[t];l.active?s.push(l):l.draw(n,a)}for(t=0;t<s.length;++t)s[t].draw(n,a)}},{key:"getStyle",value:function(t,e){var n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}},{key:"getContext",value:function(t,e,n){var r,i=this,o=i.getDataset();if(t>=0&&t<i._cachedMeta.data.length){var a=i._cachedMeta.data[t];(r=a.$context||(a.$context=function(t,e,n){return Object.assign(Object.create(t),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(i.getContext(),t,a))).parsed=i.getParsed(t),r.raw=o.data[t]}else(r=i.$context||(i.$context=function(t,e){return Object.assign(Object.create(t),{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(i.chart.getContext(),i.index))).dataset=o;return r.active=!!e,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(t){return this._resolveElementOptions(this.datasetElementType.id,t)}},{key:"resolveDataElementOptions",value:function(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}},{key:"_resolveElementOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0,r=this,i="active"===e,o=r._cachedDataOpts,a=t+"-"+e,s=o[a],u=r.enableOptionSharing&&W(n);if(s)return zn(s,u);var c=r.chart.config,l=c.datasetElementScopeKeys(r._type,t),f=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=c.getOptionScopes(r.getDataset(),l),d=Object.keys(ne.elements[t]),p=c.resolveNamedOptions(h,d,function(){return r.getContext(n,i)},f);return p.$shared&&(p.$shared=u,o[a]=Object.freeze(zn(p,u))),p}},{key:"_resolveAnimations",value:function(t,e,n){var r,i=this,o=i.chart,a=i._cachedDataOpts,s="animation-".concat(e),u=a[s];if(u)return u;if(!1!==o.options.animation){var c=i.chart.config,l=c.datasetAnimationScopeKeys(i._type,e),f=c.getOptionScopes(i.getDataset(),l);r=c.createResolver(f,i.getContext(t,n,e))}var h=new Pn(o,r&&r.animations);return r&&r._cacheable&&(a[s]=Object.freeze(h)),h}},{key:"getSharedOptions",value:function(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}},{key:"includeOptions",value:function(t,e){return!e||Bn(t)||this.chart._animationsDisabled}},{key:"updateElement",value:function(t,e,n,r){Bn(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}},{key:"updateSharedOptions",value:function(t,e,n){t&&!Bn(e)&&this._resolveAnimations(void 0,e).update(t,n)}},{key:"_setStyle",value:function(t,e,n,r){t.active=r;var i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}},{key:"removeHoverStyle",value:function(t,e,n){this._setStyle(t,n,"active",!1)}},{key:"setHoverStyle",value:function(t,e,n){this._setStyle(t,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}},{key:"_resyncElements",value:function(t){var e=this,n=e._cachedMeta.data.length,r=e._data.length;r>n?e._insertElements(n,r-n,t):r<n&&e._removeElements(r,n-r);var i=Math.min(r,n);i&&e.parse(0,i)}},{key:"_insertElements",value:function(t,e){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,o=i._cachedMeta,a=o.data,s=t+e,u=function(t){for(t.length+=e,n=t.length-1;n>=s;n--)t[n]=t[n-e]};for(u(a),n=t;n<s;++n)a[n]=new i.dataElementType;i._parsing&&u(o._parsed),i.parse(t,e),r&&i.updateElements(a,t,e,"reset")}},{key:"updateElements",value:function(t,e,n,r){}},{key:"_removeElements",value:function(t,e){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(t,e);n._stacked&&Vn(n,r)}n.data.splice(t,e)}},{key:"_onDataPush",value:function(){var t=arguments.length;this._insertElements(this.getDataset().data.length-t,t)}},{key:"_onDataPop",value:function(){this._removeElements(this._cachedMeta.data.length-1,1)}},{key:"_onDataShift",value:function(){this._removeElements(0,1)}},{key:"_onDataSplice",value:function(t,e){this._removeElements(t,e),this._insertElements(t,arguments.length-2)}},{key:"_onDataUnshift",value:function(){this._insertElements(0,arguments.length)}}]),t}();function Wn(t){var e,n,r,i,o=function(t){if(!t._cache.$bar){for(var e=t.getMatchingVisibleMetas("bar"),n=[],r=0,i=e.length;r<i;r++)n=n.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=Ae(n.sort(function(t,e){return t-e}))}return t._cache.$bar}(t),a=t._length,s=function(){32767!==r&&-32768!==r&&(W(i)&&(a=Math.min(a,Math.abs(r-i)||a)),i=r)};for(e=0,n=o.length;e<n;++e)r=t.getPixelForValue(o[e]),s();for(i=void 0,e=0,n=t.ticks.length;e<n;++e)r=t.getPixelForTick(e),s();return a}function Hn(t,e,n,r){return O(t)?function(t,e,n,r){var i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o),u=a,c=s;Math.abs(a)>Math.abs(s)&&(u=s,c=a),e[n.axis]=c,e._custom={barStart:u,barEnd:c,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Kn(t,e,n,r){var i,o,a,s,u=t.iScale,c=t.vScale,l=u.getLabels(),f=u===c,h=[];for(i=n,o=n+r;i<o;++i)s=e[i],(a={})[u.axis]=f||u.parse(l[i],i),h.push(Hn(s,a,c,i));return h}function Gn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}qn.defaults={},qn.prototype.datasetElementType=null,qn.prototype.dataElementType=null;var Yn=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(p.a)(e,[{key:"parsePrimitiveData",value:function(t,e,n,r){return Kn(t,e,n,r)}},{key:"parseArrayData",value:function(t,e,n,r){return Kn(t,e,n,r)}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s,u=t.iScale,c=t.vScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,p=void 0===d?"y":d,v="x"===u.axis?h:p,g="x"===c.axis?h:p,m=[];for(i=n,o=n+r;i<o;++i)s=e[i],(a={})[u.axis]=u.parse(z(s,v),i),m.push(Hn(z(s,g),a,c,i));return m}},{key:"updateRangeFromParsed",value:function(t,n,r,i){l(Object(c.a)(e.prototype),"updateRangeFromParsed",this).call(this,t,n,r,i);var o=r._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t),o=i._custom,a=Gn(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,l(Object(c.a)(e.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}},{key:"updateElements",value:function(t,e,n,r){var i=this,o="reset"===r,a=i._cachedMeta.vScale,s=a.getBasePixel(),u=a.isHorizontal(),c=i._getRuler(),l=i.resolveDataElementOptions(e,r),f=i.getSharedOptions(l),h=i.includeOptions(r,f);i.updateSharedOptions(f,r,l);for(var d=e;d<e+n;d++){var p=i.getParsed(d),v=o||k(p[a.axis])?{base:s,head:s}:i._calculateBarValuePixels(d),g=i._calculateBarIndexPixels(d,c),m=(p._stacks||{})[a.axis],y={horizontal:u,base:v.base,enableBorderRadius:!m||Gn(p._custom)||i.index===m._top||i.index===m._bottom,x:u?v.head:g.center,y:u?g.center:v.head,height:u?g.size:void 0,width:u?void 0:g.size};h&&(y.options=f||i.resolveDataElementOptions(d,r)),i.updateElement(t[d],d,y,r)}}},{key:"_getStacks",value:function(t,e){var n,r,i=this._cachedMeta.iScale,o=i.getMatchingVisibleMetas(this._type),a=i.options.stacked,s=o.length,u=[];for(n=0;n<s;++n){if(r=o[n],"undefined"!==typeof e){var c=r.controller.getParsed(e)[r.controller._cachedMeta.vScale.axis];if(k(c)||isNaN(c))continue}if((!1===a||-1===u.indexOf(r.stack)||void 0===a&&void 0===r.stack)&&u.push(r.stack),r.index===t)break}return u.length||u.push(void 0),u}},{key:"_getStackCount",value:function(t){return this._getStacks(void 0,t).length}},{key:"_getStackIndex",value:function(t,e,n){var r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}},{key:"_getRuler",value:function(){var t,e,n=this.options,r=this._cachedMeta,i=r.iScale,o=[];for(t=0,e=r.data.length;t<e;++t)o.push(i.getPixelForValue(this.getParsed(t)[i.axis],t));var a=n.barThickness;return{min:a||Wn(i),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:a?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(t){var e,n,r=this._cachedMeta,i=r.vScale,o=r._stacked,a=this.options,s=a.base,u=a.minBarLength,c=this.getParsed(t),l=c._custom,f=Gn(l),h=c[i.axis],d=0,p=o?this.applyStack(i,c,o):h;p!==h&&(d=p-h,p=h),f&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&et(h)!==et(l.barEnd)&&(d=0),d+=h);var v=k(s)||f?d:s,g=i.getPixelForValue(v);n=(e=this.chart.getDataVisibility(t)?i.getPixelForValue(d+p):g)-g,void 0!==u&&Math.abs(n)<u&&(n=n<0?-u:u,0===h&&(g-=n/2),e=g+n);var m=s||0;if(g===i.getPixelForValue(m)){var y=i.getLineWidthForValue(m)/2;n>0?(g+=y,n-=y):n<0&&(g-=y,n+=y)}return{size:n,base:g,head:e,center:e+n/2}}},{key:"_calculateBarIndexPixels",value:function(t,e){var n,r,i=this,o=e.scale,a=i.options,s=a.skipNull,u=I(a.maxBarThickness,1/0);if(e.grouped){var c=s?i._getStackCount(t):e.stackCount,l="flex"===a.barThickness?function(t,e,n,r){var i=e.pixels,o=i[t],a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null,u=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);var c=o-(o-Math.min(a,s))/2*u;return{chunk:Math.abs(s-a)/2*u/r,ratio:n.barPercentage,start:c}}(t,e,a,c):function(t,e,n,r){var i,o,a=n.barThickness;return k(a)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=a*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}(t,e,a,c),f=i._getStackIndex(i.index,i._cachedMeta.stack,s?t:void 0);n=l.start+l.chunk*f+l.chunk/2,r=Math.min(u,l.chunk*l.ratio)}else n=o.getPixelForValue(i.getParsed(t)[o.axis],t),r=Math.min(u,e.min*e.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){var t=this.chart,e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length,o=0;for(ce(t.ctx,t.chartArea);o<i;++o)null!==this.getParsed(o)[n.axis]&&r[o].draw(this._ctx);le(t.ctx)}}]),e}(qn);Yn.id="bar",Yn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Yn.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var $n=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(p.a)(e,[{key:"initialize",value:function(){this.enableOptionSharing=!0,l(Object(c.a)(e.prototype),"initialize",this).call(this)}},{key:"parseObjectData",value:function(t,e,n,r){var i,o,a,s=t.xScale,u=t.yScale,c=this._parsing,l=c.xAxisKey,f=void 0===l?"x":l,h=c.yAxisKey,d=void 0===h?"y":h,p=[];for(i=n,o=n+r;i<o;++i)a=e[i],p.push({x:s.parse(z(a,f),i),y:u.parse(z(a,d),i),_custom:a&&a.r&&+a.r});return p}},{key:"getMaxOverflow",value:function(){for(var t=this._cachedMeta,e=t.data,n=t._parsed,r=0,i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size()/2,n[i]._custom);return r>0&&r}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=e.xScale,r=e.yScale,i=this.getParsed(t),o=n.getLabelForValue(i.x),a=r.getLabelForValue(i.y),s=i._custom;return{label:e.label,value:"("+o+", "+a+(s?", "+s:"")+")"}}},{key:"update",value:function(t){var e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this,o="reset"===r,a=i._cachedMeta,s=a.xScale,u=a.yScale,c=i.resolveDataElementOptions(e,r),l=i.getSharedOptions(c),f=i.includeOptions(r,l),h=e;h<e+n;h++){var d=t[h],p=!o&&i.getParsed(h),v=o?s.getPixelForDecimal(.5):s.getPixelForValue(p.x),g=o?u.getBasePixel():u.getPixelForValue(p.y),m={x:v,y:g,skip:isNaN(v)||isNaN(g)};f&&(m.options=i.resolveDataElementOptions(h,r),o&&(m.options.radius=0)),i.updateElement(d,h,m,r)}i.updateSharedOptions(l,r,c)}},{key:"resolveDataElementOptions",value:function(t,n){var r=this.getParsed(t),i=l(Object(c.a)(e.prototype),"resolveDataElementOptions",this).call(this,t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));var o=i.radius;return"active"!==n&&(i.radius=0),i.radius+=I(r&&r._custom,o),i}}]),e}(qn);$n.id="bubble",$n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},$n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:function(){return""}}}}};var Qn=function(t){function e(t,n){var r;return Object(d.a)(this,e),(r=Object(u.a)(this,Object(c.a)(e).call(this,t,n))).enableOptionSharing=!0,r.innerRadius=void 0,r.outerRadius=void 0,r.offsetX=void 0,r.offsetY=void 0,r}return Object(f.a)(e,t),Object(p.a)(e,[{key:"linkScales",value:function(){}},{key:"parse",value:function(t,e){var n,r,i=this.getDataset().data,o=this._cachedMeta;for(n=t,r=t+e;n<r;++n)o._parsed[n]=+i[n]}},{key:"_getRotation",value:function(){return at(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return at(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var t=G,e=-G,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){var r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}},{key:"update",value:function(t){var e,n,r=this,i=r.chart.chartArea,o=r._cachedMeta,a=o.data,s=r.getMaxBorderWidth()+r.getMaxOffset(a),u=Math.max((Math.min(i.width,i.height)-s)/2,0),c=Math.min((e=r.options.cutout,n=u,"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:e/n),1),l=r._getRingWeight(r.index),f=r._getRotationExtents(),h=f.circumference,d=function(t,e,n){var r=1,i=1,o=0,a=0;if(e<G){var s=t,u=s+e,c=Math.cos(s),l=Math.sin(s),f=Math.cos(u),h=Math.sin(u),d=function(t,e,r){return ft(t,s,u)?1:Math.max(e,e*n,r,r*n)},p=function(t,e,r){return ft(t,s,u)?-1:Math.min(e,e*n,r,r*n)},v=d(0,c,f),g=d(X,l,h),m=p(K,c,f),y=p(K+X,l,h);r=(v-m)/2,i=(g-y)/2,o=-(v+m)/2,a=-(g+y)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(f.rotation,h,c),p=d.ratioX,v=d.ratioY,g=d.offsetX,m=d.offsetY,y=(i.width-s)/p,b=(i.height-s)/v,_=Math.max(Math.min(y,b)/2,0),w=C(r.options.radius,_),x=(w-Math.max(w*c,0))/r._getVisibleDatasetWeightTotal();r.offsetX=g*w,r.offsetY=m*w,o.total=r.calculateTotal(),r.outerRadius=w-x*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-x*l,0),r.updateElements(a,0,a.length,t)}},{key:"_circumference",value:function(t,e){var n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]?0:this.calculateCircumference(r._parsed[t]*i/G)}},{key:"updateElements",value:function(t,e,n,r){var i,o=this,a="reset"===r,s=o.chart,u=s.chartArea,c=s.options.animation,l=(u.left+u.right)/2,f=(u.top+u.bottom)/2,h=a&&c.animateScale,d=h?0:o.innerRadius,p=h?0:o.outerRadius,v=o.resolveDataElementOptions(e,r),g=o.getSharedOptions(v),m=o.includeOptions(r,g),y=o._getRotation();for(i=0;i<e;++i)y+=o._circumference(i,a);for(i=e;i<e+n;++i){var b=o._circumference(i,a),_=t[i],w={x:l+o.offsetX,y:f+o.offsetY,startAngle:y,endAngle:y+b,circumference:b,outerRadius:p,innerRadius:d};m&&(w.options=g||o.resolveDataElementOptions(i,r)),y+=b,o.updateElement(_,i,w,r)}o.updateSharedOptions(g,r,v)}},{key:"calculateTotal",value:function(){var t,e=this._cachedMeta,n=e.data,r=0;for(t=0;t<n.length;t++){var i=e._parsed[t];null!==i&&!isNaN(i)&&this.chart.getDataVisibility(t)&&(r+=Math.abs(i))}return r}},{key:"calculateCircumference",value:function(t){var e=this._cachedMeta.total;return e>0&&!isNaN(t)?G*(Math.abs(t)/e):0}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=dn(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}},{key:"getMaxBorderWidth",value:function(t){var e,n,r,i,o,a=0,s=this.chart;if(!t)for(e=0,n=s.data.datasets.length;e<n;++e)if(s.isDatasetVisible(e)){t=(r=s.getDatasetMeta(e)).data,(i=r.controller)!==this&&i.configure();break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)"inner"!==(o=i.resolveDataElementOptions(e)).borderAlign&&(a=Math.max(a,o.borderWidth||0,o.hoverBorderWidth||0));return a}},{key:"getMaxOffset",value:function(t){for(var e=0,n=0,r=t.length;n<r;++n){var i=this.resolveDataElementOptions(n);e=Math.max(e,i.offset||0,i.hoverOffset||0)}return e}},{key:"_getRingWeightOffset",value:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}},{key:"_getRingWeight",value:function(t){return Math.max(I(this.chart.data.datasets[t].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),e}(qn);Qn.id="doughnut",Qn.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",indexAxis:"r"},Qn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(e,n){var r=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:!t.getDataVisibility(n),index:n}}):[]}},onClick:function(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(t){var e=t.label,n=": "+t.formattedValue;return O(e)?(e=e.slice())[0]+=n:e+=n,e}}}}};var Xn=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(p.a)(e,[{key:"initialize",value:function(){this.enableOptionSharing=!0,l(Object(c.a)(e.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){var e=this,n=e._cachedMeta,r=n.dataset,i=n.data,o=void 0===i?[]:i,a=n._dataset,s=e.chart._animationsDisabled,u=function(t,e,n){var r=e.length,i=0,o=r;if(t._sorted){var a=t.iScale,s=t._parsed,u=a.axis,c=a.getUserBounds(),l=c.min,f=c.max,h=c.minDefined,d=c.maxDefined;h&&(i=ht(Math.min(Ee(s,a.axis,l).lo,n?r:Ee(e,u,a.getPixelForValue(l)).lo),0,r-1)),o=d?ht(Math.max(Ee(s,a.axis,f).hi+1,n?0:Ee(e,u,a.getPixelForValue(f)).hi+1),i,r)-i:r-i}return{start:i,count:o}}(n,o,s),c=u.start,l=u.count;e._drawStart=c,e._drawCount=l,function(t){var e=t.xScale,n=t.yScale,r=t._scaleRanges,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;var o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}(n)&&(c=0,l=o.length),r._decimated=!!a._decimated,r.points=o;var f=e.resolveDatasetElementOptions(t);e.options.showLine||(f.borderWidth=0),f.segment=e.options.segment,e.updateElement(r,void 0,{animated:!s,options:f},t),e.updateElements(o,c,l,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this,o="reset"===r,a=i._cachedMeta,s=a.xScale,u=a.yScale,c=a._stacked,l=i.resolveDataElementOptions(e,r),f=i.getSharedOptions(l),h=i.includeOptions(r,f),d=i.options.spanGaps,p=rt(d)?d:Number.POSITIVE_INFINITY,v=i.chart._animationsDisabled||o||"none"===r,g=e>0&&i.getParsed(e-1),m=e;m<e+n;++m){var y=t[m],b=i.getParsed(m),_=v?y:{},w=k(b.y),x=_.x=s.getPixelForValue(b.x,m),O=_.y=o||w?u.getBasePixel():u.getPixelForValue(c?i.applyStack(u,b,c):b.y,m);_.skip=isNaN(x)||isNaN(O)||w,_.stop=m>0&&b.x-g.x>p,_.parsed=b,h&&(_.options=f||i.resolveDataElementOptions(m,r)),v||i.updateElement(y,m,_,r),g=b}i.updateSharedOptions(f,r,l)}},{key:"getMaxOverflow",value:function(){var t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;var i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}},{key:"draw",value:function(){this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea),l(Object(c.a)(e.prototype),"draw",this).call(this)}}]),e}(qn);Xn.id="line",Xn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Xn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var Jn=function(t){function e(t,n){var r;return Object(d.a)(this,e),(r=Object(u.a)(this,Object(c.a)(e).call(this,t,n))).innerRadius=void 0,r.outerRadius=void 0,r}return Object(f.a)(e,t),Object(p.a)(e,[{key:"update",value:function(t){var e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}},{key:"_updateRadius",value:function(){var t=this,e=t.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),a=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();t.outerRadius=o-a*t.index,t.innerRadius=t.outerRadius-a}},{key:"updateElements",value:function(t,e,n,r){var i,o=this,a="reset"===r,s=o.chart,u=o.getDataset(),c=s.options.animation,l=o._cachedMeta.rScale,f=l.xCenter,h=l.yCenter,d=l.getIndexAngle(0)-.5*K,p=d,v=360/o.countVisibleElements();for(i=0;i<e;++i)p+=o._computeAngle(i,r,v);for(i=e;i<e+n;i++){var g=t[i],m=p,y=p+o._computeAngle(i,r,v),b=s.getDataVisibility(i)?l.getDistanceFromCenterForValue(u.data[i]):0;p=y,a&&(c.animateScale&&(b=0),c.animateRotate&&(m=y=d));var _={x:f,y:h,innerRadius:0,outerRadius:b,startAngle:m,endAngle:y,options:o.resolveDataElementOptions(i,r)};o.updateElement(g,i,_,r)}}},{key:"countVisibleElements",value:function(){var t=this,e=this.getDataset(),n=this._cachedMeta,r=0;return n.data.forEach(function(n,i){!isNaN(e.data[i])&&t.chart.getDataVisibility(i)&&r++}),r}},{key:"_computeAngle",value:function(t,e,n){return this.chart.getDataVisibility(t)?at(this.resolveDataElementOptions(t,e).angle||n):0}}]),e}(qn);Jn.id="polarArea",Jn.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Jn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(e,n){var r=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:!t.getDataVisibility(n),index:n}}):[]}},onClick:function(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var Zn=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),e}(Qn);Zn.id="pie",Zn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var tr=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(p.a)(e,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}},{key:"update",value:function(t){var e=this,n=e._cachedMeta,r=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(r.points=i,"resize"!==t){var a=e.resolveDatasetElementOptions(t);e.options.showLine||(a.borderWidth=0);var s={_loop:!0,_fullLoop:o.length===i.length,options:a};e.updateElement(r,void 0,s,t)}e.updateElements(i,0,i.length,t)}},{key:"updateElements",value:function(t,e,n,r){for(var i=this.getDataset(),o=this._cachedMeta.rScale,a="reset"===r,s=e;s<e+n;s++){var u=t[s],c=this.resolveDataElementOptions(s,r),l=o.getPointPositionForValue(s,i.data[s]),f=a?o.xCenter:l.x,h=a?o.yCenter:l.y,d={x:f,y:h,angle:l.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(u,s,d,r)}}}]),e}(qn);tr.id="radar",tr.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},tr.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var er=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),e}(Xn);er.id="scatter",er.defaults={showLine:!1,fill:!1},er.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:function(){return""},label:function(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var nr=Object.freeze({__proto__:null,BarController:Yn,BubbleController:$n,DoughnutController:Qn,LineController:Xn,PolarAreaController:Jn,PieController:Zn,RadarController:tr,ScatterController:er});function rr(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}var ir=function(){function t(e){Object(d.a)(this,t),this.options=e||{}}return Object(p.a)(t,[{key:"formats",value:function(){return rr()}},{key:"parse",value:function(t,e){return rr()}},{key:"format",value:function(t,e){return rr()}},{key:"add",value:function(t,e,n){return rr()}},{key:"diff",value:function(t,e,n){return rr()}},{key:"startOf",value:function(t,e,n){return rr()}},{key:"endOf",value:function(t,e){return rr()}}]),t}();ir.override=function(t){Object.assign(ir.prototype,t)};var or={_date:ir};function ar(t,e){return"native"in t?{x:t.x,y:t.y}:nn(t,e)}function sr(t,e,n,r){var i=t.controller,o=t.data,a=t._sorted,s=i._cachedMeta.iScale;if(s&&e===s.axis&&a&&o.length){var u=s._reversePixels?Se:Ee;if(!r)return u(o,e,n);if(i._sharedOptions){var c=o[0],l="function"===typeof c.getRange&&c.getRange(e);if(l){var f=u(o,e,n-l),h=u(o,e,n+l);return{lo:f.lo,hi:h.hi}}}}return{lo:0,hi:o.length-1}}function ur(t,e,n,r,i){for(var o=t.getSortedVisibleDatasetMetas(),a=n[e],s=0,u=o.length;s<u;++s)for(var c=o[s],l=c.index,f=c.data,h=sr(o[s],e,a,i),d=h.lo,p=h.hi,v=d;v<=p;++v){var g=f[v];g.skip||r(g,l,v)}}function cr(t,e,n,r){var i=[];if(!ue(e,t.chartArea,t._minPadding))return i;return ur(t,n,e,function(t,n,o){t.inRange(e.x,e.y,r)&&i.push({element:t,datasetIndex:n,index:o})},!0),i}function lr(t,e,n,r,i){var o=function(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){var i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n),a=Number.POSITIVE_INFINITY,s=[];if(!ue(e,t.chartArea,t._minPadding))return s;return ur(t,n,e,function(t,n,u){if(!r||t.inRange(e.x,e.y,i)){var c=t.getCenterPoint(i),l=o(e,c);l<a?(s=[{element:t,datasetIndex:n,index:u}],a=l):l===a&&s.push({element:t,datasetIndex:n,index:u})}}),s}function fr(t,e,n,r){var i=ar(e,t),o=[],a=n.axis,s="x"===a?"inXRange":"inYRange",u=!1;return function(t,e){for(var n,r,i,o=t.getSortedVisibleDatasetMetas(),a=0,s=o.length;a<s;++a){var u=o[a];n=u.index;for(var c=0,l=(r=u.data).length;c<l;++c)(i=r[c]).skip||e(i,n,c)}}(t,function(t,e,n){t[s](i[a],r)&&o.push({element:t,datasetIndex:e,index:n}),t.inRange(i.x,i.y,r)&&(u=!0)}),n.intersect&&!u?[]:o}var hr={modes:{index:function(t,e,n,r){var i=ar(e,t),o=n.axis||"x",a=n.intersect?cr(t,i,o,r):lr(t,i,o,!1,r),s=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(function(t){var e=a[0].index,n=t.data[e];n&&!n.skip&&s.push({element:n,datasetIndex:t.index,index:e})}),s):[]},dataset:function(t,e,n,r){var i=ar(e,t),o=n.axis||"xy",a=n.intersect?cr(t,i,o,r):lr(t,i,o,!1,r);if(a.length>0){var s=a[0].datasetIndex,u=t.getDatasetMeta(s).data;a=[];for(var c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:s,index:c})}return a},point:function(t,e,n,r){return cr(t,ar(e,t),n.axis||"xy",r)},nearest:function(t,e,n,r){return lr(t,ar(e,t),n.axis||"xy",n.intersect,r)},x:function(t,e,n,r){return n.axis="x",fr(t,e,n,r)},y:function(t,e,n,r){return n.axis="y",fr(t,e,n,r)}}},dr=["left","top","right","bottom"];function pr(t,e){return t.filter(function(t){return t.pos===e})}function vr(t,e){return t.filter(function(t){return-1===dr.indexOf(t.pos)&&t.box.axis===e})}function gr(t,e){return t.sort(function(t,n){var r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function mr(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function yr(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function br(t,e,n){var r=n.box,i=t.maxPadding;T(n.pos)||(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?r.height:r.width,t[n.pos]+=n.size),r.getPadding&&yr(i,r.getPadding());var o=Math.max(0,e.outerWidth-mr(i,t,"left","right")),a=Math.max(0,e.outerHeight-mr(i,t,"top","bottom")),s=o!==t.w,u=a!==t.h;return t.w=o,t.h=a,n.horizontal?{same:s,other:u}:{same:u,other:s}}function _r(t,e){var n=e.maxPadding;function r(t){var r={left:0,top:0,right:0,bottom:0};return t.forEach(function(t){r[t]=Math.max(e[t],n[t])}),r}return r(t?["left","right"]:["top","bottom"])}function wr(t,e,n){var r,i,o,a,s,u,c=[];for(r=0,i=t.length,s=0;r<i;++r){(a=(o=t[r]).box).update(o.width||e.w,o.height||e.h,_r(o.horizontal,e));var l=br(e,n,o),f=l.same,h=l.other;s|=f&&c.length,u=u||h,a.fullSize||c.push(o)}return s&&wr(c,e,n)||u}function xr(t,e,n){var r,i,o,a,s=n.padding,u=e.x,c=e.y;for(r=0,i=t.length;r<i;++r)a=(o=t[r]).box,o.horizontal?(a.left=a.fullSize?s.left:e.left,a.right=a.fullSize?n.outerWidth-s.right:e.left+e.w,a.top=c,a.bottom=c+a.height,a.width=a.right-a.left,c=a.bottom):(a.left=u,a.right=u+a.width,a.top=a.fullSize?s.top:e.top,a.bottom=a.fullSize?n.outerHeight-s.right:e.top+e.h,a.height=a.bottom-a.top,u=a.right);e.x=u,e.y=c}ne.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var kr={addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(t){e.draw(t)}}]},t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update:function(t,e,n,r){if(t){var i=xe(t.options.layout.padding),o=e-i.width,a=n-i.height,s=function(t){var e=function(t){var e,n,r,i=[];for(e=0,n=(t||[]).length;e<n;++e)r=t[e],i.push({index:e,box:r,pos:r.position,horizontal:r.isHorizontal(),weight:r.weight});return i}(t),n=gr(e.filter(function(t){return t.box.fullSize}),!0),r=gr(pr(e,"left"),!0),i=gr(pr(e,"right")),o=gr(pr(e,"top"),!0),a=gr(pr(e,"bottom")),s=vr(e,"x"),u=vr(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(u).concat(a).concat(s),chartArea:pr(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:o.concat(a).concat(s)}}(t.boxes),u=s.vertical,c=s.horizontal;P(t.boxes,function(t){"function"===typeof t.beforeLayout&&t.beforeLayout()});var l=u.reduce(function(t,e){return e.box.options&&!1===e.box.options.display?t:t+1},0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/l,hBoxMaxHeight:a/2}),h=Object.assign({},i);yr(h,xe(r));var d=Object.assign({maxPadding:h,w:o,h:a,x:i.left,y:i.top},i);!function(t,e){var n,r,i;for(n=0,r=t.length;n<r;++n)(i=t[n]).horizontal?(i.width=i.box.fullSize&&e.availableWidth,i.height=e.hBoxMaxHeight):(i.width=e.vBoxMaxWidth,i.height=i.box.fullSize&&e.availableHeight)}(u.concat(c),f),wr(s.fullSize,d,f),wr(u,d,f),wr(c,d,f)&&wr(u,d,f),function(t){var e=t.maxPadding;function n(n){var r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(d),xr(s.leftAndTop,d,f),d.x+=d.w,d.y+=d.h,xr(s.rightAndBottom,d,f),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},P(s.chartArea,function(e){var n=e.box;Object.assign(n,t.chartArea),n.update(d.w,d.h)})}}},Or=function(){function t(){Object(d.a)(this,t)}return Object(p.a)(t,[{key:"acquireContext",value:function(t,e){}},{key:"releaseContext",value:function(t){return!1}},{key:"addEventListener",value:function(t,e,n){}},{key:"removeEventListener",value:function(t,e,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}},{key:"isAttached",value:function(t){return!0}}]),t}(),Tr=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(p.a)(e,[{key:"acquireContext",value:function(t){return t&&t.getContext&&t.getContext("2d")||null}}]),e}(Or),Er="$chartjs",Sr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ir=function(t){return null===t||""===t};var Cr=!!sn&&{passive:!0};function Ar(t,e,n){t.canvas.removeEventListener(e,n,Cr)}function Pr(t,e,n){var r=t.canvas,i=r&&Qe(r)||r,o=new MutationObserver(function(t){var e=Qe(i);t.forEach(function(t){for(var r=0;r<t.addedNodes.length;r++){var o=t.addedNodes[r];o!==i&&o!==e||n(t.target)}})});return o.observe(document,{childList:!0,subtree:!0}),o}function jr(t,e,n){var r=t.canvas,i=r&&Qe(r);if(i){var o=new MutationObserver(function(t){t.forEach(function(t){for(var e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===r){n();break}})});return o.observe(i,{childList:!0}),o}}var Nr=new Map,Rr=0;function Dr(){var t=window.devicePixelRatio;t!==Rr&&(Rr=t,Nr.forEach(function(e,n){n.currentDevicePixelRatio!==t&&e()}))}function Mr(t,e,n){var r=t.canvas,i=r&&Qe(r);if(i){var o=y(function(t,e){var r=i.clientWidth;n(t,e),r<i.clientWidth&&n()},window),a=new ResizeObserver(function(t){var e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)});return a.observe(i),function(t,e){Nr.size||window.addEventListener("resize",Dr),Nr.set(t,e)}(t,o),a}}function Lr(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Nr.delete(t),Nr.size||window.removeEventListener("resize",Dr)}(t)}function Fr(t,e,n){var r=t.canvas,i=y(function(e){null!==t.ctx&&n(function(t,e){var n=Sr[t.type]||t.type,r=nn(t,e),i=r.x,o=r.y;return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==o?o:null}}(e,t))},t,function(t){var e=t[0];return[e,e.offsetX,e.offsetY]});return function(t,e,n){t.addEventListener(e,n,Cr)}(r,e,i),i}var Ur=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(p.a)(e,[{key:"acquireContext",value:function(t,e){var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){var n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Er]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ir(i)){var o=un(t,"width");void 0!==o&&(t.width=o)}if(Ir(r))if(""===t.style.height)t.height=t.width/(e||2);else{var a=un(t,"height");void 0!==a&&(t.height=a)}}(t,e),n):null}},{key:"releaseContext",value:function(t){var e=t.canvas;if(!e[Er])return!1;var n=e[Er].initial;["height","width"].forEach(function(t){var r=n[t];k(r)?e.removeAttribute(t):e.setAttribute(t,r)});var r=n.style||{};return Object.keys(r).forEach(function(t){e.style[t]=r[t]}),e.width=e.width,delete e[Er],!0}},{key:"addEventListener",value:function(t,e,n){this.removeEventListener(t,e);var r=t.$proxies||(t.$proxies={}),i={attach:Pr,detach:jr,resize:Mr}[e]||Fr;r[e]=i(t,e,n)}},{key:"removeEventListener",value:function(t,e){var n=t.$proxies||(t.$proxies={}),r=n[e];r&&(({attach:Lr,detach:Lr,resize:Lr}[e]||Ar)(t,e,r),n[e]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(t,e,n,r){return on(t,e,n,r)}},{key:"isAttached",value:function(t){var e=Qe(t);return!(!e||!Qe(e))}}]),e}(Or),Vr=function(){function t(){Object(d.a)(this,t),this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}return Object(p.a)(t,[{key:"tooltipPosition",value:function(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}},{key:"hasValue",value:function(){return rt(this.x)&&rt(this.y)}},{key:"getProps",value:function(t,e){var n=this,r=this.$animations;if(!e||!r)return n;var i={};return t.forEach(function(t){i[t]=r[t]&&r[t].active()?r[t]._to:n[t]}),i}}]),t}();Vr.defaults={},Vr.defaultRoutes=void 0;var Br={values:function(t){return O(t)?t:""+t},numeric:function(t,e,n){if(0===t)return"0";var r,i=this.chart.options.locale,o=t;if(n.length>1){var a=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(a<1e-4||a>1e15)&&(r="scientific"),o=function(t,e){var n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}var s=tt(Math.abs(o)),u=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),dn(t,i,c)},logarithmic:function(t,e,n){if(0===t)return"0";var r=t/Math.pow(10,Math.floor(tt(t)));return 1===r||2===r||5===r?Br.numeric.call(this,t,e,n):""}};var zr={formatters:Br};function qr(t,e){var n=t.options.ticks,r=n.maxTicksLimit||function(t){var e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=n.major.enabled?function(t){var e,n,r=[];for(e=0,n=t.length;e<n;e++)t[e].major&&r.push(e);return r}(e):[],o=i.length,a=i[0],s=i[o-1],u=[];if(o>r)return function(t,e,n,r){var i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),a=n[++o*r])}(e,u,i,o/r),u;var c=function(t,e,n){var r=function(t){var e,n,r=t.length;if(r<2)return!1;for(n=t[0],e=1;e<r;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),i=e.length/n;if(!r)return Math.max(i,1);for(var o=function(t){var e,n=[],r=Math.sqrt(t);for(e=1;e<r;e++)t%e===0&&(n.push(e),n.push(t/e));return r===(0|r)&&n.push(r),n.sort(function(t,e){return t-e}).pop(),n}(r),a=0,s=o.length-1;a<s;a++){var u=o[a];if(u>i)return u}return Math.max(i,1)}(i,e,r);if(o>0){var l,f,h=o>1?Math.round((s-a)/(o-1)):null;for(Wr(e,u,c,k(h)?0:a-h,a),l=0,f=o-1;l<f;l++)Wr(e,u,c,i[l],i[l+1]);return Wr(e,u,c,s,k(h)?e.length:s+h),u}return Wr(e,u,c),u}function Wr(t,e,n,r,i){var o,a,s,u=I(r,0),c=Math.min(I(i,t.length),t.length),l=0;for(n=Math.ceil(n),i&&(n=(o=i-r)/Math.floor(o/n)),s=u;s<0;)l++,s=Math.round(u+l*n);for(a=Math.max(u,0);a<c;a++)a===s&&(e.push(t[a]),l++,s=Math.round(u+l*n))}ne.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(t,e){return e.lineWidth},tickColor:function(t,e){return e.color},offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ne.route("scale.ticks","color","","color"),ne.route("scale.grid","color","","borderColor"),ne.route("scale.grid","borderColor","","borderColor"),ne.route("scale.title","color","","color"),ne.describe("scale",{_fallback:!1,_scriptable:function(t){return!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t},_indexable:function(t){return"borderDash"!==t&&"tickBorderDash"!==t}}),ne.describe("scales",{_fallback:"scale"});var Hr=function(t){return"left"===t?"right":"right"===t?"left":t},Kr=function(t,e,n){return"top"===e||"left"===e?t[e]+n:t[e]-n};function Gr(t,e){for(var n=[],r=t.length/e,i=t.length,o=0;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function Yr(t,e,n){var r,i=t.ticks.length,o=Math.min(e,i-1),a=t._startPixel,s=t._endPixel,u=t.getPixelForTick(o);if(!(n&&(r=1===i?Math.max(u-a,s-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(o-1))/2,(u+=o<e?r:-r)<a-1e-6||u>s+1e-6)))return u}function $r(t){return t.drawTicks?t.tickLength:0}function Qr(t,e){if(!t.display)return 0;var n=ke(t.font,e),r=xe(t.padding);return(O(t.text)?t.text.length:1)*n.lineHeight+r.height}function Xr(t,e,n){var r=b(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=Hr(r)),r}var Jr=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).id=t.id,n.type=t.type,n.options=void 0,n.ctx=t.ctx,n.chart=t.chart,n.top=void 0,n.bottom=void 0,n.left=void 0,n.right=void 0,n.width=void 0,n.height=void 0,n._margins={left:0,right:0,top:0,bottom:0},n.maxWidth=void 0,n.maxHeight=void 0,n.paddingTop=void 0,n.paddingBottom=void 0,n.paddingLeft=void 0,n.paddingRight=void 0,n.axis=void 0,n.labelRotation=void 0,n.min=void 0,n.max=void 0,n._range=void 0,n.ticks=[],n._gridLineItems=null,n._labelItems=null,n._labelSizes=null,n._length=0,n._maxLength=0,n._longestTextCache={},n._startPixel=void 0,n._endPixel=void 0,n._reversePixels=!1,n._userMax=void 0,n._userMin=void 0,n._suggestedMax=void 0,n._suggestedMin=void 0,n._ticksLength=0,n._borderValue=0,n._cache={},n._dataLimitsCached=!1,n.$context=void 0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"init",value:function(t){var e=this;e.options=t.setContext(e.getContext()),e.axis=t.axis,e._userMin=e.parse(t.min),e._userMax=e.parse(t.max),e._suggestedMin=e.parse(t.suggestedMin),e._suggestedMax=e.parse(t.suggestedMax)}},{key:"parse",value:function(t,e){return t}},{key:"getUserBounds",value:function(){var t=this._userMin,e=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return t=S(t,Number.POSITIVE_INFINITY),e=S(e,Number.NEGATIVE_INFINITY),n=S(n,Number.POSITIVE_INFINITY),r=S(r,Number.NEGATIVE_INFINITY),{min:S(t,n),max:S(e,r),minDefined:E(t),maxDefined:E(e)}}},{key:"getMinMax",value:function(t){var e,n=this.getUserBounds(),r=n.min,i=n.max,o=n.minDefined,a=n.maxDefined;if(o&&a)return{min:r,max:i};for(var s=this.getMatchingVisibleMetas(),u=0,c=s.length;u<c;++u)e=s[u].controller.getMinMax(this,t),o||(r=Math.min(r,e.min)),a||(i=Math.max(i,e.max));return{min:S(r,S(i,r)),max:S(i,S(r,i))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){A(this.options.beforeUpdate,[this])}},{key:"update",value:function(t,e,n){var r=this,i=r.options.ticks,o=i.sampleSize;r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),r.ticks=null,r._labelSizes=null,r._gridLineItems=null,r._labelItems=null,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r._maxLength=r.isHorizontal()?r.width+n.left+n.right:r.height+n.top+n.bottom,r._dataLimitsCached||(r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r._range=function(t,e){var n=t.min,r=t.max;return{min:n-Math.abs(C(e,n)),max:r+C(e,r)}}(r,r.options.grace),r._dataLimitsCached=!0),r.beforeBuildTicks(),r.ticks=r.buildTicks()||[],r.afterBuildTicks();var a=o<r.ticks.length;r._convertTicksToLabels(a?Gr(r.ticks,o):r.ticks),r.configure(),r.beforeCalculateLabelRotation(),r.calculateLabelRotation(),r.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(r.ticks=qr(r,r.ticks),r._labelSizes=null),a&&r._convertTicksToLabels(r.ticks),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate()}},{key:"configure",value:function(){var t,e,n=this,r=n.options.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,r=!r),n._startPixel=t,n._endPixel=e,n._reversePixels=r,n._length=e-t,n._alignToPixels=n.options.alignToPixels}},{key:"afterUpdate",value:function(){A(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){A(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}},{key:"afterSetDimensions",value:function(){A(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(t){this.chart.notifyPlugins(t,this.getContext()),A(this.options[t],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){A(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(t){var e,n,r,i=this.options.ticks;for(e=0,n=t.length;e<n;e++)(r=t[e]).label=A(i.callback,[r.value,e,t],this);for(e=0;e<n;e++)k(t[e].label)&&(t.splice(e,1),n--,e--)}},{key:"afterTickToLabelConversion",value:function(){A(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){A(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var t,e,n,r=this,i=r.options,o=i.ticks,a=r.ticks.length,s=o.minRotation||0,u=o.maxRotation,c=s;if(!r._isVisible()||!o.display||s>=u||a<=1||!r.isHorizontal())r.labelRotation=s;else{var l=r._getLabelSizes(),f=l.widest.width,h=l.highest.height,d=ht(r.chart.width-f,0,r.maxWidth);f+6>(t=i.offset?r.maxWidth/a:d/(a-1))&&(t=d/(a-(i.offset?.5:1)),e=r.maxHeight-$r(i.grid)-o.padding-Qr(i.title,r.chart.options.font),n=Math.sqrt(f*f+h*h),c=st(Math.min(Math.asin(Math.min((l.highest.height+6)/t,1)),Math.asin(Math.min(e/n,1))-Math.asin(h/n))),c=Math.max(s,Math.min(u,c))),r.labelRotation=c}}},{key:"afterCalculateLabelRotation",value:function(){A(this.options.afterCalculateLabelRotation,[this])}},{key:"beforeFit",value:function(){A(this.options.beforeFit,[this])}},{key:"fit",value:function(){var t=this,e={width:0,height:0},n=t.chart,r=t.options,i=r.ticks,o=r.title,a=r.grid,s=t._isVisible(),u=t.isHorizontal();if(s){var c=Qr(o,n.options.font);if(u?(e.width=t.maxWidth,e.height=$r(a)+c):(e.height=t.maxHeight,e.width=$r(a)+c),i.display&&t.ticks.length){var l=t._getLabelSizes(),f=l.first,h=l.last,d=l.widest,p=l.highest,v=2*i.padding,g=at(t.labelRotation),m=Math.cos(g),y=Math.sin(g);if(u){var b=i.mirror?0:y*d.width+m*p.height;e.height=Math.min(t.maxHeight,e.height+b+v)}else{var _=i.mirror?0:m*d.width+y*p.height;e.width=Math.min(t.maxWidth,e.width+_+v)}t._calculatePadding(f,h,y,m)}}t._handleMargins(),u?(t.width=t._length=n.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t._margins.top-t._margins.bottom)}},{key:"_calculatePadding",value:function(t,e,n,r){var i=this,o=i.options,a=o.ticks,s=a.align,u=a.padding,c=o.position,l=0!==i.labelRotation,f="top"!==c&&"x"===i.axis;if(i.isHorizontal()){var h=i.getPixelForTick(0)-i.left,d=i.right-i.getPixelForTick(i.ticks.length-1),p=0,v=0;l?f?(p=r*t.width,v=n*e.height):(p=n*t.height,v=r*e.width):"start"===s?v=e.width:"end"===s?p=t.width:(p=t.width/2,v=e.width/2),i.paddingLeft=Math.max((p-h+u)*i.width/(i.width-h),0),i.paddingRight=Math.max((v-d+u)*i.width/(i.width-d),0)}else{var g=e.height/2,m=t.height/2;"start"===s?(g=0,m=t.height):"end"===s&&(g=e.height,m=0),i.paddingTop=g+u,i.paddingBottom=m+u}}},{key:"_handleMargins",value:function(){var t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}},{key:"afterFit",value:function(){A(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var t=this.options,e=t.axis,n=t.position;return"top"===n||"bottom"===n||"x"===e}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t),this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var t=this,e=t._labelSizes;if(!e){var n=t.options.ticks.sampleSize,r=t.ticks;n<r.length&&(r=Gr(r,n)),t._labelSizes=e=t._computeLabelSizes(r,r.length)}return e}},{key:"_computeLabelSizes",value:function(t,e){var n,r,i,o,a,s,u,c,l,f,h,d=this.ctx,p=this._longestTextCache,v=[],g=[],m=0,y=0;for(n=0;n<e;++n){if(o=t[n].label,a=this._resolveTickFontOptions(n),d.font=s=a.string,u=p[s]=p[s]||{data:{},gc:[]},c=a.lineHeight,l=f=0,k(o)||O(o)){if(O(o))for(r=0,i=o.length;r<i;++r)k(h=o[r])||O(h)||(l=re(d,u.data,u.gc,l,h),f+=c)}else l=re(d,u.data,u.gc,l,o),f=c;v.push(l),g.push(f),m=Math.max(l,m),y=Math.max(f,y)}!function(t,e){P(t,function(t){var n,r=t.gc,i=r.length/2;if(i>e){for(n=0;n<i;++n)delete t.data[r[n]];r.splice(0,i)}})}(p,e);var b=v.indexOf(m),_=g.indexOf(y),w=function(t){return{width:v[t]||0,height:g[t]||0}};return{first:w(0),last:w(e-1),widest:w(b),highest:w(_),widths:v,heights:g}}},{key:"getLabelForValue",value:function(t){return t}},{key:"getPixelForValue",value:function(t,e){return NaN}},{key:"getValueForPixel",value:function(t){}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getPixelForDecimal",value:function(t){var e=this;e._reversePixels&&(t=1-t);var n=e._startPixel+t*e._length;return ht(e._alignToPixels?oe(e.chart,n,0):n,-32768,32767)}},{key:"getDecimalForPixel",value:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var t=this.min,e=this.max;return t<0&&e<0?e:t>0&&e>0?t:0}},{key:"getContext",value:function(t){var e,n,r=this,i=r.ticks||[];if(t>=0&&t<i.length){var o=i[t];return o.$context||(o.$context=function(t,e,n){return Object.assign(Object.create(t),{tick:n,index:e,type:"tick"})}(r.getContext(),t,o))}return r.$context||(r.$context=(e=r.chart.getContext(),n=r,Object.assign(Object.create(e),{scale:n,type:"scale"})))}},{key:"_tickSize",value:function(){var t=this.options.ticks,e=at(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}},{key:"_isVisible",value:function(){var t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(t){var e,n,r,i,o,a,s,u,c,l,f,h,d=this,p=d.axis,v=d.chart,g=d.options,m=g.grid,y=g.position,b=m.offset,_=d.isHorizontal(),w=d.ticks.length+(b?1:0),x=$r(m),k=[],O=m.setContext(d.getContext()),E=O.drawBorder?O.borderWidth:0,S=E/2,I=function(t){return oe(v,t,E)};if("top"===y)e=I(d.bottom),a=d.bottom-x,u=e-S,l=I(t.top)+S,h=t.bottom;else if("bottom"===y)e=I(d.top),l=t.top,h=I(t.bottom)-S,a=e+S,u=d.top+x;else if("left"===y)e=I(d.right),o=d.right-x,s=e-S,c=I(t.left)+S,f=t.right;else if("right"===y)e=I(d.left),c=t.left,f=I(t.right)-S,o=e+S,s=d.left+x;else if("x"===p){if("center"===y)e=I((t.top+t.bottom)/2+.5);else if(T(y)){var C=Object.keys(y)[0],A=y[C];e=I(d.chart.scales[C].getPixelForValue(A))}l=t.top,h=t.bottom,u=(a=e+S)+x}else if("y"===p){if("center"===y)e=I((t.left+t.right)/2);else if(T(y)){var P=Object.keys(y)[0],j=y[P];e=I(d.chart.scales[P].getPixelForValue(j))}s=(o=e-S)-x,c=t.left,f=t.right}for(n=0;n<w;++n){var N=m.setContext(d.getContext(n)),R=N.lineWidth,D=N.color,M=m.borderDash||[],L=N.borderDashOffset,F=N.tickWidth,U=N.tickColor,V=N.tickBorderDash||[],B=N.tickBorderDashOffset;void 0!==(r=Yr(d,n,b))&&(i=oe(v,r,R),_?o=s=c=f=i:a=u=l=h=i,k.push({tx1:o,ty1:a,tx2:s,ty2:u,x1:c,y1:l,x2:f,y2:h,width:R,color:D,borderDash:M,borderDashOffset:L,tickWidth:F,tickColor:U,tickBorderDash:V,tickBorderDashOffset:B}))}return d._ticksLength=w,d._borderValue=e,k}},{key:"_computeLabelItems",value:function(t){var e,n,r,i,o,a,s,u,c,l,f,h=this,d=h.axis,p=h.options,v=p.position,g=p.ticks,m=h.isHorizontal(),y=h.ticks,b=g.align,_=g.crossAlign,w=g.padding,x=g.mirror,k=$r(p.grid),E=k+w,S=x?-w:E,I=-at(h.labelRotation),C=[],A="middle";if("top"===v)o=h.bottom-S,a=h._getXAxisLabelAlignment();else if("bottom"===v)o=h.top+S,a=h._getXAxisLabelAlignment();else if("left"===v){var P=h._getYAxisLabelAlignment(k);a=P.textAlign,i=P.x}else if("right"===v){var j=h._getYAxisLabelAlignment(k);a=j.textAlign,i=j.x}else if("x"===d){if("center"===v)o=(t.top+t.bottom)/2+E;else if(T(v)){var N=Object.keys(v)[0],R=v[N];o=h.chart.scales[N].getPixelForValue(R)+E}a=h._getXAxisLabelAlignment()}else if("y"===d){if("center"===v)i=(t.left+t.right)/2-E;else if(T(v)){var D=Object.keys(v)[0],M=v[D];i=h.chart.scales[D].getPixelForValue(M)}a=h._getYAxisLabelAlignment(k).textAlign}"y"===d&&("start"===b?A="top":"end"===b&&(A="bottom"));var L=h._getLabelSizes();for(e=0,n=y.length;e<n;++e){r=y[e].label;var F=g.setContext(h.getContext(e));s=h.getPixelForTick(e)+g.labelOffset,c=(u=h._resolveTickFontOptions(e)).lineHeight;var U=(l=O(r)?r.length:1)/2,V=F.color,B=F.textStrokeColor,z=F.textStrokeWidth;m?(i=s,f="top"===v?"near"===_||0!==I?-l*c+c/2:"center"===_?-L.highest.height/2-U*c+c:-L.highest.height+c/2:"near"===_||0!==I?c/2:"center"===_?L.highest.height/2-U*c:L.highest.height-l*c,x&&(f*=-1)):(o=s,f=(1-l)*c/2);var q=void 0;if(F.showLabelBackdrop){var W=xe(F.backdropPadding),H=L.heights[e],K=L.widths[e],G=o+f-W.top,Y=i-W.left;switch(A){case"middle":G-=H/2;break;case"bottom":G-=H}switch(a){case"center":Y-=K/2;break;case"right":Y-=K}q={left:Y,top:G,width:K+W.width,height:H+W.height,color:F.backdropColor}}C.push({rotation:I,label:r,font:u,color:V,strokeColor:B,strokeWidth:z,textOffset:f,textAlign:a,textBaseline:A,translation:[i,o],backdrop:q})}return C}},{key:"_getXAxisLabelAlignment",value:function(){var t=this.options,e=t.position,n=t.ticks;if(-at(this.labelRotation))return"top"===e?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align&&(r="right"),r}},{key:"_getYAxisLabelAlignment",value:function(t){var e,n,r=this,i=r.options,o=i.position,a=i.ticks,s=a.crossAlign,u=a.mirror,c=a.padding,l=t+c,f=r._getLabelSizes().widest.width;return"left"===o?u?(e="left",n=r.right+c):(n=r.right-l,"near"===s?e="right":"center"===s?(e="center",n-=f/2):(e="left",n=r.left)):"right"===o?u?(e="right",n=r.left+c):(n=r.left+l,"near"===s?e="left":"center"===s?(e="center",n+=f/2):(e="right",n=r.right)):e="right",{textAlign:e,x:n}}},{key:"_computeLabelArea",value:function(){var t=this;if(!t.options.ticks.mirror){var e=t.chart,n=t.options.position;return"left"===n||"right"===n?{top:0,left:t.left,bottom:e.height,right:t.right}:"top"===n||"bottom"===n?{top:t.top,left:0,bottom:t.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var t=this.ctx,e=this.options.backgroundColor,n=this.left,r=this.top,i=this.width,o=this.height;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}},{key:"getLineWidthForValue",value:function(t){var e=this.options.grid;if(!this._isVisible()||!e.display)return 0;var n=this.ticks.findIndex(function(e){return e.value===t});return n>=0?e.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(t){var e,n,r=this,i=r.options.grid,o=r.ctx,a=r._gridLineItems||(r._gridLineItems=r._computeGridLineItems(t)),s=function(t,e,n){n.width&&n.color&&(o.save(),o.lineWidth=n.width,o.strokeStyle=n.color,o.setLineDash(n.borderDash||[]),o.lineDashOffset=n.borderDashOffset,o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(e.x,e.y),o.stroke(),o.restore())};if(i.display)for(e=0,n=a.length;e<n;++e){var u=a[e];i.drawOnChartArea&&s({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),i.drawTicks&&s({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var t=this,e=t.chart,n=t.ctx,r=t.options.grid,i=r.setContext(t.getContext()),o=r.drawBorder?i.borderWidth:0;if(o){var a,s,u,c,l=r.setContext(t.getContext(0)).lineWidth,f=t._borderValue;t.isHorizontal()?(a=oe(e,t.left,o)-o/2,s=oe(e,t.right,l)+l/2,u=c=f):(u=oe(e,t.top,o)-o/2,c=oe(e,t.bottom,l)+l/2,a=s=f),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(a,u),n.lineTo(s,c),n.stroke(),n.restore()}}},{key:"drawLabels",value:function(t){var e=this;if(e.options.ticks.display){var n=e.ctx,r=e._computeLabelArea();r&&ce(n,r);var i,o,a=e._labelItems||(e._labelItems=e._computeLabelItems(t));for(i=0,o=a.length;i<o;++i){var s=a[i],u=s.font,c=s.label;s.backdrop&&(n.fillStyle=s.backdrop.color,n.fillRect(s.backdrop.left,s.backdrop.top,s.backdrop.width,s.backdrop.height)),de(n,c,0,s.textOffset,u,s)}r&&le(n)}}},{key:"drawTitle",value:function(){var t=this.ctx,e=this.options,n=e.position,r=e.title,i=e.reverse;if(r.display){var o=ke(r.font),a=xe(r.padding),s=r.align,u=o.lineHeight/2;"bottom"===n?(u+=a.bottom,O(r.text)&&(u+=o.lineHeight*(r.text.length-1))):u+=a.top;var c=function(t,e,n,r){var i,o,a,s=t.top,u=t.left,c=t.bottom,l=t.right,f=0;return t.isHorizontal()?(o=_(r,u,l),a=Kr(t,n,e),i=l-u):(o=Kr(t,n,e),a=_(r,c,s),f="left"===n?-X:X),{titleX:o,titleY:a,maxWidth:i,rotation:f}}(this,u,n,s),l=c.titleX,f=c.titleY,h=c.maxWidth,d=c.rotation;de(t,r.text,0,0,o,{color:r.color,maxWidth:h,rotation:d,textAlign:Xr(s,n,i),textBaseline:"middle",translation:[l,f]})}}},{key:"draw",value:function(t){var e=this;e._isVisible()&&(e.drawBackground(),e.drawGrid(t),e.drawBorder(),e.drawTitle(),e.drawLabels(t))}},{key:"_layers",value:function(){var t=this,n=t.options,r=n.ticks&&n.ticks.z||0,i=n.grid&&n.grid.z||0;return t._isVisible()&&t.draw===e.prototype.draw?[{z:i,draw:function(e){t.drawBackground(),t.drawGrid(e),t.drawTitle()}},{z:i+1,draw:function(){t.drawBorder()}},{z:r,draw:function(e){t.drawLabels(e)}}]:[{z:r,draw:function(e){t.draw(e)}}]}},{key:"getMatchingVisibleMetas",value:function(t){var e,n,r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];for(e=0,n=r.length;e<n;++e){var a=r[e];a[i]!==this.id||t&&a.type!==t||o.push(a)}return o}},{key:"_resolveTickFontOptions",value:function(t){return ke(this.options.ticks.setContext(this.getContext(t)).font)}},{key:"_maxDigits",value:function(){var t=this._resolveTickFontOptions(0).lineHeight;return this.isHorizontal()?this.width/t/.7:this.height/t}}]),e}(Vr),Zr=function(){function t(e,n,r){Object(d.a)(this,t),this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}return Object(p.a)(t,[{key:"isForType",value:function(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}},{key:"register",value:function(t){var e,n=Object.getPrototypeOf(t);(function(t){return"id"in t&&"defaults"in t})(n)&&(e=this.register(n));var r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r?o:(r[i]=t,function(t,e,n){var r=M(Object.create(null),[n?ne.get(n):{},ne.get(e),t.defaults]);ne.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(function(n){var r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),u=a.join(".");ne.route(o,i,u,s)})}(e,t.defaultRoutes);t.descriptors&&ne.describe(e,t.descriptors)}(t,o,e),this.override&&ne.override(t.id,t.overrides),o)}},{key:"get",value:function(t){return this.items[t]}},{key:"unregister",value:function(t){var e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in ne[r]&&(delete ne[r][n],this.override&&delete Jt[n])}}]),t}();var ti=new(function(){function t(){Object(d.a)(this,t),this.controllers=new Zr(qn,"datasets",!0),this.elements=new Zr(Vr,"elements"),this.plugins=new Zr(Object,"plugins"),this.scales=new Zr(Jr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return Object(p.a)(t,[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}},{key:"addControllers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}},{key:"addElements",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}},{key:"addPlugins",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}},{key:"addScales",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}},{key:"getController",value:function(t){return this._get(t,this.controllers,"controller")}},{key:"getElement",value:function(t){return this._get(t,this.elements,"element")}},{key:"getPlugin",value:function(t){return this._get(t,this.plugins,"plugin")}},{key:"getScale",value:function(t){return this._get(t,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}},{key:"removeElements",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}},{key:"removePlugins",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}},{key:"removeScales",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}},{key:"_each",value:function(t,e,n){var r=this;o(e).forEach(function(e){var i=n||r._getRegistryForType(e);n||i.isForType(e)||i===r.plugins&&e.id?r._exec(t,i,e):P(e,function(e){var i=n||r._getRegistryForType(e);r._exec(t,i,e)})})}},{key:"_exec",value:function(t,e,n){var r=q(t);A(n["before"+r],[],n),e[t](n),A(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(t){for(var e=0;e<this._typedRegistries.length;e++){var n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}},{key:"_get",value:function(t,e,n){var r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}]),t}()),ei=function(){function t(){Object(d.a)(this,t),this._init=[]}return Object(p.a)(t,[{key:"notify",value:function(t,e,n,r){var i=this;"beforeInit"===e&&(i._init=i._createDescriptors(t,!0),i._notify(i._init,t,"install"));var o=r?i._descriptors(t).filter(r):i._descriptors(t),a=i._notify(o,t,e,n);return"destroy"===e&&(i._notify(o,t,"stop"),i._notify(i._init,t,"uninstall")),a}},{key:"_notify",value:function(t,e,n,r){r=r||{};var i,o=Tn(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.plugin;if(!1===A(s[n],[e,r,a.options],s)&&r.cancelable)return!1}}catch(u){o.e(u)}finally{o.f()}return!0}},{key:"invalidate",value:function(){k(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(t){if(this._cache)return this._cache;var e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}},{key:"_createDescriptors",value:function(t,e){var n=t&&t.config,r=I(n.options&&n.options.plugins,{}),i=function(t){for(var e=[],n=Object.keys(ti.plugins.items),r=0;r<n.length;r++)e.push(ti.getPlugin(n[r]));for(var i=t.plugins||[],o=0;o<i.length;o++){var a=i[o];-1===e.indexOf(a)&&e.push(a)}return e}(n);return!1!==r||e?function(t,e,n,r){for(var i=[],o=t.getContext(),a=0;a<e.length;a++){var s=e[a],u=s.id,c=ni(n[u],r);null!==c&&i.push({plugin:s,options:ri(t.config,s,c,o)})}return i}(t,i,r,e):[]}},{key:"_notifyStateChanges",value:function(t){var e=this._oldCache||[],n=this._cache,r=function(t,e){return t.filter(function(t){return!e.some(function(e){return t.plugin.id===e.plugin.id})})};this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}]),t}();function ni(t,e){return e||!1!==t?!0===t?{}:t:null}function ri(t,e,n,r){var i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ii(t,e){var n=ne.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function oi(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function ai(t){var e=t.options||(t.options={});e.plugins=I(e.plugins,{}),e.scales=function(t,e){var n=Jt[t.type]||{scales:{}},r=e.scales||{},i=ii(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach(function(t){var e=r[t],s=oi(t,e),u=function(t,e){return t===e?"_index_":"_value_"}(s,i),c=n.scales||{};o[s]=o[s]||t,a[t]=L(Object.create(null),[{axis:s},e,c[s],c[u]])}),t.data.datasets.forEach(function(n){var i=n.type||t.type,s=n.indexAxis||ii(i,e),u=(Jt[i]||{}).scales||{};Object.keys(u).forEach(function(t){var e=function(t,e){var n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),i=n[e+"AxisID"]||o[e]||e;a[i]=a[i]||Object.create(null),L(a[i],[{axis:e},r[i],u[t]])})}),Object.keys(a).forEach(function(t){var e=a[t];L(e,[ne.scales[e.type],ne.scale])}),a}(t,e)}function si(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}var ui=new Map,ci=new Set;function li(t,e){var n=ui.get(t);return n||(n=e(),ui.set(t,n),ci.add(n)),n}var fi=function(t,e,n){var r=z(e,n);void 0!==r&&t.add(r)},hi=function(){function t(e){Object(d.a)(this,t),this._config=function(t){return(t=t||{}).data=si(t.data),ai(t),t}(e),this._scopeCache=new Map,this._resolverCache=new Map}return Object(p.a)(t,[{key:"update",value:function(){var t=this._config;this.clearCache(),ai(t)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(t){return li(t,function(){return[["datasets.".concat(t),""]]})}},{key:"datasetAnimationScopeKeys",value:function(t,e){return li("".concat(t,".transition.").concat(e),function(){return[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]})}},{key:"datasetElementScopeKeys",value:function(t,e){return li("".concat(t,"-").concat(e),function(){return[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]})}},{key:"pluginScopeKeys",value:function(t){var e=t.id,n=this.type;return li("".concat(n,"-plugin-").concat(e),function(){return[["plugins.".concat(e)].concat(o(t.additionalOptionScopes||[]))]})}},{key:"_cachedScopes",value:function(t,e){var n=this._scopeCache,r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}},{key:"getOptionScopes",value:function(t,e,n){var r=this.options,i=this.type,a=this._cachedScopes(t,n),s=a.get(e);if(s)return s;var u=new Set;e.forEach(function(e){t&&(u.add(t),e.forEach(function(e){return fi(u,t,e)})),e.forEach(function(t){return fi(u,r,t)}),e.forEach(function(t){return fi(u,Jt[i]||{},t)}),e.forEach(function(t){return fi(u,ne,t)}),e.forEach(function(t){return fi(u,Zt,t)})});var c=o(u);return ci.has(e)&&a.set(e,c),c}},{key:"chartOptionScopes",value:function(){var t=this.options,e=this.type;return[t,Jt[e]||{},ne.datasets[e]||{},{type:e},ne,Zt]}},{key:"resolveNamedOptions",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],i={$shared:!0},o=di(this._resolverCache,t,r),a=o.resolver,s=o.subPrefixes,u=a;(function(t,e){var n,r=Ne(t),i=r.isScriptable,o=r.isIndexable,a=Tn(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(i(s)&&H(t[s])||o(s)&&O(t[s]))return!0}}catch(u){a.e(u)}finally{a.f()}return!1})(a,e)&&(i.$shared=!1,u=je(a,n=H(n)?n():n,this.createResolver(t,n,s)));var c,l=Tn(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;i[f]=u[f]}}catch(h){l.e(h)}finally{l.f()}return i}},{key:"createResolver",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,i=di(this._resolverCache,t,n).resolver;return T(e)?je(i,e,void 0,r):i}},{key:"type",get:function(){return this._config.type},set:function(t){this._config.type=t}},{key:"data",get:function(){return this._config.data},set:function(t){this._config.data=si(t)}},{key:"options",get:function(){return this._config.options},set:function(t){this._config.options=t}},{key:"plugins",get:function(){return this._config.plugins}}]),t}();function di(t,e,n){var r=t.get(e);r||(r=new Map,t.set(e,r));var i=n.join(),o=r.get(i);o||(o={resolver:Pe(e,n),subPrefixes:n.filter(function(t){return!t.toLowerCase().includes("hover")})},r.set(i,o));return o}var pi=["top","bottom","left","right","chartArea"];function vi(t,e){return"top"===t||"bottom"===t||-1===pi.indexOf(t)&&"x"===e}function gi(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function mi(t){var e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),A(n&&n.onComplete,[t],e)}function yi(t){var e=t.chart,n=e.options.animation;A(n&&n.onProgress,[t],e)}function bi(){return"undefined"!==typeof window&&"undefined"!==typeof document}function _i(t){return bi()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var wi={},xi=function(t){var e=_i(t);return Object.values(wi).filter(function(t){return t.canvas===e}).pop()},ki=function(){function t(e,n){var r=this;Object(d.a)(this,t);var i=this;this.config=n=new hi(n);var o=_i(e),a=xi(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");var s=n.createResolver(n.chartOptionScopes(),i.getContext());this.platform=i._initializePlatform(o,n);var u=i.platform.acquireContext(o,s.aspectRatio),c=u&&u.canvas,l=c&&c.height,f=c&&c.width;this.id=x(),this.ctx=u,this.canvas=c,this.width=f,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new ei,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){var n;return function(){return e?(clearTimeout(n),n=setTimeout(t,e)):t(),e}}(function(){return r.update("resize")},s.resizeDelay||0),wi[i.id]=i,u&&c?(Sn.listen(i,"complete",mi),Sn.listen(i,"progress",yi),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}return Object(p.a)(t,[{key:"_initialize",value:function(){var t=this;return t.notifyPlugins("beforeInit"),t.options.responsive?t.resize():an(t,t.options.devicePixelRatio),t.bindEvents(),t.notifyPlugins("afterInit"),t}},{key:"_initializePlatform",value:function(t,e){return e.platform?new e.platform:!bi()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?new Tr:new Ur}},{key:"clear",value:function(){return ae(this.canvas,this.ctx),this}},{key:"stop",value:function(){return Sn.stop(this),this}},{key:"resize",value:function(t,e){Sn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}},{key:"_resize",value:function(t,e){var n=this,r=n.options,i=n.canvas,o=r.maintainAspectRatio&&n.aspectRatio,a=n.platform.getMaximumSize(i,t,e,o),s=n.currentDevicePixelRatio,u=r.devicePixelRatio||n.platform.getDevicePixelRatio();n.width===a.width&&n.height===a.height&&s===u||(n.width=a.width,n.height=a.height,n._aspectRatio=n.aspectRatio,an(n,u,!0),n.notifyPlugins("resize",{size:a}),A(r.onResize,[n,a],n),n.attached&&n._doResize()&&n.render())}},{key:"ensureScalesHaveIDs",value:function(){P(this.options.scales||{},function(t,e){t.id=e})}},{key:"buildOrUpdateScales",value:function(){var t=this,e=t.options,n=e.scales,r=t.scales,i=Object.keys(r).reduce(function(t,e){return t[e]=!1,t},{}),o=[];n&&(o=o.concat(Object.keys(n).map(function(t){var e=n[t],r=oi(t,e),i="r"===r,o="x"===r;return{options:e,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}}))),P(o,function(n){var o=n.options,a=o.id,s=oi(a,o),u=I(o.type,n.dtype);void 0!==o.position&&vi(o.position,s)===vi(n.dposition)||(o.position=n.dposition),i[a]=!0;var c=null;a in r&&r[a].type===u?c=r[a]:(c=new(ti.getScale(u))({id:a,type:u,ctx:t.ctx,chart:t}),r[c.id]=c);c.init(o,e)}),P(i,function(t,e){t||delete r[e]}),P(r,function(e){kr.configure(t,e,e.options),kr.addBox(t,e)})}},{key:"_updateMetasetIndex",value:function(t,e){var n=this._metasets,r=t.index;r!==e&&(n[r]=n[e],n[e]=t,t.index=e)}},{key:"_updateMetasets",value:function(){var t=this._metasets,e=this.data.datasets.length,n=t.length;if(n>e){for(var r=e;r<n;++r)this._destroyDatasetMeta(r);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(gi("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var t=this,e=t._metasets,n=t.data.datasets;e.length>n.length&&delete t._stacks,e.forEach(function(e,r){0===n.filter(function(t){return t===e._dataset}).length&&t._destroyDatasetMeta(r)})}},{key:"buildOrUpdateControllers",value:function(){var t,e,n=this,r=[],i=n.data.datasets;for(n._removeUnreferencedMetasets(),t=0,e=i.length;t<e;t++){var o=i[t],a=n.getDatasetMeta(t),s=o.type||n.config.type;if(a.type&&a.type!==s&&(n._destroyDatasetMeta(t),a=n.getDatasetMeta(t)),a.type=s,a.indexAxis=o.indexAxis||ii(s,n.options),a.order=o.order||0,n._updateMetasetIndex(a,t),a.label=""+o.label,a.visible=n.isDatasetVisible(t),a.controller)a.controller.updateIndex(t),a.controller.linkScales();else{var u=ti.getController(s),c=ne.datasets[s],l=c.datasetElementType,f=c.dataElementType;Object.assign(u.prototype,{dataElementType:ti.getElement(f),datasetElementType:l&&ti.getElement(l)}),a.controller=new u(n,t),r.push(a.controller)}}return n._updateMetasets(),r}},{key:"_resetElements",value:function(){var t=this;P(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(t){var e=this,n=e.config;n.update(),e._options=n.createResolver(n.chartOptionScopes(),e.getContext()),P(e.scales,function(t){kr.removeBox(e,t)});var r=e._animationsDisabled=!e.options.animation;if(e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),function(t,e){if(t.size!==e.size)return!1;var n,r=v(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!e.has(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(new Set(Object.keys(e._listeners)),new Set(e.options.events))||(e.unbindEvents(),e.bindEvents()),e._plugins.invalidate(),!1!==e.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})){var i=e.buildOrUpdateControllers();e.notifyPlugins("beforeElementsUpdate");for(var o=0,a=0,s=e.data.datasets.length;a<s;a++){var u=e.getDatasetMeta(a).controller,c=!r&&-1===i.indexOf(u);u.buildOrUpdateElements(c),o=Math.max(+u.getMaxOverflow(),o)}e._minPadding=o,e._updateLayout(o),r||P(i,function(t){t.reset()}),e._updateDatasets(t),e.notifyPlugins("afterUpdate",{mode:t}),e._layers.sort(gi("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render()}}},{key:"_updateLayout",value:function(t){var e=this;if(!1!==e.notifyPlugins("beforeLayout",{cancelable:!0})){kr.update(e,e.width,e.height,t);var n=e.chartArea,r=n.width<=0||n.height<=0;e._layers=[],P(e.boxes,function(t){var n;r&&"chartArea"===t.position||(t.configure&&t.configure(),(n=e._layers).push.apply(n,o(t._layers())))},e),e._layers.forEach(function(t,e){t._idx=e}),e.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(t){var e="function"===typeof t;if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(var n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,e?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}},{key:"_updateDataset",value:function(t,e){var n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}},{key:"render",value:function(){var t=this;!1!==t.notifyPlugins("beforeRender",{cancelable:!0})&&(Sn.has(t)?t.attached&&!Sn.running(t)&&Sn.start(t):(t.draw(),mi({chart:t})))}},{key:"draw",value:function(){var t,e=this;if(e._resizeBeforeDraw){var n=e._resizeBeforeDraw,r=n.width,i=n.height;e._resize(r,i),e._resizeBeforeDraw=null}if(e.clear(),!(e.width<=0||e.height<=0)&&!1!==e.notifyPlugins("beforeDraw",{cancelable:!0})){var o=e._layers;for(t=0;t<o.length&&o[t].z<=0;++t)o[t].draw(e.chartArea);for(e._drawDatasets();t<o.length;++t)o[t].draw(e.chartArea);e.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(t){var e,n,r=this._sortedMetasets,i=[];for(e=0,n=r.length;e<n;++e){var o=r[e];t&&!o.visible||i.push(o)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var t=this.getSortedVisibleDatasetMetas(),e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(t){var e=this,n=e.ctx,r=t._clip,i=e.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==e.notifyPlugins("beforeDatasetDraw",o)&&(ce(n,{left:!1===r.left?0:i.left-r.left,right:!1===r.right?e.width:i.right+r.right,top:!1===r.top?0:i.top-r.top,bottom:!1===r.bottom?e.height:i.bottom+r.bottom}),t.controller.draw(),le(n),o.cancelable=!1,e.notifyPlugins("afterDatasetDraw",o))}},{key:"getElementsAtEventForMode",value:function(t,e,n,r){var i=hr.modes[e];return"function"===typeof i?i(this,t,n,r):[]}},{key:"getDatasetMeta",value:function(t){var e=this.data.datasets[t],n=this._metasets,r=n.filter(function(t){return t&&t._dataset===e}).pop();return r||(r=n[t]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1}),r}},{key:"getContext",value:function(){return this.$context||(this.$context={chart:this,type:"chart"})}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(t){var e=this.data.datasets[t];if(!e)return!1;var n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}},{key:"setDatasetVisibility",value:function(t,e){this.getDatasetMeta(t).hidden=!e}},{key:"toggleDataVisibility",value:function(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}},{key:"getDataVisibility",value:function(t){return!this._hiddenIndices[t]}},{key:"_updateDatasetVisibility",value:function(t,e){var n=e?"show":"hide",r=this.getDatasetMeta(t),i=r.controller._resolveAnimations(void 0,n);this.setDatasetVisibility(t,e),i.update(r,{visible:e}),this.update(function(e){return e.datasetIndex===t?n:void 0})}},{key:"hide",value:function(t){this._updateDatasetVisibility(t,!1)}},{key:"show",value:function(t){this._updateDatasetVisibility(t,!0)}},{key:"_destroyDatasetMeta",value:function(t){var e=this._metasets&&this._metasets[t];e&&e.controller&&(e.controller._destroy(),delete this._metasets[t])}},{key:"destroy",value:function(){var t,e,n=this,r=n.canvas,i=n.ctx;for(n.stop(),Sn.remove(n),t=0,e=n.data.datasets.length;t<e;++t)n._destroyDatasetMeta(t);n.config.clearCache(),r&&(n.unbindEvents(),ae(r,i),n.platform.releaseContext(i),n.canvas=null,n.ctx=null),n.notifyPlugins("destroy"),delete wi[n.id]}},{key:"toBase64Image",value:function(){var t;return(t=this.canvas).toDataURL.apply(t,arguments)}},{key:"bindEvents",value:function(){var t=this,e=t._listeners,n=t.platform,r=function(r,i){n.addEventListener(t,r,i),e[r]=i},i=function(r,i){e[r]&&(n.removeEventListener(t,r,i),delete e[r])},o=function(e,n,r){e.offsetX=n,e.offsetY=r,t._eventHandler(e)};if(P(t.options.events,function(t){return r(t,o)}),t.options.responsive){var a;o=function(e,n){t.canvas&&t.resize(e,n)};var s=function e(){i("attach",e),t.attached=!0,t.resize(),r("resize",o),r("detach",a)};a=function(){t.attached=!1,i("resize",o),r("attach",s)},n.isAttached(t.canvas)?s():a()}else t.attached=!0}},{key:"unbindEvents",value:function(){var t=this,e=t._listeners;e&&(t._listeners={},P(e,function(e,n){t.platform.removeEventListener(t,n,e)}))}},{key:"updateHoverStyle",value:function(t,e,n){var r,i,o,a=n?"set":"remove";for("dataset"===e&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+a+"DatasetHoverStyle"](),i=0,o=t.length;i<o;++i){var s=(r=t[i])&&this.getDatasetMeta(r.datasetIndex).controller;s&&s[a+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t){var e=this,n=e._active||[],r=t.map(function(t){var n=t.datasetIndex,r=t.index,i=e.getDatasetMeta(n);if(!i)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:i.data[r],index:r}});!j(r,n)&&(e._active=r,e._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(t,e,n){return this._plugins.notify(this,t,e,n)}},{key:"_updateHoverStyles",value:function(t,e,n){var r=this.options.hover,i=function(t,e){return t.filter(function(t){return!e.some(function(e){return t.datasetIndex===e.datasetIndex&&t.index===e.index})})},o=i(e,t),a=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}},{key:"_eventHandler",value:function(t,e){var n=this,r=this,i={event:t,replay:e,cancelable:!0},o=function(e){return(e.options.events||n.options.events).includes(t.type)};if(!1!==r.notifyPlugins("beforeEvent",i,o)){var a=r._handleEvent(t,e);return i.cancelable=!1,r.notifyPlugins("afterEvent",i,o),(a||i.changed)&&r.render(),r}}},{key:"_handleEvent",value:function(t,e){var n,r=this,i=r._active,o=void 0===i?[]:i,a=r.options,s=a.hover,u=e,c=[],l=null;return"mouseout"!==t.type&&(c=r.getElementsAtEventForMode(t,s.mode,s,u),l="click"===t.type?r._lastEvent:t),r._lastEvent=null,ue(t,r.chartArea,r._minPadding)&&(A(a.onHover,[t,c,r],r),"mouseup"!==t.type&&"click"!==t.type&&"contextmenu"!==t.type||A(a.onClick,[t,c,r],r)),((n=!j(c,o))||e)&&(r._active=c,r._updateHoverStyles(c,o,e)),r._lastEvent=l,n}},{key:"aspectRatio",get:function(){var t=this.options,e=t.aspectRatio,n=t.maintainAspectRatio,r=this.width,i=this.height,o=this._aspectRatio;return k(e)?n&&o?o:i?r/i:null:e}},{key:"data",get:function(){return this.config.data},set:function(t){this.config.data=t}},{key:"options",get:function(){return this._options},set:function(t){this.config.options=t}}]),t}(),Oi=function(){return P(ki.instances,function(t){return t._plugins.invalidate()})};function Ti(t,e){var n=e.startAngle,r=e.endAngle,i=e.pixelMargin,o=e.x,a=e.y,s=e.outerRadius,u=e.innerRadius,c=i/s;t.beginPath(),t.arc(o,a,s,n-c,r+c),u>i?(c=i/u,t.arc(o,a,u,r+c,n-c,!0)):t.arc(o,a,i,r+X,n-X),t.closePath(),t.clip()}function Ei(t,e,n,r){var i=be(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(n-e)/2,a=Math.min(o,r*e/2),s=function(t){var e=(n-Math.min(o,t))*r/2;return ht(t,0,Math.min(o,e))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:ht(i.innerStart,0,a),innerEnd:ht(i.innerEnd,0,a)}}function Si(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ii(t,e){var n=e.x,r=e.y,i=e.startAngle,o=e.endAngle,a=e.pixelMargin,s=Math.max(e.outerRadius-a,0),u=e.innerRadius+a,c=Ei(e,u,s,o-i),l=c.outerStart,f=c.outerEnd,h=c.innerStart,d=c.innerEnd,p=s-l,v=s-f,g=i+l/p,m=o-f/v,y=u+h,b=u+d,_=i+h/y,w=o-d/b;if(t.beginPath(),t.arc(n,r,s,g,m),f>0){var x=Si(v,m,n,r);t.arc(x.x,x.y,f,m,o+X)}var k=Si(b,o,n,r);if(t.lineTo(k.x,k.y),d>0){var O=Si(b,w,n,r);t.arc(O.x,O.y,d,o+X,w+Math.PI)}if(t.arc(n,r,u,o-d/u,i+h/u,!0),h>0){var T=Si(y,_,n,r);t.arc(T.x,T.y,h,_+Math.PI,i-X)}var E=Si(p,i,n,r);if(t.lineTo(E.x,E.y),l>0){var S=Si(p,g,n,r);t.arc(S.x,S.y,l,i-X,g)}t.closePath()}function Ci(t,e){var n=e.options,r="inner"===n.borderAlign;n.borderWidth&&(r?(t.lineWidth=2*n.borderWidth,t.lineJoin="round"):(t.lineWidth=n.borderWidth,t.lineJoin="bevel"),e.fullCircles&&function(t,e,n){var r,i=e.x,o=e.y,a=e.startAngle,s=e.endAngle,u=e.pixelMargin,c=Math.max(e.outerRadius-u,0),l=e.innerRadius+u;for(n&&(e.endAngle=e.startAngle+G,Ti(t,e),e.endAngle=s,e.endAngle===e.startAngle&&(e.endAngle+=G,e.fullCircles--)),t.beginPath(),t.arc(i,o,l,a+G,a,!0),r=0;r<e.fullCircles;++r)t.stroke();for(t.beginPath(),t.arc(i,o,c,a,a+G),r=0;r<e.fullCircles;++r)t.stroke()}(t,e,r),r&&Ti(t,e),Ii(t,e),t.stroke())}Object.defineProperties(ki,{defaults:{enumerable:!0,value:ne},instances:{enumerable:!0,value:wi},overrides:{enumerable:!0,value:Jt},registry:{enumerable:!0,value:ti},version:{enumerable:!0,value:"3.2.1"},getChart:{enumerable:!0,value:xi},register:{enumerable:!0,value:function(){ti.add.apply(ti,arguments),Oi()}},unregister:{enumerable:!0,value:function(){ti.remove.apply(ti,arguments),Oi()}}});var Ai=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).options=void 0,n.circumference=void 0,n.startAngle=void 0,n.endAngle=void 0,n.innerRadius=void 0,n.outerRadius=void 0,n.pixelMargin=0,n.fullCircles=0,t&&Object.assign(Object(s.a)(Object(s.a)(n)),t),n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"inRange",value:function(t,e,n){var r=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*K&&(o+=G),{angle:o,distance:i}}(this.getProps(["x","y"],n),{x:t,y:e}),i=r.angle,o=r.distance,a=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=a.startAngle,u=a.endAngle,c=a.innerRadius,l=a.outerRadius;return(a.circumference>=G||ft(i,s,u))&&(o>=c&&o<=l)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),n=e.x,r=e.y,i=(e.startAngle+e.endAngle)/2,o=(e.innerRadius+e.outerRadius)/2;return{x:n+Math.cos(i)*o,y:r+Math.sin(i)*o}}},{key:"tooltipPosition",value:function(t){return this.getCenterPoint(t)}},{key:"draw",value:function(t){var e=this,n=e.options,r=n.offset||0;if(e.pixelMargin="inner"===n.borderAlign?.33:0,e.fullCircles=Math.floor(e.circumference/G),!(0===e.circumference||e.innerRadius<0||e.outerRadius<0)){if(t.save(),r&&e.circumference<G){var i=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(i)*r,Math.sin(i)*r)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,function(t,e){if(e.fullCircles){e.endAngle=e.startAngle+G,Ii(t,e);for(var n=0;n<e.fullCircles;++n)t.fill()}isNaN(e.circumference)||(e.endAngle=e.startAngle+e.circumference%G),Ii(t,e),t.fill()}(t,e),Ci(t,e),t.restore()}}}]),e}(Vr);function Pi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=I(n.borderCapStyle,e.borderCapStyle),t.setLineDash(I(n.borderDash,e.borderDash)),t.lineDashOffset=I(n.borderDashOffset,e.borderDashOffset),t.lineJoin=I(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=I(n.borderWidth,e.borderWidth),t.strokeStyle=I(n.borderColor,e.borderColor)}function ji(t,e,n){t.lineTo(n.x,n.y)}function Ni(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.length,i=n.start,o=void 0===i?0:i,a=n.end,s=void 0===a?r-1:a,u=e.start,c=e.end,l=Math.max(o,u),f=Math.min(s,c),h=o<u&&s<u||o>c&&s>c;return{count:r,start:l,loop:e.loop,ilen:f<l&&!h?r+f-l:f-l}}function Ri(t,e,n,r){var i,o,a,s=e.points,u=e.options,c=Ni(s,n,r),l=c.count,f=c.start,h=c.loop,d=c.ilen,p=function(t){return t.stepped?fe:t.tension||"monotone"===t.cubicInterpolationMode?he:ji}(u),v=r||{},g=v.move,m=void 0===g||g,y=v.reverse;for(i=0;i<=d;++i)(o=s[(f+(y?d-i:i))%l]).skip||(m?(t.moveTo(o.x,o.y),m=!1):p(t,a,o,y,u.stepped),a=o);return h&&p(t,a,o=s[(f+(y?d:0))%l],y,u.stepped),!!h}function Di(t,e,n,r){var i,o,a,s,u,c,l=e.points,f=Ni(l,n,r),h=f.count,d=f.start,p=f.ilen,v=r||{},g=v.move,m=void 0===g||g,y=v.reverse,b=0,_=0,w=function(t){return(d+(y?p-t:t))%h},x=function(){s!==u&&(t.lineTo(b,u),t.lineTo(b,s),t.lineTo(b,c))};for(m&&(o=l[w(0)],t.moveTo(o.x,o.y)),i=0;i<=p;++i)if(!(o=l[w(i)]).skip){var k=o.x,O=o.y,T=0|k;T===a?(O<s?s=O:O>u&&(u=O),b=(_*b+k)/++_):(x(),t.lineTo(k,O),a=T,_=0,s=u=O),c=O}x()}function Mi(t){var e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Di:Ri}Ai.id="arc",Ai.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,angle:void 0},Ai.defaultRoutes={backgroundColor:"backgroundColor"};var Li="function"===typeof Path2D;function Fi(t,e,n,r){Li&&1===e.segments.length?function(t,e,n,r){var i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Pi(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){var i,o=e.segments,a=e.options,s=Mi(e),u=Tn(o);try{for(u.s();!(i=u.n()).done;){var c=i.value;Pi(t,a,c.style),t.beginPath(),s(t,e,c,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}}catch(l){u.e(l)}finally{u.f()}}(t,e,n,r)}var Ui=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).animated=!0,n.options=void 0,n._loop=void 0,n._fullLoop=void 0,n._path=void 0,n._points=void 0,n._segments=void 0,n._decimated=!1,n._pointsUpdated=!1,t&&Object.assign(Object(s.a)(Object(s.a)(n)),t),n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"updateControlPoints",value:function(t){var e=this,n=e.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!e._pointsUpdated){var r=n.spanGaps?e._loop:e._fullLoop;$e(e._points,n,t,r),e._pointsUpdated=!0}}},{key:"first",value:function(){var t=this.segments,e=this.points;return t.length&&e[t[0].start]}},{key:"last",value:function(){var t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}},{key:"interpolate",value:function(t,e){var n=this.options,r=t[e],i=this.points,o=xn(this,{property:e,start:r,end:r});if(o.length){var a,s,u=[],c=function(t){return t.stepped?ln:t.tension||"monotone"===t.cubicInterpolationMode?fn:cn}(n);for(a=0,s=o.length;a<s;++a){var l=o[a],f=l.start,h=l.end,d=i[f],p=i[h];if(d!==p){var v=c(d,p,Math.abs((r-d[e])/(p[e]-d[e])),n.stepped);v[e]=t[e],u.push(v)}else u.push(d)}return 1===u.length?u[0]:u}}},{key:"pathSegment",value:function(t,e,n){return Mi(this)(t,this,e,n)}},{key:"path",value:function(t,e,n){var r=this,i=r.segments,o=Mi(r),a=r._loop;e=e||0,n=n||r.points.length-e;var s,u=Tn(i);try{for(u.s();!(s=u.n()).done;){a&=o(t,r,s.value,{start:e,end:e+n-1})}}catch(c){u.e(c)}finally{u.f()}return!!a}},{key:"draw",value:function(t,e,n,r){var i=this,o=i.options||{};(i.points||[]).length&&o.borderWidth&&(t.save(),Fi(t,i,n,r),t.restore(),i.animated&&(i._pointsUpdated=!1,i._path=void 0))}},{key:"points",set:function(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1},get:function(){return this._points}},{key:"segments",get:function(){return this._segments||(this._segments=function(t,e){var n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];var o=!!t._loop,a=function(t,e,n,r){var i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return{start:i,end:o%=e}}(n,i,o,r),s=a.start,u=a.end;return kn(!0===r?[{start:s,end:u,loop:o}]:function(t,e,n,r){var i,o=t.length,a=[],s=e,u=t[e];for(i=e+1;i<=n;++i){var c=t[i%o];c.skip||c.stop?u.skip||(r=!1,a.push({start:e%o,end:(i-1)%o,loop:r}),e=s=c.stop?i:null):(s=i,u.skip&&(e=i)),u=c}return null!==s&&a.push({start:e%o,end:s%o,loop:r}),a}(n,s,u<s?u+i:u,!!t._fullLoop&&0===s&&u===i-1),n,e)}(this,this.options.segment))}}]),e}(Vr);function Vi(t,e,n,r){var i=t.options,o=t.getProps([n],r)[n];return Math.abs(e-o)<i.radius+i.hitRadius}Ui.id="line",Ui.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Ui.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Ui.descriptors={_scriptable:!0,_indexable:function(t){return"borderDash"!==t&&"fill"!==t}};var Bi=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).options=void 0,n.parsed=void 0,n.skip=void 0,n.stop=void 0,t&&Object.assign(Object(s.a)(Object(s.a)(n)),t),n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"inRange",value:function(t,e,n){var r=this.options,i=this.getProps(["x","y"],n),o=i.x,a=i.y;return Math.pow(t-o,2)+Math.pow(e-a,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(t,e){return Vi(this,t,"x",e)}},{key:"inYRange",value:function(t,e){return Vi(this,t,"y",e)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}},{key:"size",value:function(t){var e=(t=t||this.options||{}).radius||0;return 2*((e=Math.max(e,e&&t.hoverRadius||0))+(e&&t.borderWidth||0))}},{key:"draw",value:function(t){var e=this.options;this.skip||e.radius<.1||(t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,se(t,e,this.x,this.y))}},{key:"getRange",value:function(){var t=this.options||{};return t.radius+t.hitRadius}}]),e}(Vr);function zi(t,e){var n,r,i,o,a,s=t.getProps(["x","y","base","width","height"],e),u=s.x,c=s.y,l=s.base,f=s.width,h=s.height;return t.horizontal?(a=h/2,n=Math.min(u,l),r=Math.max(u,l),i=c-a,o=c+a):(n=u-(a=f/2),r=u+a,i=Math.min(c,l),o=Math.max(c,l)),{left:n,top:i,right:r,bottom:o}}function qi(t){var e=t.options.borderSkipped,n={};return e?(n[e=t.horizontal?Wi(e,"left","right",t.base>t.x):Wi(e,"bottom","top",t.base<t.y)]=!0,n):n}function Wi(t,e,n,r){var i,o,a;return r?(a=n,t=Hi(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=Hi(t,e,n),t}function Hi(t,e,n){return"start"===t?e:"end"===t?n:t}function Ki(t,e,n,r){return t?0:Math.max(Math.min(e,r),n)}function Gi(t){var e=zi(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){var r=t.options.borderWidth,i=qi(t),o=_e(r);return{t:Ki(i.top,o.top,0,n),r:Ki(i.right,o.right,0,e),b:Ki(i.bottom,o.bottom,0,n),l:Ki(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){var r=t.getProps(["enableBorderRadius"]).enableBorderRadius,i=t.options.borderRadius,o=we(i),a=Math.min(e,n),s=qi(t),u=r||T(i);return{topLeft:Ki(!u||s.top||s.left,o.topLeft,0,a),topRight:Ki(!u||s.top||s.right,o.topRight,0,a),bottomLeft:Ki(!u||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:Ki(!u||s.bottom||s.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Yi(t,e,n,r){var i=null===e,o=null===n,a=t&&!(i&&o)&&zi(t,r);return a&&(i||e>=a.left&&e<=a.right)&&(o||n>=a.top&&n<=a.bottom)}function $i(t,e){t.rect(e.x,e.y,e.w,e.h)}Bi.id="point",Bi.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Bi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Qi=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).options=void 0,n.horizontal=void 0,n.base=void 0,n.width=void 0,n.height=void 0,t&&Object.assign(Object(s.a)(Object(s.a)(n)),t),n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"draw",value:function(t){var e,n=this.options,r=Gi(this),i=r.inner,o=r.outer,a=(e=o.radius).topLeft||e.topRight||e.bottomLeft||e.bottomRight?pe:$i;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,o),t.clip(),a(t,i),t.fillStyle=n.borderColor,t.fill("evenodd")),t.beginPath(),a(t,i),t.fillStyle=n.backgroundColor,t.fill(),t.restore()}},{key:"inRange",value:function(t,e,n){return Yi(this,t,e,n)}},{key:"inXRange",value:function(t,e){return Yi(this,t,null,e)}},{key:"inYRange",value:function(t,e){return Yi(this,null,t,e)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y","base","horizontal"],t),n=e.x,r=e.y,i=e.base,o=e.horizontal;return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}},{key:"getRange",value:function(t){return"x"===t?this.width/2:this.height/2}}]),e}(Vr);Qi.id="bar",Qi.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},Qi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Xi=Object.freeze({__proto__:null,ArcElement:Ai,LineElement:Ui,PointElement:Bi,BarElement:Qi});function Ji(t){if(t._decimated){var e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function Zi(t){t.data.datasets.forEach(function(t){Ji(t)})}var to={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(t,e,n){if(n.enabled){var r=t.width;t.data.datasets.forEach(function(e,i){var o=e._data,s=e.indexAxis,u=t.getDatasetMeta(i),c=o||e.data;if("y"!==Oe([s,t.options.indexAxis])&&"line"===u.type){var l=t.scales[u.xAxisID];if(("linear"===l.type||"time"===l.type)&&!t.options.parsing){var f=function(t,e){var n=e.length,r=0,i=t.iScale,o=i.getUserBounds(),a=o.min,s=o.max,u=o.minDefined,c=o.maxDefined;return u&&(r=ht(Ee(e,i.axis,a).lo,0,n-1)),{start:r,count:c?ht(Ee(e,i.axis,s).hi+1,r,n)-r:n-r}}(u,c),h=f.start,d=f.count;if(d<=4*r)Ji(e);else{var p;switch(k(o)&&(e._data=c,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":p=function(t,e,n,r,i){var o=i.samples||r;if(o>=n)return t.slice(e,e+n);var a,s,u,c,l,f=[],h=(n-2)/(o-2),d=0,p=e+n-1,v=e;for(f[d++]=t[v],a=0;a<o-2;a++){var g=0,m=0,y=void 0,b=Math.floor((a+1)*h)+1+e,_=Math.min(Math.floor((a+2)*h)+1,n)+e,w=_-b;for(y=b;y<_;y++)g+=t[y].x,m+=t[y].y;g/=w,m/=w;var x=Math.floor(a*h)+1+e,k=Math.floor((a+1)*h)+1+e,O=t[v],T=O.x,E=O.y;for(u=c=-1,y=x;y<k;y++)(c=.5*Math.abs((T-g)*(t[y].y-E)-(T-t[y].x)*(m-E)))>u&&(u=c,s=t[y],l=y);f[d++]=s,v=l}return f[d++]=t[p],f}(c,h,d,r,n);break;case"min-max":p=function(t,e,n,r){var i,o,s,u,c,l,f,h,d,p,v=0,g=0,m=[],y=e+n-1,b=t[e].x,_=t[y].x-b;for(i=e;i<e+n;++i){s=((o=t[i]).x-b)/_*r,u=o.y;var w=0|s;if(w===c)u<d?(d=u,l=i):u>p&&(p=u,f=i),v=(g*v+o.x)/++g;else{var x=i-1;if(!k(l)&&!k(f)){var O=Math.min(l,f),T=Math.max(l,f);O!==h&&O!==x&&m.push(Object(a.a)({},t[O],{x:v})),T!==h&&T!==x&&m.push(Object(a.a)({},t[T],{x:v}))}i>0&&x!==h&&m.push(t[x]),m.push(o),c=w,g=0,d=p=u,l=f=h=i}}return m}(c,h,d,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=p}}}})}else Zi(t)},destroy:function(t){Zi(t)}};function eo(t,e,n){var r=function(t){var e=t.options,n=e.fill,r=I(n&&n.target,n);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(t);if(T(r))return!isNaN(r.value)&&r;var i=parseFloat(r);return E(i)&&Math.floor(i)===i?("-"!==r[0]&&"+"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i):["origin","start","end","stack"].indexOf(r)>=0&&r}var no=function(){function t(e){Object(d.a)(this,t),this.x=e.x,this.y=e.y,this.radius=e.radius}return Object(p.a)(t,[{key:"pathSegment",value:function(t,e,n){var r=this.x,i=this.y,o=this.radius;return e=e||{start:0,end:G},t.arc(r,i,o,e.end,e.start,!0),!n.bounds}},{key:"interpolate",value:function(t){var e=this.x,n=this.y,r=this.radius,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}]),t}();function ro(t){return(t.scale||{}).getPointPositionForValue?function(t){var e,n,r,i=t.scale,o=t.fill,a=i.options,s=i.getLabels().length,u=[],c=a.reverse?i.max:i.min,l=a.reverse?i.min:i.max;if(r="start"===o?c:"end"===o?l:T(o)?o.value:i.getBaseValue(),a.grid.circular)return n=i.getPointPositionForValue(0,c),new no({x:n.x,y:n.y,radius:i.getDistanceFromCenterForValue(r)});for(e=0;e<s;++e)u.push(i.getPointPositionForValue(e,r));return u}(t):function(t){var e,n=t.scale,r=void 0===n?{}:n,i=t.fill,o=null;return"start"===i?o=r.bottom:"end"===i?o=r.top:T(i)?o=r.getPixelForValue(i.value):r.getBasePixel&&(o=r.getBasePixel()),E(o)?{x:(e=r.isHorizontal())?o:null,y:e?null:o}:null}(t)}function io(t){var e=t.chart,n=t.scale,r=t.index,i=t.line,o=[],a=i.segments,s=i.points,u=function(t,e){for(var n=[],r=t.getSortedVisibleDatasetMetas(),i=0;i<r.length;i++){var o=r[i];if(o.index===e)break;oo(o)&&n.unshift(o.dataset)}return n}(e,r);u.push(uo({x:null,y:n.bottom},i));for(var c=0;c<a.length;c++)for(var l=a[c],f=l.start;f<=l.end;f++)ao(o,s[f],u);return new Ui({points:o,options:{}})}var oo=function(t){return"line"===t.type&&!t.hidden};function ao(t,e,n){for(var r=[],i=0;i<n.length;i++){var o=so(n[i],e,"x"),a=o.first,s=o.last,u=o.point;if(!(!u||a&&s))if(a)r.unshift(u);else if(t.push(u),!s)break}t.push.apply(t,r)}function so(t,e,n){var r=t.interpolate(e,n);if(!r)return{};for(var i=r[n],o=t.segments,a=t.points,s=!1,u=!1,c=0;c<o.length;c++){var l=o[c],f=a[l.start][n],h=a[l.end][n];if(i>=f&&i<=h){s=i===f,u=i===h;break}}return{first:s,last:u,point:r}}function uo(t,e){var n=[],r=!1;return O(t)?(r=!0,n=t):n=function(t,e){var n=t||{},r=n.x,i=void 0===r?null:r,o=n.y,a=void 0===o?null:o,s=e.points,u=[];return e.segments.forEach(function(t){var e=s[t.start],n=s[t.end];null!==a?(u.push({x:e.x,y:a}),u.push({x:n.x,y:a})):null!==i&&(u.push({x:i,y:e.y}),u.push({x:i,y:n.y}))}),u}(t,e),n.length?new Ui({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function co(t,e,n){var r,i=t[e].fill,o=[e];if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!E(i))return i;if(!(r=t[i]))return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function lo(t,e,n){t.beginPath(),e.path(t),t.lineTo(e.last().x,n),t.lineTo(e.first().x,n),t.closePath(),t.clip()}function fo(t,e,n,r){if(!r){var i=e[t],o=n[t];return"angle"===t&&(i=lt(i),o=lt(o)),{property:t,start:i,end:o}}}function ho(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function po(t,e,n){var r=e.chart.chartArea,i=r.top,o=r.bottom,a=n||{},s=a.property,u=a.start,c=a.end;"x"===s&&(t.beginPath(),t.rect(u,i,c-u,o-i),t.clip())}function vo(t,e,n,r){var i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}function go(t,e){var n,r=e.line,i=e.target,o=e.property,a=e.color,s=e.scale,u=function(t,e,n){var r,i=t.segments,o=t.points,a=e.points,s=[],u=Tn(i);try{for(u.s();!(r=u.n()).done;){var c=r.value,l=fo(n,o[c.start],o[c.end],c.loop);if(e.segments){var f,d=Tn(xn(e,l));try{for(d.s();!(f=d.n()).done;){var p,v=f.value,g=fo(n,a[v.start],a[v.end],v.loop),m=Tn(wn(c,o,g));try{for(m.s();!(p=m.n()).done;){var y=p.value;s.push({source:y,target:v,start:Object(h.a)({},n,ho(l,g,"start",Math.max)),end:Object(h.a)({},n,ho(l,g,"end",Math.min))})}}catch(b){m.e(b)}finally{m.f()}}}catch(b){d.e(b)}finally{d.f()}}else s.push({source:c,target:l,start:o[c.start],end:o[c.end]})}}catch(b){u.e(b)}finally{u.f()}return s}(r,i,o),c=Tn(u);try{for(c.s();!(n=c.n()).done;){var l=n.value,f=l.source,d=l.target,p=l.start,v=l.end,g=f.style,m=(g=void 0===g?{}:g).backgroundColor,y=void 0===m?a:m;t.save(),t.fillStyle=y,po(t,s,fo(o,p,v)),t.beginPath();var b=!!r.pathSegment(t,f);b?t.closePath():vo(t,i,v,o);var _=!!i.pathSegment(t,d,{move:b,reverse:!0}),w=b&&_;w||vo(t,i,p,o),t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}catch(x){c.e(x)}finally{c.f()}}function mo(t,e,n){var r=function(t){var e=t.chart,n=t.fill,r=t.line;if(E(n))return function(t,e){var n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}(e,n);if("stack"===n)return io(t);var i=ro(t);return i instanceof no?i:uo(i,r)}(e),i=e.line,o=e.scale,a=e.axis,s=i.options,u=s.fill,c=s.backgroundColor,l=u||{},f=l.above,h=void 0===f?c:f,d=l.below,p=void 0===d?c:d;r&&i.points.length&&(ce(t,n),function(t,e){var n=e.line,r=e.target,i=e.above,o=e.below,a=e.area,s=e.scale,u=n._loop?"angle":e.axis;t.save(),"x"===u&&o!==i&&(lo(t,r,a.top),go(t,{line:n,target:r,color:i,scale:s,property:u}),t.restore(),t.save(),lo(t,r,a.bottom)),go(t,{line:n,target:r,color:o,scale:s,property:u}),t.restore()}(t,{line:i,target:r,above:h,below:p,area:n,scale:o,axis:a}),le(t))}var yo={id:"filler",afterDatasetsUpdate:function(t,e,n){var r,i,o,a,s=(t.data.datasets||[]).length,u=[];for(i=0;i<s;++i)a=null,(o=(r=t.getDatasetMeta(i)).dataset)&&o.options&&o instanceof Ui&&(a={visible:t.isDatasetVisible(i),index:i,fill:eo(o,i,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=a,u.push(a);for(i=0;i<s;++i)(a=u[i])&&!1!==a.fill&&(a.fill=co(u,i,n.propagate))},beforeDraw:function(t,e,n){for(var r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),o=t.chartArea,a=i.length-1;a>=0;--a){var s=i[a].$filler;s&&(s.line.updateControlPoints(o),r&&mo(t.ctx,s,o))}},beforeDatasetsDraw:function(t,e,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=t.getSortedVisibleDatasetMetas(),i=r.length-1;i>=0;--i){var o=r[i].$filler;o&&mo(t.ctx,o,t.chartArea)}},beforeDatasetDraw:function(t,e,n){var r=e.meta.$filler;r&&!1!==r.fill&&"beforeDatasetDraw"===n.drawTime&&mo(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},bo=function(t,e){var n=t.boxHeight,r=void 0===n?e:n,i=t.boxWidth,o=void 0===i?e:i;return t.usePointStyle&&(r=Math.min(r,e),o=Math.min(o,e)),{boxWidth:o,boxHeight:r,itemHeight:Math.max(e,r)}},_o=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this)))._added=!1,n.legendHitBoxes=[],n._hoveredItem=null,n.doughnutMode=!1,n.chart=t.chart,n.options=t.options,n.ctx=t.ctx,n.legendItems=void 0,n.columnSizes=void 0,n.lineWidths=void 0,n.maxHeight=void 0,n.maxWidth=void 0,n.top=void 0,n.bottom=void 0,n.left=void 0,n.right=void 0,n.height=void 0,n.width=void 0,n._margins=void 0,n.position=void 0,n.weight=void 0,n.fullSize=void 0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"update",value:function(t,e,n){var r=this;r.maxWidth=t,r.maxHeight=e,r._margins=n,r.setDimensions(),r.buildLabels(),r.fit()}},{key:"setDimensions",value:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height)}},{key:"buildLabels",value:function(){var t=this,e=t.options.labels||{},n=A(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),e.sort&&(n=n.sort(function(n,r){return e.sort(n,r,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n}},{key:"fit",value:function(){var t=this,e=t.options,n=t.ctx;if(e.display){var r,i,o=e.labels,a=ke(o.font),s=a.size,u=t._computeTitleHeight(),c=bo(o,s),l=c.boxWidth,f=c.itemHeight;n.font=a.string,t.isHorizontal()?(r=t.maxWidth,i=t._fitRows(u,s,l,f)+10):(i=t.maxHeight,r=t._fitCols(u,s,l,f)+10),t.width=Math.min(r,e.maxWidth||t.maxWidth),t.height=Math.min(i,e.maxHeight||t.maxHeight)}else t.width=t.height=0}},{key:"_fitRows",value:function(t,e,n,r){var i=this,o=i.ctx,a=i.maxWidth,s=i.options.labels.padding,u=i.legendHitBoxes=[],c=i.lineWidths=[0],l=r+s,f=t;o.textAlign="left",o.textBaseline="middle";var h=-1,d=-l;return i.legendItems.forEach(function(t,i){var p=n+e/2+o.measureText(t.text).width;(0===i||c[c.length-1]+p+2*s>a)&&(f+=l,c[c.length-(i>0?0:1)]=0,d+=l,h++),u[i]={left:0,top:d,row:h,width:p,height:r},c[c.length-1]+=p+s}),f}},{key:"_fitCols",value:function(t,e,n,r){var i=this,o=i.ctx,a=i.maxHeight,s=i.options.labels.padding,u=i.legendHitBoxes=[],c=i.columnSizes=[],l=a-t,f=s,h=0,d=0,p=0,v=0,g=0;return i.legendItems.forEach(function(t,i){var a=n+e/2+o.measureText(t.text).width;i>0&&d+e+2*s>l&&(f+=h+s,c.push({width:h,height:d}),p+=h+s,g++,v=0,h=d=0),h=Math.max(h,a),d+=e+s,u[i]={left:p,top:v,col:g,width:a,height:r},v+=r+s}),f+=h,c.push({width:h,height:d}),f}},{key:"adjustHitBoxes",value:function(){var t=this;if(t.options.display){var e=t._computeTitleHeight(),n=t.legendHitBoxes,r=t.options,i=r.align,o=r.labels.padding;if(this.isHorizontal()){var a,s=0,u=_(i,t.left+o,t.right-t.lineWidths[s]),c=Tn(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;s!==l.row&&(s=l.row,u=_(i,t.left+o,t.right-t.lineWidths[s])),l.top+=t.top+e+o,l.left=u,u+=l.width+o}}catch(g){c.e(g)}finally{c.f()}}else{var f,h=0,d=_(i,t.top+e+o,t.bottom-t.columnSizes[h].height),p=Tn(n);try{for(p.s();!(f=p.n()).done;){var v=f.value;v.col!==h&&(h=v.col,d=_(i,t.top+e+o,t.bottom-t.columnSizes[h].height)),v.top=d,v.left+=t.left+o,d+=v.height+o}}catch(g){p.e(g)}finally{p.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var t=this.ctx;ce(t,this),this._draw(),le(t)}}},{key:"_draw",value:function(){var t,e=this,n=e.options,r=e.columnSizes,i=e.lineWidths,o=e.ctx,a=n.align,s=n.labels,u=ne.color,c=gn(n.rtl,e.left,e.width),l=ke(s.font),f=s.color,h=s.padding,d=l.size,p=d/2;e.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=l.string;var v=bo(s,d),g=v.boxWidth,m=v.boxHeight,y=v.itemHeight,b=e.isHorizontal(),w=this._computeTitleHeight();t=b?{x:_(a,e.left+h,e.right-i[0]),y:e.top+h+w,line:0}:{x:e.left+h,y:_(a,e.top+w+h,e.bottom-r[0].height),line:0},mn(e.ctx,n.textDirection);var x=y+h;e.legendItems.forEach(function(n,v){o.strokeStyle=n.fontColor||f,o.fillStyle=n.fontColor||f;var k=o.measureText(n.text).width,O=c.textAlign(n.textAlign||(n.textAlign=s.textAlign)),T=g+d/2+k,E=t.x,S=t.y;c.setWidth(e.width),b?v>0&&E+T+h>e.right&&(S=t.y+=x,t.line++,E=t.x=_(a,e.left+h,e.right-i[t.line])):v>0&&S+x>e.bottom&&(E=t.x=E+r[t.line].width+h,t.line++,S=t.y=_(a,e.top+w+h,e.bottom-r[t.line].height)),function(t,e,n){if(!(isNaN(g)||g<=0||isNaN(m)||m<0)){o.save();var r=I(n.lineWidth,1);if(o.fillStyle=I(n.fillStyle,u),o.lineCap=I(n.lineCap,"butt"),o.lineDashOffset=I(n.lineDashOffset,0),o.lineJoin=I(n.lineJoin,"miter"),o.lineWidth=r,o.strokeStyle=I(n.strokeStyle,u),o.setLineDash(I(n.lineDash,[])),s.usePointStyle){var i={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},a=c.xPlus(t,g/2);se(o,i,a,e+p)}else{var l=e+Math.max((d-m)/2,0),f=c.leftForLtr(t,g),h=we(n.borderRadius);o.beginPath(),Object.values(h).some(function(t){return 0!==t})?pe(o,{x:f,y:l,w:g,h:m,radius:h}):o.rect(f,l,g,m),o.fill(),0!==r&&o.stroke()}o.restore()}}(c.x(E),S,n),E=function(t,e,n){return"right"===t?n:"center"===t?(e+n)/2:e}(O,E+g+p,e.right),function(t,e,n){de(o,n.text,t,e+y/2,l,{strikethrough:n.hidden,textAlign:n.textAlign})}(c.x(E),S,n),b?t.x+=T+h:t.y+=x}),yn(e.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var t=this,e=t.options,n=e.title,r=ke(n.font),i=xe(n.padding);if(n.display){var a,s=gn(e.rtl,t.left,t.width),u=t.ctx,c=n.position,l=r.size/2,f=i.top+l,h=t.left,d=t.width;if(this.isHorizontal())d=Math.max.apply(Math,o(t.lineWidths)),a=t.top+f,h=_(e.align,h,t.right-d);else{var p=t.columnSizes.reduce(function(t,e){return Math.max(t,e.height)},0);a=f+_(e.align,t.top,t.bottom-p-e.labels.padding-t._computeTitleHeight())}var v=_(c,h,h+d);u.textAlign=s.textAlign(b(c)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=r.string,de(u,n.text,v,a,r)}}},{key:"_computeTitleHeight",value:function(){var t=this.options.title,e=ke(t.font),n=xe(t.padding);return t.display?e.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(t,e){var n,r,i,o=this;if(t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom)for(i=o.legendHitBoxes,n=0;n<i.length;++n)if(t>=(r=i[n]).left&&t<=r.left+r.width&&e>=r.top&&e<=r.top+r.height)return o.legendItems[n];return null}},{key:"handleEvent",value:function(t){var e=this,n=e.options;if(function(t,e){if("mousemove"===t&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,n)){var r,i,o=e._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){var a=e._hoveredItem,s=(i=o,null!==(r=a)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);a&&!s&&A(n.onLeave,[t,a,e],e),e._hoveredItem=o,o&&!s&&A(n.onHover,[t,o,e],e)}else o&&A(n.onClick,[t,o,e],e)}}}]),e}(Vr);var wo={id:"legend",_element:_o,start:function(t,e,n){var r=t.legend=new _o({ctx:t.ctx,options:n,chart:t});kr.configure(t,r,n),kr.addBox(t,r)},stop:function(t){kr.removeBox(t,t.legend),delete t.legend},beforeUpdate:function(t,e,n){var r=t.legend;kr.configure(t,r,n),r.options=n},afterUpdate:function(t){var e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent:function(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(t,e,n){var r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(t){return t.chart.options.color},boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,n=t.legend.options.labels,r=n.usePointStyle,i=n.pointStyle,o=n.textAlign,a=n.color;return t._getSortedDatasetMetas().map(function(t){var n=t.controller.getStyle(r?0:void 0),s=xe(n.borderWidth);return{text:e[t.index].label,fillStyle:n.backgroundColor,fontColor:a,hidden:!t.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:n.borderColor,pointStyle:i||n.pointStyle,rotation:n.rotation,textAlign:o||n.textAlign,borderRadius:0,datasetIndex:t.index}},this)}},title:{color:function(t){return t.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(t){return!t.startsWith("on")},labels:{_scriptable:function(t){return!["generateLabels","filter","sort"].includes(t)}}}},xo=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).chart=t.chart,n.options=t.options,n.ctx=t.ctx,n._padding=void 0,n.top=void 0,n.bottom=void 0,n.left=void 0,n.right=void 0,n.width=void 0,n.height=void 0,n.position=void 0,n.weight=void 0,n.fullSize=void 0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"update",value:function(t,e){var n=this,r=n.options;if(n.left=0,n.top=0,r.display){n.width=n.right=t,n.height=n.bottom=e;var i=O(r.text)?r.text.length:1;n._padding=xe(r.padding);var o=i*ke(r.font).lineHeight+n._padding.height;n.isHorizontal()?n.height=o:n.width=o}else n.width=n.height=n.right=n.bottom=0}},{key:"isHorizontal",value:function(){var t=this.options.position;return"top"===t||"bottom"===t}},{key:"_drawArgs",value:function(t){var e,n,r,i=this.top,o=this.left,a=this.bottom,s=this.right,u=this.options,c=u.align,l=0;return this.isHorizontal()?(n=_(c,o,s),r=i+t,e=s-o):("left"===u.position?(n=o+t,r=_(c,a,i),l=-.5*K):(n=s-t,r=_(c,i,a),l=.5*K),e=a-i),{titleX:n,titleY:r,maxWidth:e,rotation:l}}},{key:"draw",value:function(){var t=this.ctx,e=this.options;if(e.display){var n=ke(e.font),r=n.lineHeight/2+this._padding.top,i=this._drawArgs(r),o=i.titleX,a=i.titleY,s=i.maxWidth,u=i.rotation;de(t,e.text,0,0,n,{color:e.color,maxWidth:s,rotation:u,textAlign:b(e.align),textBaseline:"middle",translation:[o,a]})}}}]),e}(Vr);var ko={id:"title",_element:xo,start:function(t,e,n){!function(t,e){var n=new xo({ctx:t.ctx,options:e,chart:t});kr.configure(t,n,e),kr.addBox(t,n),t.titleBlock=n}(t,n)},stop:function(t){var e=t.titleBlock;kr.removeBox(t,e),delete t.titleBlock},beforeUpdate:function(t,e,n){var r=t.titleBlock;kr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Oo={average:function(t){if(!t.length)return!1;var e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){var a=t[e].element;if(a&&a.hasValue()){var s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:r/o,y:i/o}},nearest:function(t,e){if(!t.length)return!1;var n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){var u=t[n].element;if(u&&u.hasValue()){var c=ut(e,u.getCenterPoint());c<s&&(s=c,i=u)}}if(i){var l=i.tooltipPosition();o=l.x,a=l.y}return{x:o,y:a}}};function To(t,e){return e&&(O(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Eo(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function So(t,e){var n=e.element,r=e.datasetIndex,i=e.index,o=t.getDatasetMeta(r).controller,a=o.getLabelAndValue(i),s=a.label,u=a.value;return{chart:t,label:s,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Io(t,e){var n=t._chart.ctx,r=t.body,i=t.footer,o=t.title,a=e.boxWidth,s=e.boxHeight,u=ke(e.bodyFont),c=ke(e.titleFont),l=ke(e.footerFont),f=o.length,h=i.length,d=r.length,p=xe(e.padding),v=p.height,g=0,m=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);(m+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),m)&&(v+=d*(e.displayColors?Math.max(s,u.lineHeight):u.lineHeight)+(m-d)*u.lineHeight+(m-1)*e.bodySpacing);h&&(v+=e.footerMarginTop+h*l.lineHeight+(h-1)*e.footerSpacing);var y=0,b=function(t){g=Math.max(g,n.measureText(t).width+y)};return n.save(),n.font=c.string,P(t.title,b),n.font=u.string,P(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?a+2:0,P(r,function(t){P(t.before,b),P(t.lines,b),P(t.after,b)}),y=0,n.font=l.string,P(t.footer,b),n.restore(),{width:g+=p.width,height:v}}function Co(t,e,n,r){var i=n.x,o=n.width,a=t.width,s=t.chartArea,u=s.left,c=s.right,l="center";return"center"===r?l=i<=(u+c)/2?"left":"right":i<=o/2?l="left":i>=a-o/2&&(l="right"),function(t,e,n,r){var i=r.x,o=r.width,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(l,t,e,n)&&(l="center"),l}function Ao(t,e,n){var r=e.yAlign||function(t,e){var n=e.y,r=e.height;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:e.xAlign||Co(t,e,n,r),yAlign:r}}function Po(t,e,n,r){var i=t.caretSize,o=t.caretPadding,a=t.cornerRadius,s=n.xAlign,u=n.yAlign,c=i+o,l=a+o,f=function(t,e){var n=t.x,r=t.width;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s),h=function(t,e,n){var r=t.y,i=t.height;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,u,c);return"center"===u?"left"===s?f+=c:"right"===s&&(f-=c):"left"===s?f-=l:"right"===s&&(f+=l),{x:ht(f,0,r.width-e.width),y:ht(h,0,r.height-e.height)}}function jo(t,e,n){var r=xe(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function No(t){return To([],Eo(t))}function Ro(t,e){var n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var Do=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).opacity=0,n._active=[],n._chart=t._chart,n._eventPosition=void 0,n._size=void 0,n._cachedAnimations=void 0,n._tooltipItems=[],n.$animations=void 0,n.$context=void 0,n.options=t.options,n.dataPoints=void 0,n.title=void 0,n.beforeBody=void 0,n.body=void 0,n.afterBody=void 0,n.footer=void 0,n.xAlign=void 0,n.yAlign=void 0,n.x=void 0,n.y=void 0,n.height=void 0,n.width=void 0,n.caretX=void 0,n.caretY=void 0,n.labelColors=void 0,n.labelPointStyles=void 0,n.labelTextColors=void 0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"initialize",value:function(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var t=this,e=t._cachedAnimations;if(e)return e;var n=t._chart,r=t.options.setContext(t.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new Pn(t._chart,i);return i._cacheable&&(t._cachedAnimations=Object.freeze(o)),o}},{key:"getContext",value:function(){var t,e,n,r=this;return r.$context||(r.$context=(t=r._chart.getContext(),e=r,n=r._tooltipItems,Object.assign(Object.create(t),{tooltip:e,tooltipItems:n,type:"tooltip"})))}},{key:"getTitle",value:function(t,e){var n=e.callbacks,r=n.beforeTitle.apply(this,[t]),i=n.title.apply(this,[t]),o=n.afterTitle.apply(this,[t]),a=[];return a=To(a,Eo(r)),a=To(a,Eo(i)),a=To(a,Eo(o))}},{key:"getBeforeBody",value:function(t,e){return No(e.callbacks.beforeBody.apply(this,[t]))}},{key:"getBody",value:function(t,e){var n=this,r=e.callbacks,i=[];return P(t,function(t){var e={before:[],lines:[],after:[]},o=Ro(r,t);To(e.before,Eo(o.beforeLabel.call(n,t))),To(e.lines,o.label.call(n,t)),To(e.after,Eo(o.afterLabel.call(n,t))),i.push(e)}),i}},{key:"getAfterBody",value:function(t,e){return No(e.callbacks.afterBody.apply(this,[t]))}},{key:"getFooter",value:function(t,e){var n=e.callbacks,r=n.beforeFooter.apply(this,[t]),i=n.footer.apply(this,[t]),o=n.afterFooter.apply(this,[t]),a=[];return a=To(a,Eo(r)),a=To(a,Eo(i)),a=To(a,Eo(o))}},{key:"_createItems",value:function(t){var e,n,r=this,i=r._active,o=r._chart.data,a=[],s=[],u=[],c=[];for(e=0,n=i.length;e<n;++e)c.push(So(r._chart,i[e]));return t.filter&&(c=c.filter(function(e,n,r){return t.filter(e,n,r,o)})),t.itemSort&&(c=c.sort(function(e,n){return t.itemSort(e,n,o)})),P(c,function(e){var n=Ro(t.callbacks,e);a.push(n.labelColor.call(r,e)),s.push(n.labelPointStyle.call(r,e)),u.push(n.labelTextColor.call(r,e))}),r.labelColors=a,r.labelPointStyles=s,r.labelTextColors=u,r.dataPoints=c,c}},{key:"update",value:function(t,e){var n,r=this,i=r.options.setContext(r.getContext()),o=r._active,a=[];if(o.length){var s=Oo[i.position].call(r,o,r._eventPosition);a=r._createItems(i),r.title=r.getTitle(a,i),r.beforeBody=r.getBeforeBody(a,i),r.body=r.getBody(a,i),r.afterBody=r.getAfterBody(a,i),r.footer=r.getFooter(a,i);var u=r._size=Io(r,i),c=Object.assign({},s,u),l=Ao(r._chart,i,c),f=Po(i,c,l,r._chart);r.xAlign=l.xAlign,r.yAlign=l.yAlign,n={opacity:1,x:f.x,y:f.y,width:u.width,height:u.height,caretX:s.x,caretY:s.y}}else 0!==r.opacity&&(n={opacity:0});r._tooltipItems=a,r.$context=void 0,n&&r._resolveAnimations().update(r,n),t&&i.external&&i.external.call(r,{chart:r._chart,tooltip:r,replay:e})}},{key:"drawCaret",value:function(t,e,n,r){var i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}},{key:"getCaretPosition",value:function(t,e,n){var r,i,o,a,s,u,c=this.xAlign,l=this.yAlign,f=n.cornerRadius,h=n.caretSize,d=t.x,p=t.y,v=e.width,g=e.height;return"center"===l?(s=p+g/2,"left"===c?(i=(r=d)-h,a=s+h,u=s-h):(i=(r=d+v)+h,a=s-h,u=s+h),o=r):(i="left"===c?d+f+h:"right"===c?d+v-f-h:this.caretX,"top"===l?(s=(a=p)-h,r=i-h,o=i+h):(s=(a=p+g)+h,r=i+h,o=i-h),u=a),{x1:r,x2:i,x3:o,y1:a,y2:s,y3:u}}},{key:"drawTitle",value:function(t,e,n){var r,i,o,a=this.title,s=a.length;if(s){var u=gn(n.rtl,this.x,this.width);for(t.x=jo(this,n.titleAlign,n),e.textAlign=u.textAlign(n.titleAlign),e.textBaseline="middle",r=ke(n.titleFont),i=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,o=0;o<s;++o)e.fillText(a[o],u.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i,o+1===s&&(t.y+=n.titleMarginBottom-i)}}},{key:"_drawColorBox",value:function(t,e,n,r,i){var o=this.labelColors[n],a=this.labelPointStyles[n],s=i.boxHeight,u=i.boxWidth,c=ke(i.bodyFont),l=jo(this,"left",i),f=r.x(l),h=s<c.lineHeight?(c.lineHeight-s)/2:0,d=e.y+h;if(i.usePointStyle){var p={radius:Math.min(u,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(f,u)+u/2,g=d+s/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,se(t,p,v,g),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,se(t,p,v,g)}else{t.lineWidth=o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;var m=r.leftForLtr(f,u),y=r.leftForLtr(r.xPlus(f,1),u-2),b=we(o.borderRadius);Object.values(b).some(function(t){return 0!==t})?(t.beginPath(),t.fillStyle=i.multiKeyBackground,pe(t,{x:m,y:d,w:u,h:s,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),pe(t,{x:y,y:d+1,w:u-2,h:s-2,radius:b}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(m,d,u,s),t.strokeRect(m,d,u,s),t.fillStyle=o.backgroundColor,t.fillRect(y,d+1,u-2,s-2))}t.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(t,e,n){var r,i,o,a,s,u,c,l=this,f=l.body,h=n.bodySpacing,d=n.bodyAlign,p=n.displayColors,v=n.boxHeight,g=n.boxWidth,m=ke(n.bodyFont),y=m.lineHeight,b=0,_=gn(n.rtl,l.x,l.width),w=function(n){e.fillText(n,_.x(t.x+b),t.y+y/2),t.y+=y+h},x=_.textAlign(d);for(e.textAlign=d,e.textBaseline="middle",e.font=m.string,t.x=jo(l,x,n),e.fillStyle=n.bodyColor,P(l.beforeBody,w),b=p&&"right"!==x?"center"===d?g/2+1:g+2:0,a=0,u=f.length;a<u;++a){for(r=f[a],i=l.labelTextColors[a],e.fillStyle=i,P(r.before,w),o=r.lines,p&&o.length&&(l._drawColorBox(e,t,a,_,n),y=Math.max(m.lineHeight,v)),s=0,c=o.length;s<c;++s)w(o[s]),y=m.lineHeight;P(r.after,w)}b=0,y=m.lineHeight,P(l.afterBody,w),t.y-=h}},{key:"drawFooter",value:function(t,e,n){var r,i,o=this.footer,a=o.length;if(a){var s=gn(n.rtl,this.x,this.width);for(t.x=jo(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=s.textAlign(n.footerAlign),e.textBaseline="middle",r=ke(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,i=0;i<a;++i)e.fillText(o[i],s.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(t,e,n,r){var i=this.xAlign,o=this.yAlign,a=t.x,s=t.y,u=n.width,c=n.height,l=r.cornerRadius;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+l,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+u-l,s),e.quadraticCurveTo(a+u,s,a+u,s+l),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+u,s+c-l),e.quadraticCurveTo(a+u,s+c,a+u-l,s+c),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+l,s+c),e.quadraticCurveTo(a,s+c,a,s+c-l),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+l),e.quadraticCurveTo(a,s,a+l,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}},{key:"_updateAnimationTarget",value:function(t){var e=this,n=e._chart,r=e.$animations,i=r&&r.x,o=r&&r.y;if(i||o){var a=Oo[t.position].call(e,e._active,e._eventPosition);if(!a)return;var s=e._size=Io(e,t),u=Object.assign({},a,e._size),c=Ao(n,t,u),l=Po(t,u,c,n);i._to===l.x&&o._to===l.y||(e.xAlign=c.xAlign,e.yAlign=c.yAlign,e.width=s.width,e.height=s.height,e.caretX=a.x,e.caretY=a.y,e._resolveAnimations().update(e,l))}}},{key:"draw",value:function(t){var e=this,n=e.options.setContext(e.getContext()),r=e.opacity;if(r){e._updateAnimationTarget(n);var i={width:e.width,height:e.height},o={x:e.x,y:e.y};r=Math.abs(r)<.001?0:r;var a=xe(n.padding),s=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;n.enabled&&s&&(t.save(),t.globalAlpha=r,e.drawBackground(o,t,i,n),mn(t,n.textDirection),o.y+=a.top,e.drawTitle(o,t,n),e.drawBody(o,t,n),e.drawFooter(o,t,n),yn(t,n.textDirection),t.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t,e){var n=this,r=n._active,i=t.map(function(t){var e=t.datasetIndex,r=t.index,i=n._chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[r],index:r}}),o=!j(r,i),a=n._positionChanged(i,e);(o||a)&&(n._active=i,n._eventPosition=e,n.update(!0))}},{key:"handleEvent",value:function(t,e){var n,r=this,i=r.options,o=r._active||[],a=[];"mouseout"!==t.type&&(a=r._chart.getElementsAtEventForMode(t,i.mode,i,e),i.reverse&&a.reverse());var s=r._positionChanged(a,t);return(n=e||!j(a,o)||s)&&(r._active=a,(i.enabled||i.external)&&(r._eventPosition={x:t.x,y:t.y},r.update(!0,e))),n}},{key:"_positionChanged",value:function(t,e){var n=this.caretX,r=this.caretY,i=this.options,o=Oo[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}]),e}(Vr);Do.positioners=Oo;var Mo={id:"tooltip",_element:Do,positioners:Oo,afterInit:function(t,e,n){n&&(t.tooltip=new Do({_chart:t,options:n}))},beforeUpdate:function(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset:function(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw:function(t){var e=t.tooltip,n={tooltip:e};!1!==t.notifyPlugins("beforeTooltipDraw",n)&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n))},afterEvent:function(t,e){if(t.tooltip){var n=e.replay;t.tooltip.handleEvent(e.event,n)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(t,e){return e.bodyFont.size},boxWidth:function(t,e){return e.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:w,title:function(t){if(t.length>0){var e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:w,beforeBody:w,beforeLabel:w,label:function(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;var e=t.dataset.label||"";e&&(e+=": ");var n=t.formattedValue;return k(n)||(e+=n),e},labelColor:function(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:w,afterBody:w,beforeFooter:w,footer:w,afterFooter:w}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(t){return"filter"!==t&&"itemSort"!==t&&"external"!==t},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Lo=Object.freeze({__proto__:null,Decimation:to,Filler:yo,Legend:wo,Title:ko,Tooltip:Mo}),Fo=function(t,e,n){return"string"===typeof e?t.push(e)-1:isNaN(e)?null:n};var Uo=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this,t)))._startValue=void 0,n._valueRange=0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"parse",value:function(t,e){if(k(t))return null;var n=this.getLabels();return function(t,e){return null===t?null:ht(Math.round(t),0,e)}(e=isFinite(e)&&n[e]===t?e:function(t,e,n){var r=t.indexOf(e);return-1===r?Fo(t,e,n):r!==t.lastIndexOf(e)?n:r}(n,t,I(e,t)),n.length-1)}},{key:"determineDataLimits",value:function(){var t=this,e=t.getUserBounds(),n=e.minDefined,r=e.maxDefined,i=t.getMinMax(!0),o=i.min,a=i.max;"ticks"===t.options.bounds&&(n||(o=0),r||(a=t.getLabels().length-1)),t.min=o,t.max=a}},{key:"buildTicks",value:function(){var t=this,e=t.min,n=t.max,r=t.options.offset,i=[],o=t.getLabels();o=0===e&&n===o.length-1?o:o.slice(e,n+1),t._valueRange=Math.max(o.length-(r?0:1),1),t._startValue=t.min-(r?.5:0);for(var a=e;a<=n;a++)i.push({value:a});return i}},{key:"getLabelForValue",value:function(t){var e=this.getLabels();return t>=0&&t<e.length?e[t]:t}},{key:"configure",value:function(){l(Object(c.a)(e.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getValueForPixel",value:function(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),e}(Jr);function Vo(t,e){var n,r,i,o,a=[],s=t.step,u=t.min,c=t.max,l=t.precision,f=t.count,h=t.maxTicks,d=t.maxDigits,p=t.horizontal,v=s||1,g=h-1,m=e.min,y=e.max,b=!k(u),_=!k(c),w=!k(f),x=(y-m)/d,O=nt((y-m)/g/v)*v;if(O<1e-14&&!b&&!_)return[{value:m},{value:y}];(o=Math.ceil(y/O)-Math.floor(m/O))>g&&(O=nt(o*O/g/v)*v),k(l)||(n=Math.pow(10,l),O=Math.ceil(O*n)/n),r=Math.floor(m/O)*O,i=Math.ceil(y/O)*O,b&&_&&s&&function(t,e){var n=Math.round(t);return n-e<=t&&n+e>=t}((c-u)/s,O/1e3)?(O=(c-u)/(o=Math.min((c-u)/O,h)),r=u,i=c):w?O=((i=_?c:i)-(r=b?u:r))/(o=f-1):o=it(o=(i-r)/O,Math.round(o),O/1e3)?Math.round(o):Math.ceil(o),n=Math.pow(10,k(l)?function(t){if(E(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}}(O):l),r=Math.round(r*n)/n,i=Math.round(i*n)/n;var T=0;for(b&&(a.push({value:u}),r<=u&&T++,it(Math.round((r+T*O)*n)/n,u,x*(p?(""+u).length:1))&&T++);T<o;++T)a.push({value:Math.round((r+T*O)*n)/n});return _?it(a[a.length-1].value,c,x*(p?(""+c).length:1))?a[a.length-1].value=c:a.push({value:c}):a.push({value:i}),a}Uo.id="category",Uo.defaults={ticks:{callback:Uo.prototype.getLabelForValue}};var Bo=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this,t))).start=void 0,n.end=void 0,n._startValue=void 0,n._endValue=void 0,n._valueRange=0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"parse",value:function(t,e){return k(t)?null:("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}},{key:"handleTickRangeOptions",value:function(){var t=this,e=t.options,n=e.beginAtZero,r=e.stacked,i=t.getUserBounds(),o=i.minDefined,a=i.maxDefined,s=t.min,u=t.max,c=function(t){return s=o?s:t},l=function(t){return u=a?u:t};if(n||r){var f=et(s),h=et(u);f<0&&h<0?l(0):f>0&&h>0&&c(0)}s===u&&(l(u+1),n||c(s-1)),t.min=s,t.max=u}},{key:"getTickLimit",value:function(){var t,e=this.options.ticks,n=e.maxTicksLimit,r=e.stepSize;return r?t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1:(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=e.ticks,r=t.getTickLimit(),i=Vo({maxTicks:r=Math.max(2,r),min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:t._maxDigits(),horizontal:t.isHorizontal()},t._range||t);return"ticks"===e.bounds&&ot(i,t,"value"),e.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i}},{key:"configure",value:function(){var t=this,n=t.ticks,r=t.min,i=t.max;if(l(Object(c.a)(e.prototype),"configure",this).call(this),t.options.offset&&n.length){var o=(i-r)/Math.max(n.length-1,1)/2;r-=o,i+=o}t._startValue=r,t._endValue=i,t._valueRange=i-r}},{key:"getLabelForValue",value:function(t){return dn(t,this.chart.options.locale)}}]),e}(Jr),zo=function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(p.a)(e,[{key:"determineDataLimits",value:function(){var t=this.getMinMax(!0),e=t.min,n=t.max;this.min=E(e)?e:0,this.max=E(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){if(this.isHorizontal())return Math.ceil(this.width/40);var t=this._resolveTickFontOptions(0);return Math.ceil(this.height/t.lineHeight)}},{key:"getPixelForValue",value:function(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}]),e}(Bo);function qo(t){return 1===t/Math.pow(10,Math.floor(tt(t)))}zo.id="linear",zo.defaults={ticks:{callback:zr.formatters.numeric}};var Wo=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this,t))).start=void 0,n.end=void 0,n._startValue=void 0,n._valueRange=0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"parse",value:function(t,e){var n=Bo.prototype.parse.apply(this,[t,e]);if(0!==n)return E(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var t=this,e=t.getMinMax(!0),n=e.min,r=e.max;t.min=E(n)?Math.max(0,n):null,t.max=E(r)?Math.max(0,r):null,t.options.beginAtZero&&(t._zero=!0),t.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var t=this,e=t.getUserBounds(),n=e.minDefined,r=e.maxDefined,i=t.min,o=t.max,a=function(t){return i=n?i:t},s=function(t){return o=r?o:t},u=function(t,e){return Math.pow(10,Math.floor(tt(t))+e)};i===o&&(i<=0?(a(1),s(10)):(a(u(i,-1)),s(u(o,1)))),i<=0&&a(u(o,-1)),o<=0&&s(u(i,1)),t._zero&&t.min!==t._suggestedMin&&i===u(t.min,0)&&a(u(i,-1)),t.min=i,t.max=o}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=function(t,e){var n=Math.floor(tt(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[],o=S(t.min,Math.pow(10,Math.floor(tt(e.min)))),a=Math.floor(tt(o)),s=Math.floor(o/Math.pow(10,a)),u=a<0?Math.pow(10,Math.abs(a)):1;do{i.push({value:o,major:qo(o)}),10===++s&&(s=1,u=++a>=0?1:u),o=Math.round(s*Math.pow(10,a)*u)/u}while(a<n||a===n&&s<r);var c=S(t.max,o);return i.push({value:c,major:qo(o)}),i}({min:t._userMin,max:t._userMax},t);return"ticks"===e.bounds&&ot(n,t,"value"),e.reverse?(n.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n}},{key:"getLabelForValue",value:function(t){return void 0===t?"0":dn(t,this.chart.options.locale)}},{key:"configure",value:function(){var t=this.min;l(Object(c.a)(e.prototype),"configure",this).call(this),this._startValue=tt(t),this._valueRange=tt(this.max)-tt(t)}},{key:"getPixelForValue",value:function(t){var e=this;return void 0!==t&&0!==t||(t=e.min),null===t||isNaN(t)?NaN:e.getPixelForDecimal(t===e.min?0:(tt(t)-e._startValue)/e._valueRange)}},{key:"getValueForPixel",value:function(t){var e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}]),e}(Jr);function Ho(t){var e=t.ticks;if(e.display&&t.display){var n=xe(e.backdropPadding);return I(e.font&&e.font.size,ne.font.size)+n.height}return 0}function Ko(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Go(t){return 0===t||180===t?"center":t<180?"left":"right"}function Yo(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function $o(t,e,n,r){var i=t.ctx;if(n)i.arc(t.xCenter,t.yCenter,e,0,G);else{var o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(var a=1;a<r;a++)o=t.getPointPosition(a,e),i.lineTo(o.x,o.y)}}function Qo(t){return rt(t)?t:0}Wo.id="logarithmic",Wo.defaults={ticks:{callback:zr.formatters.logarithmic,major:{enabled:!0}}};var Xo=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this,t))).xCenter=void 0,n.yCenter=void 0,n.drawingArea=void 0,n._pointLabels=[],n._pointLabelItems=[],n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"setDimensions",value:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Ho(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}},{key:"determineDataLimits",value:function(){var t=this.getMinMax(!1),e=t.min,n=t.max;this.min=E(e)&&!isNaN(e)?e:0,this.max=E(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Ho(this.options))}},{key:"generateTickLabels",value:function(t){var e=this;Bo.prototype.generateTickLabels.call(e,t),e._pointLabels=e.getLabels().map(function(t,n){var r=A(e.options.pointLabels.callback,[t,n],e);return r||0===r?r:""})}},{key:"fit",value:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,r,i,o,a,s={l:0,r:t.width,t:0,b:t.height-t.paddingTop},u={},c=[],l=[],f=t.getLabels().length;for(e=0;e<f;e++){var h=t.options.pointLabels.setContext(t.getContext(e));l[e]=h.padding,r=t.getPointPosition(e,t.drawingArea+l[e]);var d=ke(h.font);t.ctx.font=d.string,i=t.ctx,o=d.lineHeight,n=O(a=t._pointLabels[e])?{w:ie(i,i.font,a),h:a.length*o}:{w:i.measureText(a).width,h:o},c[e]=n;var p=t.getIndexAngle(e),v=st(p),g=Ko(v,r.x,n.w,0,180),m=Ko(v,r.y,n.h,90,270);g.start<s.l&&(s.l=g.start,u.l=p),g.end>s.r&&(s.r=g.end,u.r=p),m.start<s.t&&(s.t=m.start,u.t=p),m.end>s.b&&(s.b=m.end,u.b=p)}t._setReductions(t.drawingArea,s,u),t._pointLabelItems=[];var y=t.options,b=Ho(y),_=t.getDistanceFromCenterForValue(y.ticks.reverse?t.min:t.max);for(e=0;e<f;e++){var w=0===e?b/2:0,x=t.getPointPosition(e,_+w+l[e]),k=st(t.getIndexAngle(e)),T=c[e];Yo(k,T,x);var E=Go(k),S=void 0,I=(S="left"===E?x.x:"center"===E?x.x-T.w/2:x.x-T.w)+T.w;t._pointLabelItems[e]={x:x.x,y:x.y,textAlign:E,left:S,top:x.y,right:I,bottom:x.y+T.h}}}(this):this.setCenterPoint(0,0,0,0)}},{key:"_setReductions",value:function(t,e,n){var r=this,i=e.l/Math.sin(n.l),o=Math.max(e.r-r.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),s=-Math.max(e.b-(r.height-r.paddingTop),0)/Math.cos(n.b);i=Qo(i),o=Qo(o),a=Qo(a),s=Qo(s),r.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(i+o)/2),Math.floor(t-(a+s)/2))),r.setCenterPoint(i,o,a,s)}},{key:"setCenterPoint",value:function(t,e,n,r){var i=this,o=i.width-e-i.drawingArea,a=t+i.drawingArea,s=n+i.drawingArea,u=i.height-i.paddingTop-r-i.drawingArea;i.xCenter=Math.floor((a+o)/2+i.left),i.yCenter=Math.floor((s+u)/2+i.top+i.paddingTop)}},{key:"getIndexAngle",value:function(t){return lt(t*(G/this.getLabels().length)+at(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(t){var e=this;if(k(t))return NaN;var n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n}},{key:"getValueForDistanceFromCenter",value:function(t){if(k(t))return NaN;var e=this,n=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-n:e.min+n}},{key:"getPointPosition",value:function(t,e){var n=this.getIndexAngle(t)-X;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}},{key:"getPointPositionForValue",value:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}},{key:"getBasePosition",value:function(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(t){var e=this._pointLabelItems[t];return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}},{key:"drawBackground",value:function(){var t=this,e=t.options,n=e.backgroundColor,r=e.grid.circular;if(n){var i=t.ctx;i.save(),i.beginPath(),$o(t,t.getDistanceFromCenterForValue(t._endValue),r,t.getLabels().length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}},{key:"drawGrid",value:function(){var t,e,n,r=this,i=r.ctx,o=r.options,a=o.angleLines,s=o.grid,u=r.getLabels().length;if(o.pointLabels.display&&function(t,e){for(var n=t.ctx,r=t.options.pointLabels,i=e-1;i>=0;i--){var o=r.setContext(t.getContext(i)),a=ke(o.font),s=t._pointLabelItems[i],u=s.x,c=s.y,l=s.textAlign,f=s.left,h=s.top,d=s.right,p=s.bottom,v=o.backdropColor;if(!k(v)){var g=xe(o.backdropPadding);n.fillStyle=v,n.fillRect(f-g.left,h-g.top,d-f+g.width,p-h+g.height)}de(n,t._pointLabels[i],u,c+a.lineHeight/2,a,{color:o.color,textAlign:l,textBaseline:"middle"})}}(r,u),s.display&&r.ticks.forEach(function(t,n){if(0!==n){e=r.getDistanceFromCenterForValue(t.value);var i=s.setContext(r.getContext(n-1));!function(t,e,n,r){var i=t.ctx,o=e.circular,a=e.color,s=e.lineWidth;!o&&!r||!a||!s||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=s,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),$o(t,n,o,r),i.closePath(),i.stroke(),i.restore())}(r,i,e,u)}}),a.display){for(i.save(),t=r.getLabels().length-1;t>=0;t--){var c=a.setContext(r.getContext(t)),l=c.color,f=c.lineWidth;f&&l&&(i.lineWidth=f,i.strokeStyle=l,i.setLineDash(c.borderDash),i.lineDashOffset=c.borderDashOffset,e=r.getDistanceFromCenterForValue(o.ticks.reverse?r.min:r.max),n=r.getPointPosition(t,e),i.beginPath(),i.moveTo(r.xCenter,r.yCenter),i.lineTo(n.x,n.y),i.stroke())}i.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var t=this,e=t.ctx,n=t.options,r=n.ticks;if(r.display){var i,o,a=t.getIndexAngle(0);e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach(function(a,s){if(0!==s||n.reverse){var u=r.setContext(t.getContext(s)),c=ke(u.font);if(i=t.getDistanceFromCenterForValue(t.ticks[s].value),u.showLabelBackdrop){o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;var l=xe(u.backdropPadding);e.fillRect(-o/2-l.left,-i-c.size/2-l.top,o+l.width,c.size+l.height)}de(e,a.label,0,-i,c,{color:u.color})}}),e.restore()}}},{key:"drawTitle",value:function(){}}]),e}(Bo);Xo.id="radialLinear",Xo.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:zr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(t){return t},padding:5}},Xo.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Xo.descriptors={angleLines:{_fallback:"grid"}};var Jo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zo=Object.keys(Jo);function ta(t,e){return t-e}function ea(t,e){if(k(e))return null;var n=t._adapter,r=t._parseOpts,i=r.parser,o=r.round,a=r.isoWeekday,s=e;return"function"===typeof i&&(s=i(s)),E(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(o&&(s="week"!==o||!rt(a)&&!0!==a?n.startOf(s,o):n.startOf(s,"isoWeek",a)),+s)}function na(t,e,n,r){for(var i=Zo.length,o=Zo.indexOf(t);o<i-1;++o){var a=Jo[Zo[o]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(s*a.size))<=r)return Zo[o]}return Zo[i-1]}function ra(t,e,n){if(n){if(n.length){var r=Te(n,e),i=r.lo,o=r.hi;t[n[i]>=e?n[i]:n[o]]=!0}}else t[e]=!0}function ia(t,e,n){var r,i,o=[],a={},s=e.length;for(r=0;r<s;++r)a[i=e[r]]=r,o.push({value:i,major:!1});return 0!==s&&n?function(t,e,n,r){var i,o,a=t._adapter,s=+a.startOf(e[0].value,r),u=e[e.length-1].value;for(i=s;i<=u;i=+a.add(i,1,r))(o=n[i])>=0&&(e[o].major=!0);return e}(t,o,a,n):o}var oa=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this,t)))._cache={data:[],labels:[],all:[]},n._unit="day",n._majorUnit=void 0,n._offsets={},n._normalized=!1,n._parseOpts=void 0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"init",value:function(t,n){var r=t.time||(t.time={}),i=this._adapter=new or._date(t.adapters.date);L(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},l(Object(c.a)(e.prototype),"init",this).call(this,t),this._normalized=n.normalized}},{key:"parse",value:function(t,e){return void 0===t?null:ea(this,t)}},{key:"beforeLayout",value:function(){l(Object(c.a)(e.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var t=this,e=t.options,n=t._adapter,r=e.time.unit||"day",i=t.getUserBounds(),o=i.min,a=i.max,s=i.minDefined,u=i.maxDefined;function c(t){s||isNaN(t.min)||(o=Math.min(o,t.min)),u||isNaN(t.max)||(a=Math.max(a,t.max))}s&&u||(c(t._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||c(t.getMinMax(!1))),o=E(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),a=E(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,t.min=Math.min(o,a-1),t.max=Math.max(o+1,a)}},{key:"_getLabelBounds",value:function(){var t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}},{key:"buildTicks",value:function(){var t=this,e=t.options,n=e.time,r=e.ticks,i="labels"===r.source?t.getLabelTimestamps():t._generate();"ticks"===e.bounds&&i.length&&(t.min=t._userMin||i[0],t.max=t._userMax||i[i.length-1]);var o=t.min,a=function(t,e,n){for(var r=0,i=t.length;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(i,o,t.max);return t._unit=n.unit||(r.autoSkip?na(n.minUnit,t.min,t.max,t._getLabelCapacity(o)):function(t,e,n,r,i){for(var o=Zo.length-1;o>=Zo.indexOf(n);o--){var a=Zo[o];if(Jo[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Zo[n?Zo.indexOf(n):0]}(t,a.length,n.minUnit,t.min,t.max)),t._majorUnit=r.major.enabled&&"year"!==t._unit?function(t){for(var e=Zo.indexOf(t)+1,n=Zo.length;e<n;++e)if(Jo[Zo[e]].common)return Zo[e]}(t._unit):void 0,t.initOffsets(i),e.reverse&&a.reverse(),ia(t,a,t._majorUnit)}},{key:"initOffsets",value:function(t){var e,n,r=this,i=0,o=0;r.options.offset&&t.length&&(e=r.getDecimalForValue(t[0]),i=1===t.length?1-e:(r.getDecimalForValue(t[1])-e)/2,n=r.getDecimalForValue(t[t.length-1]),o=1===t.length?n:(n-r.getDecimalForValue(t[t.length-2]))/2);var a=t.length<3?.5:.25;i=ht(i,0,a),o=ht(o,0,a),r._offsets={start:i,end:o,factor:1/(i+1+o)}}},{key:"_generate",value:function(){var t,e,n=this,r=n._adapter,i=n.min,o=n.max,a=n.options,s=a.time,u=s.unit||na(s.minUnit,i,o,n._getLabelCapacity(i)),c=I(s.stepSize,1),l="week"===u&&s.isoWeekday,f=rt(l)||!0===l,h={},d=i;if(f&&(d=+r.startOf(d,"isoWeek",l)),d=+r.startOf(d,f?"day":u),r.diff(o,i,u)>1e5*c)throw new Error(i+" and "+o+" are too far apart with stepSize of "+c+" "+u);var p="data"===a.ticks.source&&n.getDataTimestamps();for(t=d,e=0;t<o;t=+r.add(t,c,u),e++)ra(h,t,p);return t!==o&&"ticks"!==a.bounds&&1!==e||ra(h,t,p),Object.keys(h).sort(function(t,e){return t-e}).map(function(t){return+t})}},{key:"getLabelForValue",value:function(t){var e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}},{key:"_tickFormatFunction",value:function(t,e,n,r){var i=this,o=i.options,a=o.time.displayFormats,s=i._unit,u=i._majorUnit,c=s&&a[s],l=u&&a[u],f=n[e],h=u&&l&&f&&f.major,d=i._adapter.format(t,r||(h?l:c)),p=o.ticks.callback;return p?A(p,[d,e,n],i):d}},{key:"generateTickLabels",value:function(t){var e,n,r;for(e=0,n=t.length;e<n;++e)(r=t[e]).label=this._tickFormatFunction(r.value,e,t)}},{key:"getDecimalForValue",value:function(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(t){var e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}},{key:"getValueForPixel",value:function(t){var e=this,n=e._offsets,r=e.getDecimalForPixel(t)/n.factor-n.end;return e.min+r*(e.max-e.min)}},{key:"_getLabelSize",value:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,r=at(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}},{key:"_getLabelCapacity",value:function(t){var e=this,n=e.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=e._tickFormatFunction(t,0,ia(e,[t],e._majorUnit),i),a=e._getLabelSize(o),s=Math.floor(e.isHorizontal()?e.width/a.w:e.height/a.h)-1;return s>0?s:1}},{key:"getDataTimestamps",value:function(){var t,e,n=this,r=n._cache.data||[];if(r.length)return r;var i=n.getMatchingVisibleMetas();if(n._normalized&&i.length)return n._cache.data=i[0].controller.getAllParsedValues(n);for(t=0,e=i.length;t<e;++t)r=r.concat(i[t].controller.getAllParsedValues(n));return n._cache.data=n.normalize(r)}},{key:"getLabelTimestamps",value:function(){var t,e,n=this,r=n._cache.labels||[];if(r.length)return r;var i=n.getLabels();for(t=0,e=i.length;t<e;++t)r.push(ea(n,i[t]));return n._cache.labels=n._normalized?r:n.normalize(r)}},{key:"normalize",value:function(t){return Ae(t.sort(ta))}}]),e}(Jr);function aa(t,e,n){var r,i,o,a;if(n)r=Math.floor(e),i=Math.ceil(e),o=t[r],a=t[i];else{var s=Te(t,e);o=s.lo,a=s.hi,r=t[o],i=t[a]}var u=i-r;return u?o+(a-o)*(e-r)/u:o}oa.id="time",oa.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};var sa=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this,t)))._table=[],n._maxIndex=void 0,n}return Object(f.a)(e,t),Object(p.a)(e,[{key:"initOffsets",value:function(){var t=this,n=t._getTimestampsForTable();t._table=t.buildLookupTable(n),t._maxIndex=t._table.length-1,l(Object(c.a)(e.prototype),"initOffsets",this).call(this,n)}},{key:"buildLookupTable",value:function(t){var e=this.min,n=this.max;if(!t.length)return[{time:e,pos:0},{time:n,pos:1}];var r,i,o,a=[e];for(r=0,i=t.length;r<i;++r)(o=t[r])>e&&o<n&&a.push(o);return a.push(n),a}},{key:"_getTimestampsForTable",value:function(){var t=this,e=t._cache.all||[];if(e.length)return e;var n=t.getDataTimestamps(),r=t.getLabelTimestamps();return e=n.length&&r.length?t.normalize(n.concat(r)):n.length?n:r,e=t._cache.all=e}},{key:"getPixelForValue",value:function(t,e){var n=this,r=n._offsets,i=n._normalized&&n._maxIndex>0&&!k(e)?e/n._maxIndex:n.getDecimalForValue(t);return n.getPixelForDecimal((r.start+i)*r.factor)}},{key:"getDecimalForValue",value:function(t){return aa(this._table,t)/this._maxIndex}},{key:"getValueForPixel",value:function(t){var e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return aa(this._table,n*this._maxIndex,!0)}}]),e}(oa);sa.id="timeseries",sa.defaults=oa.defaults;var ua=[nr,Xi,Lo,Object.freeze({__proto__:null,CategoryScale:Uo,LinearScale:zo,LogarithmicScale:Wo,RadialLinearScale:Xo,TimeScale:oa,TimeSeriesScale:sa})];ki.register.apply(ki,o(ua));var ca=ki,la=n(116),fa=n.n(la),ha=n(83),da=n.n(ha),pa=n(117),va=n.n(pa);function ga(){return(ga=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ma(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",function(){return ba}),n.d(e,"b",function(){return _a});var ya=Object(r.forwardRef)(function(t,e){var n=t.id,o=t.className,a=t.height,s=void 0===a?150:a,u=t.width,c=void 0===u?300:u,l=t.redraw,f=void 0!==l&&l,h=t.type,d=t.data,p=t.options,v=void 0===p?{}:p,g=t.plugins,m=void 0===g?[]:g,y=t.getDatasetAtEvent,b=t.getElementAtEvent,_=t.getElementsAtEvent,w=t.fallbackContent,x=ma(t,["id","className","height","width","redraw","type","data","options","plugins","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","fallbackContent"]),k=Object(r.useRef)(null),O=Object(r.useMemo)(function(){return"function"===typeof d?k.current?d(k.current):{}:fa()({},d)},[d,k.current]),T=Object(r.useState)(),E=T[0],S=T[1];Object(r.useImperativeHandle)(e,function(){return E},[E]);var I=function(){k.current&&S(new ca(k.current,{type:h,data:O,options:v,plugins:m}))},C=function(){E&&E.destroy()};return Object(r.useEffect)(function(){return I(),function(){return C()}},[]),Object(r.useEffect)(function(){f?(C(),setTimeout(function(){I()},0)):function(){if(E){if(v&&(E.options=ga({},v)),!E.config.data)return E.config.data=O,void E.update();var t=O.datasets,e=void 0===t?[]:t,n=ma(O,["datasets"]),r=E.config.data.datasets,i=void 0===r?[]:r;da()(E.config.data,n),E.config.data.datasets=e.map(function(t){var e=va()(i,function(e){return e.label===t.label&&e.type===t.type});return e&&t.data?(e.data?e.data.length=t.data.length:e.data=[],da()(e.data,t.data),ga({},e,t,{data:e.data})):t}),E.update()}}()},[t,O]),i.a.createElement("canvas",Object.assign({},x,{height:s,width:c,ref:k,id:n,className:o,onClick:function(t){E&&(y&&y(E.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1),t),b&&b(E.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),t),_&&_(E.getElementsAtEventForMode(t,"index",{intersect:!0},!1),t))},"data-testid":"canvas",role:"img"}),w)}),ba=(Object(r.forwardRef)(function(t,e){return i.a.createElement(ya,Object.assign({},t,{type:"line",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(ya,Object.assign({},t,{type:"bar",ref:e,options:t.options||{}}))})),_a=(Object(r.forwardRef)(function(t,e){return i.a.createElement(ya,Object.assign({},t,{type:"radar",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(ya,Object.assign({},t,{type:"doughnut",ref:e,options:t.options||{}}))}));Object(r.forwardRef)(function(t,e){return i.a.createElement(ya,Object.assign({},t,{type:"polarArea",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(ya,Object.assign({},t,{type:"bubble",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(ya,Object.assign({},t,{type:"pie",ref:e,options:t.options||{}}))}),Object(r.forwardRef)(function(t,e){return i.a.createElement(ya,Object.assign({},t,{type:"scatter",ref:e,options:t.options||{}}))})},function(t,e,n){"use strict";n.r(e);var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}(function(t){return r.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91});e.default=i},function(t,e,n){t.exports=n(233)},,function(t,e,n){var r=n(57),i=n(133),o=n(134),a=n(135),s=n(136),u=n(137);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(43)(n(33),"Map");t.exports=r},function(t,e,n){var r=n(47),i=n(37),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e,n){var r=n(144),i=n(151),o=n(153),a=n(154),s=n(155);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(90);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(165),i=n(44),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){(function(t){var r=n(33),i=n(167),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(75)(t))},function(t,e,n){var r=n(169),i=n(170),o=n(171),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(38),i=n(64),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(96),i=n(95),o=n(99),a=n(48),s=n(62),u=n(63),c=Object.prototype.hasOwnProperty,l=o(function(t,e){if(s(e)||a(e))i(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){"use strict";(function(t){var r=n(1),i=n.n(r),o=n(24),a=n(10),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};var l=i.a.createContext||function(t,e){var n,i,a="__create-react-context-"+function(){var t="__global_unique_id__";return c[t]=(c[t]||0)+1}()+"__",l=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=function(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter(function(e){return e!==t})},get:function(){return t},set:function(n,r){t=n,e.forEach(function(e){return e(t,r)})}}}(e.props.value),e}Object(o.a)(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):u,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return f.contextTypes=((i={})[a]=s.a.object,i),{Provider:l,Consumer:f}};e.a=l}).call(this,n(40))},function(t,e,n){var r=n(254);t.exports=d,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var f=n[0],h=n[1],d=n.index;if(s+=t.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=t[a],v=n[2],g=n[3],m=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,k="?"===b||"*"===b,O=n[2]||l,T=m||y;r.push({name:g||o++,prefix:v||"",delimiter:O,optional:k,repeat:x,partial:w,asterisk:!!_,pattern:T?c(T):_?".*":"[^"+u(O)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",f(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function f(t){return t&&t.sensitive?"":"i"}function h(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";e.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(d(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),e)}(t,e,n):function(t,e,n){return h(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(40))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(74),i=n(52);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(43),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e,n){var r=n(33).Uint8Array;t.exports=r},function(t,e,n){var r=n(93)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(96),i=n(74);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(74),i=n(52),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(98),i=n(174),o=n(48);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(173),i=n(76),o=n(38),a=n(78),s=n(80),u=n(79),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),d=n||l||f||h,p=d?r(t.length,String):[],v=p.length;for(var g in t)!e&&!c.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},function(t,e,n){var r=n(176),i=n(183);t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){var r=n(187),i=n(211),o=n(81),a=n(38),s=n(222);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(189),i=n(44);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(190),i=n(193),o=n(194),a=1,s=2;t.exports=function(t,e,n,u,c,l){var f=n&a,h=t.length,d=e.length;if(h!=d&&!(f&&d>h))return!1;var p=l.get(t),v=l.get(e);if(p&&v)return p==e&&v==t;var g=-1,m=!0,y=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++g<h;){var b=t[g],_=e[g];if(u)var w=f?u(_,b,g,e,t,l):u(b,_,g,t,e,l);if(void 0!==w){if(w)continue;m=!1;break}if(y){if(!i(e,function(t,e){if(!o(y,e)&&(b===t||c(b,t,n,u,l)))return y.push(e)})){m=!1;break}}else if(b!==_&&!c(b,_,n,u,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},function(t,e,n){var r=n(37);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(106),i=n(65);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(38),i=n(82),o=n(213),a=n(216);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(22);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(22),i=n(238),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!==typeof XMLHttpRequest?t=n(111):"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e)&&(t=n(111)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(o)}),t.exports=s}).call(this,n(53))},function(t,e,n){"use strict";var r=n(22),i=n(239),o=n(241),a=n(108),s=n(242),u=n(245),c=n(246),l=n(112);t.exports=function(t){return new Promise(function(e,n){var f=t.data,h=t.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+v)}var g=s(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:t,request:d};i(e,n,o),d=null}},d.onabort=function(){d&&(n(l("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=(t.withCredentials||c(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;m&&(h[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&r.forEach(h,function(t,e){"undefined"===typeof f&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(y){if("json"!==t.responseType)throw y}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),n(t),d=null)}),f||(f=null),d.send(f)})}},function(t,e,n){"use strict";var r=n(240);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";var r=n(22);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function c(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(t[i],e[i])}r.forEach(i,function(t){r.isUndefined(e[t])||(n[t]=u(void 0,e[t]))}),r.forEach(o,c),r.forEach(a,function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(void 0,e[i])}),r.forEach(s,function(r){r in e?n[r]=u(t[r],e[r]):r in t&&(n[r]=u(void 0,t[r]))});var l=i.concat(o).concat(a).concat(s),f=Object.keys(t).concat(Object.keys(e)).filter(function(t){return-1===l.indexOf(t)});return r.forEach(f,c),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(124)},function(t,e,n){var r=n(127),i=n(99)(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){var r=n(186)(n(225));t.exports=r},function(t,e){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=t[c],f=e[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},function(t,e,n){"use strict";e.a=function(t){function e(t,e,r){var i=e.trim().split(p);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=n(t,e[s],r).trim();break;default:var u=s=0;for(e=[];s<o;++s)for(var c=0;c<a;++c)e[u++]=n(t[c]+" ",i[s],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(v,"$1"+t.trim());case 58:return t.trim()+e.replace(v,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(v,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var a=t+";",s=2*e+3*n+4*o;if(944===s){t=a.indexOf(":",9)+1;var u=a.substring(t,a.length-1).trim();return u=a.substring(0,t).trim()+u+";",1===C||2===C&&i(u,1)?"-webkit-"+u+u:u}if(0===C||2===C&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return h.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(e=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(u=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===O.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),N(2!==e?r:r.replace(k,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(w," or ($1)").substring(4):"("+e+")"}function a(t,e,n,r,i,o,a,s,c,l){for(var f,h=0,d=e;h<j;++h)switch(f=P[h].call(u,t,d,n,r,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==e)return d}function s(t){return void 0!==(t=t.prefix)&&(N=null,t?"function"!==typeof t?C=1:(C=2,N=t):C=0),s}function u(t,n){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<j){var u=a(-1,n,s,s,S,E,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var f=function t(n,s,u,f,h){for(var d,p,v,b,w,x=0,k=0,O=0,T=0,P=0,N=0,D=v=d=0,M=0,L=0,F=0,U=0,V=u.length,B=V-1,z="",q="",W="",H="";M<V;){if(p=u.charCodeAt(M),M===B&&0!==k+T+O+x&&(0!==k&&(p=47===k?10:47),T=O=x=0,V++,B++),0===k+T+O+x){if(M===B&&(0<L&&(z=z.replace(l,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:t:{for(D=M+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break t}break;case 10:if(47===p){M=D+1;break t}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}switch(v=u.substring(U,M),0===d&&(d=(z=z.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<L&&(z=z.replace(l,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=A}if(U=(v=t(s,L,v,p,h+1)).length,0<j&&(w=a(3,v,L=e(A,z,F),s,S,E,U,p,h,f),z=L.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(_,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(g,"$1 $2"))+"{"+v+"}",v=1===C||2===C&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===f&&(q+=v,v="")}else v="";break;default:v=t(s,e(s,z,F),v,f,h+1)}W+=v,v=F=L=D=d=0,z="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<L?z.replace(l,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<j&&void 0!==(w=a(1,z,s,n,S,E,q.length,f,h,f))&&0===(U=(z=w.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=z+u.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=r(z,d,p,z.charCodeAt(2)))}F=L=D=d=0,z="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===k?k=0:0===1+d&&107!==f&&0<z.length&&(L=1,z+="\0"),0<j*R&&a(0,z,s,n,S,E,q.length,f,h,f),E=1,S++;break;case 59:case 125:if(0===k+T+O+x){E++;break}default:switch(E++,b=u.charAt(M),p){case 9:case 32:if(0===T+x+k)switch(P){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===T+k+x&&(L=F=1,b="\f"+b);break;case 108:if(0===T+k+x+I&&0<D)switch(M-D){case 2:112===P&&58===u.charCodeAt(M-3)&&(I=P);case 8:111===N&&(I=N)}break;case 58:0===T+k+x&&(D=M);break;case 44:0===k+O+T+x&&(L=1,b+="\r");break;case 34:case 39:0===k&&(T=T===p?0:0===T?p:T);break;case 91:0===T+k+O&&x++;break;case 93:0===T+k+O&&x--;break;case 41:0===T+k+x&&O--;break;case 40:if(0===T+k+x){if(0===d)switch(2*P+3*N){case 533:break;default:d=1}O++}break;case 64:0===k+O+T+x+D+v&&(v=1);break;case 42:case 47:if(!(0<T+x+O))switch(k){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:k=47;break;case 220:U=M,k=42}break;case 42:47===p&&42===P&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),b="",k=0)}}0===k&&(z+=b)}N=P,P=p,M++}if(0<(U=q.length)){if(L=s,0<j&&void 0!==(w=a(2,q,L,n,S,E,U,f,h,f))&&0===(q=w).length)return H+q+W;if(q=L.join(",")+"{"+q+"}",0!==C*I){switch(2!==C||i(q,2)||(I=0),I){case 111:q=q.replace(y,":-moz-$1")+q;break;case 112:q=q.replace(m,"::-webkit-input-$1")+q.replace(m,"::-moz-$1")+q.replace(m,":-ms-input-$1")+q}I=0}}return H+q+W}(A,s,n,0,0);return 0<j&&void 0!==(u=a(-2,f,s,s,S,E,f.length,0,0,0))&&(f=u),I=0,E=S=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,d=/([,: ])(transform)/g,p=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,x=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,E=1,S=1,I=0,C=1,A=[],P=[],j=0,N=null,R=0;return u.use=function t(e){switch(e){case void 0:case null:j=P.length=0;break;default:if("function"===typeof e)P[j++]=e;else if("object"===typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else R=0|!!e}return t},u.set=s,void 0!==t&&s(t),u}},function(t,e,n){"use strict";e.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(t,e,n){"use strict";var r,i,o=n(3),a=(n(255),n(256),n(2)),s=n(11),u=(n(20),n(15)),c=n(12),l={Firestore:u.c,GeoPoint:u.h,Timestamp:u.e,Blob:u.n,Transaction:u.g,WriteBatch:u.f,DocumentReference:u.m,DocumentSnapshot:u.a,Query:u.i,QueryDocumentSnapshot:u.b,QuerySnapshot:u.j,CollectionReference:u.s,FieldPath:u.o,FieldValue:u.r,setLogLevel:u.p,CACHE_SIZE_UNLIMITED:u.t};(function(t,e){t.INTERNAL.registerComponent(new c.Component("firestore",function(t){return function(t,e){return new u.c(t,new u.k(t,e),new u.d)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},l)))})(r=o.default),r.registerVersion("@firebase/firestore","2.3.0"),(i=u.c).prototype.loadBundle=u.l,i.prototype.namedQuery=u.q;var f=n(0),h={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(f.__extends)(e,t),e}(Error);var p=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t;return Object(f.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){return Object(f.__generator)(this,function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(r){return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function v(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var g=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"===typeof t||"object"===typeof t)return v(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"===typeof t||"object"===typeof t?v(t,function(t){return e.decode(t)}):t},t}();var m=function(){function t(t,e,n,i,o,a){var s=this;void 0===o&&(o="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new g,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new p(e,n),this.cancelAllRequests=new Promise(function(t){s.deleteService=function(){return t()}});try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(f.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(f.__generator)(this,function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},t.prototype.getAppCheckToken=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t;return Object(f.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return Object(f.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,p,v,g,m;return Object(f.__generator)(this,function(f){switch(f.label){case 0:return i=this._url(t),e=this.serializer.encode(e),o={data:e},a={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new d("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(u),l=c.timer,p=c.promise,[4,Promise.race([y(l,this.postJSON(i,o,a)),p,y(l,this.cancelAllRequests)])];case 2:if(!(v=f.sent()))throw new d("cancelled","Firebase Functions instance was deleted.");if(g=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),o=i,a=void 0;try{var s=e&&e.error;if(s){var u=s.status;if("string"===typeof u){if(!h[u])return new d("internal","internal");i=h[u],o=u}var c=s.message;"string"===typeof c&&(o=c),void 0!==(a=s.details)&&(a=n.decode(a))}}catch(r){}return"ok"===i?null:new d(i,o,a)}(v.status,v.json,this.serializer))throw g;if(!v.json)throw new d("internal","Response is not valid JSON object.");if("undefined"===typeof(m=v.json.data)&&(m=v.json.result),"undefined"===typeof m)throw new d("internal","Response is missing data field.");return[2,{data:this.serializer.decode(m)}]}})})},t}();function y(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}var b="functions";!function(t,e){var n={Functions:m};t.INTERNAL.registerComponent(new c.Component(b,function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new m(i,o,s,a,r,e)},"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(o.default,fetch.bind(self)),o.default.registerVersion("@firebase/functions","0.6.8");var _,w=n(42),x="@firebase/installations",k="0.4.26",O=1e4,T="w:"+k,E="FIS_v2",S="https://firebaseinstallations.googleapis.com/v1",I=36e5,C=((_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',_["not-registered"]="Firebase Installation is not registered.",_["installation-not-found"]="Firebase Installation not found.",_["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',_["app-offline"]="Could not process request. Application offline.",_["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",_),A=new a.ErrorFactory("installations","Installations",C);function P(t){return t instanceof a.FirebaseError&&t.code.includes("request-failed")}function j(t){var e=t.projectId;return S+"/projects/"+e+"/installations"}function N(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function R(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,A.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function D(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function M(t,e){var n=e.refreshToken,r=D(t);return r.append("Authorization",function(t){return E+" "+t}(n)),r}function L(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function F(t,e){var n=e.fid;return Object(f.__awaiter)(this,void 0,void 0,function(){var e,r,i,o,a,s;return Object(f.__generator)(this,function(u){switch(u.label){case 0:return e=j(t),r=D(t),i={fid:n,authVersion:E,appId:t.appId,sdkVersion:T},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,L(function(){return fetch(e,o)})];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:N(s.authToken)}];case 3:return[4,R("Create Installation",a)];case 4:throw u.sent()}})})}function U(t){return new Promise(function(e){setTimeout(e,t)})}var V=/^[cdef][\w-]{21}$/,B="";function z(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(f.__spreadArray)([],Object(f.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return V.test(e)?e:B}catch(n){return B}}function q(t){return t.appName+"!"+t.appId}var W=new Map;function H(t,e){var n=q(t);K(n,e),function(t,e){var n=Y();n&&n.postMessage({key:t,fid:e});$()}(n,e)}function K(t,e){var n,r,i=W.get(t);if(i)try{for(var o=Object(f.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var G=null;function Y(){return!G&&"BroadcastChannel"in self&&((G=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){K(t.data.key,t.data.fid)}),G}function $(){0===W.size&&G&&(G.close(),G=null)}var Q,X,J="firebase-installations-database",Z=1,tt="firebase-installations-store",et=null;function nt(){return et||(et=Object(w.openDb)(J,Z,function(t){switch(t.oldVersion){case 0:t.createObjectStore(tt)}})),et}function rt(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(f.__generator)(this,function(s){switch(s.label){case 0:return n=q(t),[4,nt()];case 1:return r=s.sent(),i=r.transaction(tt,"readwrite"),[4,(o=i.objectStore(tt)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||H(t,e.fid),[2,e]}})})}function it(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return e=q(t),[4,nt()];case 1:return n=i.sent(),[4,(r=n.transaction(tt,"readwrite")).objectStore(tt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function ot(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(f.__generator)(this,function(u){switch(u.label){case 0:return n=q(t),[4,nt()];case 1:return r=u.sent(),i=r.transaction(tt,"readwrite"),[4,(o=i.objectStore(tt)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||H(t,s.fid),[2,s]}})})}function at(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,ot(t,function(n){var r=function(t){return ct(t||{fid:z(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(A.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,F(t,e)];case 1:return n=i.sent(),[2,rt(t,n)];case 2:return P(r=i.sent())&&409===r.customData.serverCode?[4,it(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,rt(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:st(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return(n=i.sent()).fid!==B?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function st(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(f.__generator)(this,function(o){switch(o.label){case 0:return[4,ut(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,U(100)];case 3:return o.sent(),[4,ut(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,at(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function ut(t){return ot(t,function(t){if(!t)throw A.create("installation-not-found");return ct(t)})}function ct(t){return 1===(e=t).registrationStatus&&e.registrationTime+O<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function lt(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(f.__awaiter)(this,void 0,void 0,function(){var t,i,o,a,s,u,c;return Object(f.__generator)(this,function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return j(t)+"/"+n+"/authTokens:generate"}(n,e),i=M(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:T}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,L(function(){return fetch(t,s)})];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,N(c)];case 3:return[4,R("Generate Auth Token",u)];case 4:throw l.sent()}})})}function ft(t,e){return void 0===e&&(e=!1),Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(f.__generator)(this,function(o){switch(o.label){case 0:return[4,ot(t.appConfig,function(r){if(!dt(r))throw A.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+I}(i)){if(1===o.requestStatus)return n=function(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,ht(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,U(100)];case 3:return i.sent(),[4,ht(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,ft(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw A.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(f.__assign)(Object(f.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(f.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,lt(t,e)];case 1:return n=o.sent(),i=Object(f.__assign)(Object(f.__assign)({},e),{authToken:n}),[4,rt(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!P(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,it(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(f.__assign)(Object(f.__assign)({},e),{authToken:{requestStatus:0}}),[4,rt(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,a),a}return r})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function ht(t){return ot(t,function(t){if(!dt(t))throw A.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+O<Date.now()?Object(f.__assign)(Object(f.__assign)({},t),{authToken:{requestStatus:0}}):t})}function dt(t){return void 0!==t&&2===t.registrationStatus}function pt(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return[4,at(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function vt(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(f.__generator)(this,function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return j(t)+"/"+n}(t,e),r=M(t,e),i={method:"DELETE",headers:r},[4,L(function(){return fetch(n,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,R("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function gt(t,e){var n=t.appConfig;return function(t,e){Y();var n=q(t),r=W.get(n);r||(r=new Set,W.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=q(t),r=W.get(n);r&&(r.delete(e),0===r.size&&W.delete(n),$())}(n,e)}}function mt(t){return A.create("missing-app-config-values",{valueName:t})}(Q=o.default).INTERNAL.registerComponent(new c.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw mt("App Configuration");if(!t.name)throw mt("App Name");try{for(var r=Object(f.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw mt(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,at(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):ft(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(f.__awaiter)(this,void 0,void 0,function(){return Object(f.__generator)(this,function(n){switch(n.label){case 0:return[4,pt(t.appConfig)];case 1:return n.sent(),[4,ft(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return[4,ot(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw A.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw A.create("app-offline");case 3:return[4,vt(e,n)];case 4:return r.sent(),[4,it(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return gt(n,t)}}},"PUBLIC")),Q.registerVersion(x,k);var yt,bt=((X={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',X["only-available-in-window"]="This method is available in a Window context.",X["only-available-in-sw"]="This method is available in a service worker context.",X["permission-default"]="The notification permission was not granted and dismissed instead.",X["permission-blocked"]="The notification permission was not granted and blocked instead.",X["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",X["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",X["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",X["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",X["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",X["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",X["token-update-no-token"]="FCM returned no token when updating the user to push.",X["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",X["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",X["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",X["invalid-vapid-key"]="The public VAPID key must be a string.",X["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",X),_t=new a.ErrorFactory("messaging","Messaging",bt),wt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xt="https://fcmregistrations.googleapis.com/v1",kt="FCM_MSG",Ot="google.c.a.c_id";function Tt(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(f.__spreadArray)([],Object(f.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Et(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(yt||(yt={}));var St="fcm_token_details_db",It=5,Ct="fcm_token_object_Store";function At(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r=this;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map(function(t){return t.name}).includes(St))return[2,null];i.label=2;case 2:return n=null,[4,Object(w.openDb)(St,It,function(e){return Object(f.__awaiter)(r,void 0,void 0,function(){var r,i,o,a;return Object(f.__generator)(this,function(s){switch(s.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(Ct)?[4,(r=e.transaction.objectStore(Ct)).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Tt(o.vapidKey)}}}else 3===e.oldVersion?n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Tt(o.auth),p256dh:Tt(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Tt(o.vapidKey)}}:4===e.oldVersion&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Tt(o.auth),p256dh:Tt(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Tt(o.vapidKey)}});return[2]}})})})];case 3:return i.sent().close(),[4,Object(w.deleteDb)(St)];case 4:return i.sent(),[4,Object(w.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(w.deleteDb)("undefined")];case 6:return i.sent(),[2,Pt(n)?n:null]}})})}function Pt(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}var jt="firebase-messaging-database",Nt=1,Rt="firebase-messaging-store",Dt=null;function Mt(){return Dt||(Dt=Object(w.openDb)(jt,Nt,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Rt)}})),Dt}function Lt(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return e=Vt(t),[4,Mt()];case 1:return[4,i.sent().transaction(Rt).objectStore(Rt).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,At(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,Ft(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function Ft(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(f.__generator)(this,function(o){switch(o.label){case 0:return n=Vt(t),[4,Mt()];case 1:return r=o.sent(),[4,(i=r.transaction(Rt,"readwrite")).objectStore(Rt).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function Ut(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return e=Vt(t),[4,Mt()];case 1:return n=i.sent(),[4,(r=n.transaction(Rt,"readwrite")).objectStore(Rt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Vt(t){return t.appConfig.appId}function Bt(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(f.__generator)(this,function(u){switch(u.label){case 0:return[4,Ht(t)];case 1:n=u.sent(),r=Kt(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Wt(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),_t.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,_t.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw _t.create("token-subscribe-no-token");return[2,o.token]}})})}function zt(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(f.__generator)(this,function(u){switch(u.label){case 0:return[4,Ht(t)];case 1:n=u.sent(),r=Kt(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Wt(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),_t.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,_t.create("token-update-failed",{errorInfo:s});if(!o.token)throw _t.create("token-update-no-token");return[2,o.token]}})})}function qt(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(f.__generator)(this,function(s){switch(s.label){case 0:return[4,Ht(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Wt(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,_t.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),_t.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}})})}function Wt(t){var e=t.projectId;return xt+"/projects/"+e+"/registrations"}function Ht(t){var e=t.appConfig,n=t.installations;return Object(f.__awaiter)(this,void 0,void 0,function(){var t;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function Kt(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==wt&&(o.web.applicationPubKey=i),o}var Gt=6048e5;function Yt(t,e,n){return Object(f.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return Object(f.__generator)(this,function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw _t.create("permission-blocked");return[4,Jt(e,n)];case 1:return r=s.sent(),[4,Lt(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Tt(r.getKey("auth")),p256dh:Tt(r.getKey("p256dh"))},i?[3,3]:[2,Xt(t,o)];case 3:if(function(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,qt(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Xt(t,o)];case 8:return Date.now()>=i.createTime+Gt?[2,Qt({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function $t(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,Lt(t)];case 1:return(n=i.sent())?[4,qt(t,n.token)]:[3,4];case 2:return i.sent(),[4,Ut(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function Qt(t,e,n){return Object(f.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(f.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,zt(e,t)];case 1:return r=a.sent(),i=Object(f.__assign)(Object(f.__assign)({},t),{token:r,createTime:Date.now()}),[4,Ft(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,$t(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function Xt(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,Bt(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Ft(t,r)];case 2:return i.sent(),[2,r.token]}})})}function Jt(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Et(e)})]}})})}function Zt(t){return"object"===typeof t&&!!t&&Ot in t}function te(t){return new Promise(function(e){setTimeout(e,t)})}var ee=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw _t.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(f.__awaiter)(this,void 0,void 0,function(){var n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Lt(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:wt,r.label=2;case 2:return[2,Yt(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return $t(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw _t.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw _t.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw _t.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw _t.create("only-available-in-window")},t.prototype.onMessage=function(){throw _t.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw _t.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(f.__generator)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,oe()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,ie(n,e)]:(r=!1,e.notification?[4,ae(ne(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,te(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(f.__awaiter)(this,void 0,void 0,function(){var r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,$t(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Lt(this.firebaseDependencies)];case 3:return r=i.sent(),[4,$t(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Yt(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:wt)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(f.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(f.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[kt])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Zt(t.data)?self.location.origin:null}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,re(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,te(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=yt.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}})})},t}();function ne(t){var e,n=Object(f.__assign)({},t.notification);return n.data=((e={})[kt]=t,e),n}function re(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return Object(f.__generator)(this,function(u){switch(u.label){case 0:return[4,oe()];case 1:e=u.sent();try{for(n=Object(f.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function ie(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=yt.PUSH_RECEIVED;try{for(var i=Object(f.__values)(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function oe(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ae(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var se=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===yt.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Zt(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){return Object(f.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw _t.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Yt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){return Object(f.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=wt),[2]})})},t.prototype.updateSwReg=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){return Object(f.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw _t.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),_t.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){return Object(f.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,$t(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t;return Object(f.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?_t.create("permission-blocked"):_t.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw _t.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw _t.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw _t.create("invalid-sw-registration");if(this.swRegistration)throw _t.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw _t.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw _t.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case yt.NOTIFICATION_CLICKED:return"notification_open";case yt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[Ot],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function ue(t){return _t.create("missing-app-config-values",{valueName:t})}var ce={isSupported:le};function le(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.default.INTERNAL.registerComponent(new c.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw ue("App Configuration Object");if(!t.name)throw ue("App Name");var r=t.options;try{for(var i=Object(f.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw ue(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!le())throw _t.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ee(n):new se(n)},"PUBLIC").setServiceProps(ce));var fe="firebasestorage.googleapis.com",he="storageBucket",de=12e4,pe=6e5,ve=function(t){function e(n,r){var i=t.call(this,ge(n),"Firebase Storage: "+r+" ("+ge(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(f.__extends)(e,t),e.prototype._codeEquals=function(t){return ge(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(a.FirebaseError);function ge(t){return"storage/"+t}function me(){return new ve("unknown","An unknown error occurred, please check the error payload for server response.")}function ye(){return new ve("canceled","User canceled the upload/download.")}function be(){return new ve("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _e(t){return new ve("invalid-argument",t)}function we(){return new ve("app-deleted","The Firebase app was deleted.")}function xe(t){return new ve("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ke(t,e){return new ve("invalid-format","String does not match format '"+t+"': "+e)}function Oe(t){throw new ve("internal-error","Internal error: "+t)}var Te={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ee=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Se(t,e){switch(t){case Te.RAW:return new Ee(Ie(e));case Te.BASE64:case Te.BASE64URL:return new Ee(Ce(t,e));case Te.DATA_URL:return new Ee(function(t){var e=new Ae(t);return e.base64?Ce(Te.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(r){throw ke(Te.DATA_URL,"Malformed data URL.")}return Ie(e)}(e.rest)}(e),new Ae(e).contentType)}throw me()}function Ie(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Ce(t,e){switch(t){case Te.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw ke(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Te.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a)throw ke(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(r){throw ke(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var Ae=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw ke(Te.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i}}();var Pe,je={STATE_CHANGED:"state_changed"},Ne={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Re(t){switch(t){case"running":case"pausing":case"canceling":return Ne.RUNNING;case"paused":return Ne.PAUSED;case"success":return Ne.SUCCESS;case"canceled":return Ne.CANCELED;case"error":default:return Ne.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Pe||(Pe={}));var De=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Pe.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Pe.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Pe.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Oe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Oe("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Oe("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Oe("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Me=function(){function t(){}return t.prototype.createXhrIo=function(){return new De},t}(),Le=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var i;try{i=t.makeFromUrl(e,n)}catch(r){return new t(e,"")}if(""===i.path)return i;throw new ve("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var f=l[c.indices.bucket],h=l[c.indices.path];h||(h=""),r=new t(f,h),c.postModify(r);break}}if(null==r)throw function(t){return new ve("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),Fe=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Ue(t){return"string"===typeof t||t instanceof String}function Ve(t){return Be()&&t instanceof Blob}function Be(){return"undefined"!==typeof Blob}function ze(t,e,n,r){if(r<e)throw _e("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw _e("Invalid value for '"+t+"'. Expected "+n+" or less.")}function qe(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function We(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}var He=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){f.resolve_=t,f.reject_=e,f.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,o=t.resolve_,a=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());void 0!==u?o(u):o()}catch(r){a(r)}else null!==s?((i=me()).serverResponse=s.getResponseText(),t.errorCallback_?a(t.errorCallback_(s,i)):a(i)):n.canceled?a(i=t.appDelete_?we():ye()):a(i=new ve("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Ke(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout(function(){i=null,t(h,s())},e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?c.call.apply(c,Object(f.__spreadArray)([null,t],n)):s()||o?c.call.apply(c,Object(f.__spreadArray)([null,t],n)):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),l(e)))}var d=!1;function p(t){d||(d=!0,u||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout(function(){o=!0,p(!0)},n),p}(function(e,n){if(n)e(!1,new Ke(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Pe.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new Ke(a,n))}else{var s=n.getErrorCode()===Pe.ABORT;e(!1,new Ke(!1,null,s))}})}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Ke=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Ge(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var Ye=function(){function t(t,e){var n=0,r="";Ve(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Ve(this.data_)){var r=this.data_,i=(a=e,s=n,(o=r).webkitSlice?o.webkitSlice(a,s):o.mozSlice?o.mozSlice(a,s):o.slice?o.slice(a,s):null);return null===i?null:new t(i)}var o,a,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Be()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ge();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Be())return new Blob(t);throw new ve("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,r))}var i=e.map(function(t){return Ue(t)?Se(Te.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function $e(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e}function Qe(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Xe(t,e){return e}var Je=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Xe}}(),Ze=null;function tn(){if(Ze)return Ze;var t=[];t.push(new Je("bucket")),t.push(new Je("generation")),t.push(new Je("metageneration")),t.push(new Je("name","fullPath",!0));var e=new Je("name");e.xform=function(t,e){return function(t){return!Ue(t)||t.length<2?t:Qe(t)}(e)},t.push(e);var n=new Je("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Je("timeCreated")),t.push(new Je("updated")),t.push(new Je("md5Hash",null,!0)),t.push(new Je("cacheControl",null,!0)),t.push(new Je("contentDisposition",null,!0)),t.push(new Je("contentEncoding",null,!0)),t.push(new Je("contentLanguage",null,!0)),t.push(new Je("contentType",null,!0)),t.push(new Je("metadata","customMetadata",!0)),Ze=t}function en(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new Le(n,r);return e._makeStorageReference(i)}})}(r,t),r}function nn(t,e,n){var r=$e(e);return null===r?null:en(t,r,n)}function rn(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var on="prefixes",an="items";function sn(t,e,n){var r=$e(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[on])for(var i=0,o=n[on];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new Le(e,a));r.prefixes.push(s)}if(n[an])for(var u=0,c=n[an];u<c.length;u++){var l=c[u];s=t._makeStorageReference(new Le(e,l.name)),r.items.push(s)}return r}(t,e,r)}var un=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function cn(t){if(!t)throw me()}function ln(t,e){return function(n,r){var i=nn(t,r,e);return cn(null!==i),i}}function fn(t,e){return function(n,r){var i=nn(t,r,e);return cn(null!==i),function(t,e,n){var r=$e(e);if(null===r)return null;if(!Ue(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.bucket,i=t.fullPath;return qe("/b/"+o(r)+"/o/"+o(i),n)+We({alt:"media",token:e})})[0]}(i,r,t.host)}}function hn(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new ve("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ve("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new ve("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new ve("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function dn(t){var e=hn(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new ve("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function pn(t,e,n){var r=qe(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new un(r,"GET",ln(t,n),i);return o.errorHandler=dn(e),o}function vn(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=qe(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new un(a,"GET",function(t,e){return function(n,r){var i=sn(t,e,r);return cn(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=hn(e),u}function gn(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var mn=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function yn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){cn(!1)}return cn(!!n&&-1!==(e||["active"]).indexOf(n)),n}function bn(t,e,n,r,i,o,a,s){var u=new mn(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ve("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(f,h);if(null===p)throw be();var v=e.maxUploadRetryTime,g=new un(n,"POST",function(t,n){var i,a=yn(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?ln(e,o)(t,n):null,new mn(s,c,"final"===a,i)},v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=hn(t),g}var _n=function(){return function(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function wn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var xn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=tn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var i=function(t,e,n,i,o){var a=e.bucketOnlyServerUrl(),s=gn(e,i,o),u={name:s.fullPath},c=qe(a,t.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=rn(s,n),h=t.maxUploadRetryTime,d=new un(c,"POST",function(t){var e;yn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(r){cn(!1)}return cn(Ue(e)),e},h);return d.urlParams=u,d.headers=l,d.body=f,d.errorHandler=hn(e),d}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(i,e,n);t._request=o,o.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,i){var o=function(t,e,n,i){var o=t.maxUploadRetryTime,a=new un(n,"POST",function(t){var e=yn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){cn(!1)}n||cn(!1);var o=Number(n);return cn(!isNaN(o)),new mn(o,i.size(),"final"===e)},o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=hn(e),a}(t._ref.storage,t._ref._location,e,t._blob),a=t._ref.storage._makeRequest(o,n,i);t._request=a,a.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new mn(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var s;try{s=bn(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(r){return t._error=r,void t._transition("error")}var u=t._ref.storage._makeRequest(s,o,a);t._request=u,u.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=pn(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=gn(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rn(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Ye.getBlob(c,r,l);if(null===f)throw be();var h={name:u.fullPath},d=qe(o,t.host),p=t.maxUploadRetryTime,v=new un(d,"POST",ln(t,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=hn(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=ye(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Re(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new _n(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Re(this._state)){case Ne.SUCCESS:wn(this._resolve.bind(null,this.snapshot))();break;case Ne.CANCELED:case Ne.ERROR:wn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Re(this._state)){case Ne.RUNNING:case Ne.PAUSED:t.next&&wn(t.next.bind(t,this.snapshot))();break;case Ne.SUCCESS:t.complete&&wn(t.complete.bind(t))();break;case Ne.CANCELED:case Ne.ERROR:t.error&&wn(t.error.bind(t,this._error))();break;default:t.error&&wn(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),kn=function(){function t(t,e){this._service=t,this._location=e instanceof Le?e:Le.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Le(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Qe(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Le(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw xe(t)},t}();function On(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(f.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(f.__generator)(this,function(s){switch(s.label){case 0:return[4,Tn(e,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}(t,e).then(function(){return e})}function Tn(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&ze("options.maxResults",1,1e3,e.maxResults),n=e||{},r=vn(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function En(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=qe(e.fullServerUrl(),t.host),o=rn(n,r),a=t.maxOperationRetryTime,s=new un(i,"PATCH",ln(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=dn(e),s}(t.storage,t._location,e,tn()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Sn(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=qe(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new un(r,"GET",fn(t,n),i);return o.errorHandler=dn(e),o}(t.storage,t._location,tn()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new ve("no-download-url","The given file does not have any download URLs.");return t})]}})})}function In(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=qe(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,i=new un(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=dn(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function Cn(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Le(t._location.bucket,n);return new kn(t.storage,r)}function An(t){return/^[A-Za-z]+:\/\//.test(t)}function Pn(t,e){if(t instanceof Rn){var n=t;if(null==n._bucket)throw new ve("no-default-bucket","No default bucket found. Did you set the '"+he+"' property when initializing the app?");var r=new kn(n,n._bucket);return null!=e?Pn(r,e):r}if(void 0!==e){if(e.includes(".."))throw _e('`path` param cannot contain ".."');return Cn(t,e)}return t}function jn(t,e){if(e&&An(e)){if(t instanceof Rn)return new kn(t,e);throw _e("To use ref(service, url), the first argument must be a Storage instance.")}return Pn(t,e)}function Nn(t,e){var n=null===e||void 0===e?void 0:e[he];return null==n?null:Le.makeFromBucketSpec(n,t)}var Rn=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=fe,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=de,this._maxUploadRetryTime=pe,this._requests=new Set,this._bucket=null!=i?Le.makeFromBucketSpec(i,this._host):Nn(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=Le.makeFromBucketSpec(this._url,t):this._bucket=Nn(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){ze("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){ze("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t;return Object(f.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new kn(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new Fe(we());var i=function(t,e,n,r,i,o){var a=We(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new He(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}})})},t}();function Dn(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new xn(t,new Ye(e),n)}(t=Object(a.getModularInstance)(t),e,n)}function Mn(t){return function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=pn(t.storage,t._location,tn()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(a.getModularInstance)(t))}function Ln(t,e){return jn(t=Object(a.getModularInstance)(t),e)}var Fn=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Un=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Fn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Fn(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new Fn(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Fn(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Vn=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Bn(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Bn(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Bn=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Cn(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Un(Dn(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Te.RAW),this._throwIfRoot("putString");var r=Se(e,t),i=Object(f.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Un(new xn(this._delegate,new Ye(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,On(t=Object(a.getModularInstance)(t))).then(function(t){return new Vn(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return Tn(t=Object(a.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new Vn(t,e.storage)})},t.prototype.getMetadata=function(){return Mn(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return En(t=Object(a.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,Sn(t=Object(a.getModularInstance)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,In(t=Object(a.getModularInstance)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw xe(t)},t}(),zn=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(An(t))throw _e("ref() expected a child path but got a URL, use refFromURL instead.");return new Bn(Ln(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!An(t))throw _e("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Le.makeFromUrl(t,this._delegate.host)}catch(r){throw _e("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bn(Ln(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}(),qn="@firebase/storage",Wn="0.5.2",Hn="storage";function Kn(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new zn(r,new Rn(r,i,a,new Me,n,o.default.SDK_VERSION))}!function(t){var e={TaskState:Ne,TaskEvent:je,StringFormat:Te,Storage:Rn,Reference:Bn};t.INTERNAL.registerComponent(new c.Component(Hn,Kn,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(qn,Wn)}(o.default);var Gn,Yn,$n,Qn="@firebase/performance",Xn="0.4.12",Jn=Xn,Zn="FB-PERF-TRACE-START",tr="FB-PERF-TRACE-STOP",er="FB-PERF-TRACE-MEASURE",nr="_wt_",rr="@firebase/performance/config",ir="@firebase/performance/configexpire",or=((Gn={})["trace started"]="Trace {$traceName} was started before.",Gn["trace stopped"]="Trace {$traceName} is not running.",Gn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Gn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Gn["no window"]="Window is not available.",Gn["no app id"]="App id is not available.",Gn["no project id"]="Project id is not available.",Gn["no api key"]="Api key is not available.",Gn["invalid cc log"]="Attempted to queue invalid cc event",Gn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Gn["RC response not ok"]="RC response is not ok",Gn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Gn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Gn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Gn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Gn),ar=new a.ErrorFactory("performance","Performance",or),sr=new s.Logger("Performance");sr.logLevel=s.LogLevel.INFO;var ur,cr=function(){function t(t){if(this.window=t,!t)throw ar.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(a.isIndexedDBAvailable)()||(sr.info("IndexedDB is not supported by current browswer"),!1):(sr.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Yn&&(Yn=new t($n)),Yn},t}();function lr(t,e){var n=t.length-e.length;if(n<0||n>1)throw ar.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var fr,hr,dr=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=lr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=lr("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw ar.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw ar.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw ar.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===ur&&(ur=new t),ur},t}();function pr(){return fr}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(hr||(hr={}));var vr=["firebase_","google_","ga_"],gr=new RegExp("^[a-zA-Z]\\w*$"),mr=40,yr=100;function br(){var t=cr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function _r(){switch(cr.getInstance().document.visibilityState){case"visible":return hr.VISIBLE;case"hidden":return hr.HIDDEN;default:return hr.UNKNOWN}}function wr(){var t=cr.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var xr="0.0.1",kr={loggingEnabled:!0},Or="FIREBASE_INSTALLATIONS_AUTH";function Tr(t){var e=function(){var t=cr.getInstance().localStorage;if(!t)return;var e=t.getItem(ir);if(!e||(n=e,!(Number(n)>Date.now())))return;var n;var r=t.getItem(rr);if(!r)return;try{var i=JSON.parse(r);return i}catch(o){return}}();return e?(Sr(e),Promise.resolve()):function(t){return function(){var t=dr.getInstance().installationsService.getToken();return t.then(function(t){}),t}().then(function(e){var n=dr.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+dr.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Or+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:dr.getInstance().getAppId(),app_version:Jn,sdk_version:xr})});return fetch(i).then(function(t){if(t.ok)return t.json();throw ar.create("RC response not ok")})}).catch(function(){sr.info(Er)})}(t).then(Sr).then(function(t){return function(t){var e=cr.getInstance().localStorage;if(!t||!e)return;e.setItem(rr,JSON.stringify(t)),e.setItem(ir,String(Date.now()+60*dr.getInstance().configTimeToLive*60*1e3))}(t)},function(){})}var Er="Could not fetch config, will use default configs";function Sr(t){if(!t)return t;var e=dr.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=kr.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Ir(e.tracesSamplingRate),e.logNetworkAfterSampling=Ir(e.networkRequestsSamplingRate),t}function Ir(t){return Math.random()<=t}var Cr,Ar=1;function Pr(){return Ar=2,Cr=Cr||function(){var t=cr.getInstance().document;return new Promise(function(e){t&&"complete"!==t.readyState?t.addEventListener("readystatechange",function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())}):e()})}().then(function(){return function(){var t=dr.getInstance().installationsService.getId();return t.then(function(t){fr=t}),t}()}).then(function(t){return Tr(t)}).then(function(){return jr()},function(){return jr()})}function jr(){Ar=3}var Nr,Rr=1e4,Dr=5500,Mr=3,Lr=1e3,Fr=Mr,Ur=[],Vr=!1;function Br(t){setTimeout(function(){if(0!==Fr)return Ur.length?void function(){var t=Ur.splice(0,Lr),e=t.map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}});(function(t,e){return function(t){var e=dr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||sr.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=Rr;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Ur=Object(f.__spreadArray)(Object(f.__spreadArray)([],e),Ur),sr.info("Retry transport request later.")),Fr=Mr,Br(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:dr.getInstance().logSource,log_event:e},t).catch(function(){Ur=Object(f.__spreadArray)(Object(f.__spreadArray)([],t),Ur),Fr--,sr.info("Tries left: "+Fr+"."),Br(Rr)})}():Br(Rr)},t)}function zr(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw ar.create("invalid cc log");Ur=Object(f.__spreadArray)(Object(f.__spreadArray)([],Ur),[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}function qr(t,e){Nr||(Nr=zr(Kr)),Nr(t,e)}function Wr(t){var e=dr.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&cr.getInstance().requiredApisAvailable()&&(t.isAuto&&_r()!==hr.VISIBLE||(3===Ar?Hr(t):Pr().then(function(){return Hr(t)},function(){return Hr(t)})))}function Hr(t){if(pr()){var e=dr.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return qr(t,1)},0)}}function Kr(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:Gr(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Gr(),trace_metric:e};return JSON.stringify(r)}(t)}function Gr(){return{google_app_id:dr.getInstance().getAppId(),app_instance_id:pr(),web_app_info:{sdk_version:Jn,page_url:cr.getInstance().getUrl(),service_worker_status:br(),visibility_state:_r(),effective_connection_type:wr()},application_process_state:0}}var Yr=100,$r="_",Qr=["_fp","_fcp","_fid"];var Xr=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=cr.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=Zn+"-"+this.randomId+"-"+this.name,this.traceStopMark=tr+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||er+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw ar.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw ar.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Wr(this)},t.prototype.record=function(t,e,n){if(t<=0)throw ar.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw ar.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(f.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Wr(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(n=t,r=this.name,0===n.length||n.length>Yr||!(r&&r.startsWith(nr)&&Qr.indexOf(n)>-1)&&n.startsWith($r))throw ar.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=function(t){var e=Math.floor(t);return e<t&&sr.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>mr)&&!vr.some(function(t){return n.startsWith(t)})&&!!n.match(gr),i=function(t){return 0!==t.length&&t.length<=yr}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw ar.create("invalid attribute name",{attributeName:t});if(!i)throw ar.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(f.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=cr.getInstance().getUrl();if(i){var o=new t(nr+i,!0),a=Math.floor(1e3*cr.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find(function(t){return"first-paint"===t.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}Wr(o)}},t.createUserTimingTrace=function(e){Wr(new t(e,!1,e))},t}();function Jr(t){var e=t;if(e&&void 0!==e.responseStart){var n=cr.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=dr.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return qr(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}var Zr=5e3;function ti(){pr()&&(setTimeout(function(){return function(){var t=cr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Xr.createOobTrace(e,n),r=void 0},Zr);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),Xr.createOobTrace(e,n,t))})}else Xr.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=cr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];Jr(i)}t.setupObserver("resource",Jr)}()},0),setTimeout(function(){return function(){for(var t=cr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];ei(i)}t.setupObserver("measure",ei)}()},0))}function ei(t){var e=t.name;e.substring(0,er.length)!==er&&Xr.createUserTimingTrace(e)}var ni=function(){function t(t){this.app=t,cr.getInstance().requiredApisAvailable()&&Object(a.validateIndexedDBOpenable)().then(function(t){t&&(Vr||(Br(Dr),Vr=!0),Pr().then(ti,ti))}).catch(function(t){sr.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new Xr(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return dr.getInstance().instrumentationEnabled},set:function(t){dr.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return dr.getInstance().dataCollectionEnabled},set:function(t){dr.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),ri="[DEFAULT]";!function(t){var e=function(t,e){if(t.name!==ri)throw ar.create("FB not default");if("undefined"===typeof window)throw ar.create("no window");return function(t){$n=t}(window),dr.getInstance().firebaseAppInstance=t,dr.getInstance().installationsService=e,new ni(t)};t.INTERNAL.registerComponent(new c.Component("performance",function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)},"PUBLIC")),t.registerVersion(Qn,Xn)}(o.default);var ii,oi,ai="firebase_id",si="origin",ui=6e4,ci="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",li="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(ii||(ii={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(oi||(oi={}));var fi,hi=new s.Logger("@firebase/analytics");function di(t,e,n,r,i,o){return Object(f.__awaiter)(this,void 0,void 0,function(){var a,s,u,c;return Object(f.__generator)(this,function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),hi.error(c),[3,8];case 8:return t(ii.CONFIG,i,o),[2]}})})}function pi(t,e,n,r,i){return Object(f.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l,h,d;return Object(f.__generator)(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(t){var n=s.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(ii.EVENT,r,i||{}),[3,5];case 4:return d=f.sent(),hi.error(d),[3,5];case 5:return[2]}})})}function vi(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return Object(f.__awaiter)(this,void 0,void 0,function(){var s;return Object(f.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==ii.EVENT?[3,2]:[4,pi(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==ii.CONFIG?[3,4]:[4,di(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(ii.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),hi.error(s),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var gi=((fi={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",fi["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",fi["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",fi["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",fi["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",fi["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",fi["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",fi["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',fi["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',fi),mi=new a.ErrorFactory("analytics","Analytics",gi),yi=30,bi=1e3,_i=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=bi),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function wi(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function xi(t){var e;return Object(f.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(f.__generator)(this,function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:wi(r)},o=ci.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw mi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}})})}function ki(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=_i),Object(f.__awaiter)(this,void 0,void 0,function(){var e,s,u,c,l,h,d;return Object(f.__generator)(this,function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Oi(n,i)];case 2:return f.sent(),[3,4];case 3:if(u=f.sent(),s)return hi.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u;case 4:return f.trys.push([4,6,,7]),[4,xi(t)];case 5:return c=f.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof a.FirebaseError)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l=f.sent())){if(r.deleteThrottleMetadata(e),s)return hi.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:e,measurementId:s}];throw l}return h=503===Number(l.customData.httpStatus)?Object(a.calculateBackoffMillis)(o,r.intervalMillis,yi):Object(a.calculateBackoffMillis)(o,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(e,d),hi.debug("Calling attemptFetch again in "+h+" millis"),[2,ki(t,d,n,r)];case 7:return[2]}})})}function Oi(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Ti=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}();function Ei(t,e,n,r,i,o){return Object(f.__awaiter)(this,void 0,void 0,function(){var s,u,c,l,h,d,p;return Object(f.__generator)(this,function(v){switch(v.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=_i),Object(f.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c=this;return Object(f.__generator)(this,function(l){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw mi.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw mi.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Ti,setTimeout(function(){return Object(f.__awaiter)(c,void 0,void 0,function(){return Object(f.__generator)(this,function(t){return u.abort(),[2]})})},void 0!==n?n:ui),[2,ki({appId:i,apiKey:o,measurementId:a},s,u,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&hi.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return hi.error(t)}),e.push(s),u=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t;return Object(f.__generator)(this,function(e){switch(e.label){case 0:return Object(a.isIndexedDBAvailable)()?[3,1]:(hi.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),hi.warn(mi.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([s,u])];case 1:return c=v.sent(),l=c[0],h=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(li))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=li+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,l.measurementId),i("js",new Date),(p={})[si]="firebase",p.update=!0,d=p,null!=h&&(d[ai]=h),i(ii.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}var Si,Ii,Ci={},Ai=[],Pi={},ji="dataLayer",Ni="gtag",Ri=!1;function Di(t){if(Ri)throw mi.create("already-initialized");t.dataLayerName&&(ji=t.dataLayerName),t.gtagName&&(Ni=t.gtagName)}function Mi(t,e){!function(){var t=[];if(Object(a.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(a.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=mi.create("invalid-analytics-context",{errorInfo:e});hi.warn(n.message)}}();var n=t.options.appId;if(!n)throw mi.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw mi.create("no-api-key");hi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ci[n])throw mi.create("already-exists",{id:n});if(!Ri){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ji);var r=vi(Ci,Ai,Pi,ji,Ni),i=r.wrappedGtag,o=r.gtagCore;Ii=i,Si=o,Ri=!0}return Ci[n]=Ei(t,Ai,Pi,e,Si,ji),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Object(f.__awaiter)(this,void 0,void 0,function(){var o,a;return Object(f.__generator)(this,function(s){switch(s.label){case 0:return i&&i.global?(t(ii.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Object(f.__assign)(Object(f.__assign)({},r),{send_to:o}),t(ii.EVENT,n,a),s.label=3;case 3:return[2]}})})})(Ii,Ci[n],t,e,r).catch(function(t){return hi.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(f.__awaiter)(this,void 0,void 0,function(){var i;return Object(f.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(ii.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ii.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(Ii,Ci[n],t,e).catch(function(t){return hi.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Object(f.__awaiter)(this,void 0,void 0,function(){var i;return Object(f.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(ii.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ii.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(Ii,Ci[n],t,e).catch(function(t){return hi.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Object(f.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(f.__generator)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(ii.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(ii.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(Ii,Ci[n],t,e).catch(function(t){return hi.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(Ci[n],t).catch(function(t){return hi.error(t)})},INTERNAL:{delete:function(){return delete Ci[n],Promise.resolve()}}}}var Li="@firebase/analytics",Fi="0.6.10",Ui="analytics";function Vi(){return Object(f.__awaiter)(this,void 0,void 0,function(){return Object(f.__generator)(this,function(t){switch(t.label){case 0:if(Object(a.isBrowserExtension)())return[2,!1];if(!Object(a.areCookiesEnabled)())return[2,!1];if(!Object(a.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new c.Component(Ui,function(t){return Mi(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Di,EventName:oi,isSupported:Vi})),t.INTERNAL.registerComponent(new c.Component("analytics-internal",function(t){try{var e=t.getProvider(Ui).getImmediate();return{logEvent:e.logEvent}}catch(r){throw mi.create("interop-component-reg-failed",{reason:r})}},"PRIVATE")),t.registerVersion(Li,Fi)}(o.default);var Bi,zi=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(f.__generator)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},t}(),qi=((Bi={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Bi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Bi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Bi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Bi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Bi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Bi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Bi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Bi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Bi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Bi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Bi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Bi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Bi),Wi=new a.ErrorFactory("remoteconfig","Remote Config",qi);var Hi=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c,l,h,d,p,v,g,m,y,b,_;return Object(f.__generator)(this,function(f){switch(f.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=f.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),f.label=2;case 2:return f.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return f.sent(),[4,c];case 4:return h=f.sent(),[3,6];case 5:throw d=f.sent(),p="fetch-client-network","AbortError"===d.name&&(p="fetch-timeout"),Wi.create(p,{originalErrorMessage:d.message});case 6:if(v=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];b=void 0,f.label=7;case 7:return f.trys.push([7,9,,10]),[4,h.json()];case 8:return b=f.sent(),[3,10];case 9:throw _=f.sent(),Wi.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:m=b.entries,y=b.state,f.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?v=500:"NO_CHANGE"===y?v=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(m={}),304!==v&&200!==v)throw Wi.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:m}]}var w})})},t}(),Ki=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),Gi="",Yi=["1","true","t","yes","y","on"],$i=function(){function t(t,e){void 0===e&&(e=Gi),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Yi.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),Qi=6e4,Xi=432e5,Ji=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Qi,minimumFetchIntervalMillis:Xi},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=s.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=s.LogLevel.SILENT;break;default:this._logger.logLevel=s.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t,e,n;return Object(f.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(f.__generator)(this,function(i){switch(i.label){case 0:t=new Ki,setTimeout(function(){return Object(f.__awaiter)(r,void 0,void 0,function(){return Object(f.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),s="fetch-throttle",n=(o=e)instanceof a.FirebaseError&&-1!==o.code.indexOf(s)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o,s})})},t.prototype.fetchAndActivate=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){return Object(f.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(Object(f.__assign)(Object(f.__assign)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(e,n){return e[n]=t.getValue(n),e},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new $i("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new $i("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new $i("static"))},t}();function Zi(t,e){var n=t.target.error||void 0;return Wi.create(e,{originalErrorMessage:n&&n.message})}var to="app_namespace_store",eo="firebase_remote_config",no=1;var ro=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open(eo,no);n.onerror=function(t){e(Zi(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(to,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,o){var a=e.transaction([to],"readonly").objectStore(to),s=n.createCompositeKey(t);try{var u=a.get(s);u.onerror=function(t){o(Zi(t,"storage-get"))},u.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(r){o(Wi.create("storage-get",{originalErrorMessage:r&&r.message}))}})]}})})},t.prototype.set=function(t,e){return Object(f.__awaiter)(this,void 0,void 0,function(){var n,i=this;return Object(f.__generator)(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise(function(o,a){var s=n.transaction([to],"readwrite").objectStore(to),u=i.createCompositeKey(t);try{var c=s.put({compositeKey:u,value:e});c.onerror=function(t){a(Zi(t,"storage-set"))},c.onsuccess=function(){o()}}catch(r){a(Wi.create("storage-set",{originalErrorMessage:r&&r.message}))}})]}})})},t.prototype.delete=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(f.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,o){var a=e.transaction([to],"readwrite").objectStore(to),s=n.createCompositeKey(t);try{var u=a.delete(s);u.onerror=function(t){o(Zi(t,"storage-delete"))},u.onsuccess=function(){i()}}catch(r){o(Wi.create("storage-delete",{originalErrorMessage:r&&r.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),io=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(f.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o;return Object(f.__generator)(this,function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function oo(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Wi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var ao,so=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(f.__awaiter)(this,void 0,void 0,function(){var e;return Object(f.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(f.__awaiter)(this,void 0,void 0,function(){var e,i,o;return Object(f.__generator)(this,function(s){switch(s.label){case 0:return[4,oo(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof a.FirebaseError)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(a.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),uo="@firebase/remote-config",co="0.1.37";(ao=o.default).INTERNAL.registerComponent(new c.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Wi.create("registration-window");var o=r.options,a=o.projectId,u=o.apiKey,c=o.appId;if(!a)throw Wi.create("registration-project-id");if(!u)throw Wi.create("registration-api-key");if(!c)throw Wi.create("registration-app-id");n=n||"firebase";var l=new ro(c,r.name,n),f=new io(l),h=new s.Logger(uo);h.logLevel=s.LogLevel.ERROR;var d=new Hi(i,ao.SDK_VERSION,n,a,u,c),p=new so(d,l),v=new zi(p,l,f,h),g=new Ji(r,v,f,l,h);return g.ensureInitialized(),g},"PUBLIC").setMultipleInstances(!0)),ao.registerVersion(uo,co);n(258);n.d(e,"a",function(){return o.default});o.default.registerVersion("firebase","8.6.1","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.default.registerVersion("firebase","8.6.1")},,function(t,e,n){"use strict";var r=n(86),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},_.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=_.prototype;var k=x.prototype=new w;k.constructor=x,r(k,_.prototype),k.isPureReactComponent=!0;var O={current:null},T=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)T.call(e,r)&&!E.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:O.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var C=/\/+/g,A=[];function P(t,e,n,r){if(A.length){var i=A.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function j(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>A.length&&A.push(t)}function N(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+R(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+R(s=e[c],c);u+=t(s,l,r,i)}else if(l=null===e||"object"!==typeof e?null:"function"===typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+R(s,c++),r,i);else if("object"===s)throw r=""+e,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function R(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function M(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?L(t,r,n,function(t){return t}):null!=t&&(I(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+n)),r.push(t))}function L(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(C,"$&/")+"/"),N(t,M,e=P(e,o,r,i)),j(e)}var F={current:null};function U(){var t=F.current;if(null===t)throw Error(m(321));return t}var V={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return L(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;N(t,D,e=P(null,null,e,n)),j(e)},count:function(t){return N(t,function(){return null},null)},toArray:function(t){var e=[];return L(t,e,null,function(t){return t}),e},only:function(t){if(!I(t))throw Error(m(143));return t}},e.Component=_,e.Fragment=s,e.Profiler=c,e.PureComponent=x,e.StrictMode=u,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(m(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=O.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)T.call(e,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return U().useCallback(t,e)},e.useContext=function(t,e){return U().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return U().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return U().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return U().useLayoutEffect(t,e)},e.useMemo=function(t,e){return U().useMemo(t,e)},e.useReducer=function(t,e,n){return U().useReducer(t,e,n)},e.useRef=function(t){return U().useRef(t)},e.useState=function(t){return U().useState(t)},e.version="16.14.0"},function(t,e,n){"use strict";var r=n(1),i=n(86),o=n(125);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=!1,u=null,c=!1,l=null,f={onError:function(t){s=!0,u=t}};function h(t,e,n,r,i,o,a,c,l){s=!1,u=null,function(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}.apply(f,arguments)}var d=null,p=null,v=null;function g(t,e,n){var r=t.type||"unknown-event";t.currentTarget=v(n),function(t,e,n,r,i,o,f,d,p){if(h.apply(this,arguments),s){if(!s)throw Error(a(198));var v=u;s=!1,u=null,c||(c=!0,l=v)}}(r,e,void 0,t),t.currentTarget=null}var m=null,y={};function b(){if(m)for(var t in y){var e=y[t],n=m.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!w[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in w[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,u=r;if(x.hasOwnProperty(u))throw Error(a(99,u));x[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&_(c[i],s,u);i=!0}else o.registrationName?(_(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function _(t,e,n){if(k[t])throw Error(a(100,t));k[t]=e,O[t]=e.eventTypes[n].dependencies}var w=[],x={},k={},O={};function T(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!y.hasOwnProperty(e)||y[e]!==r){if(y[e])throw Error(a(102,e));y[e]=r,n=!0}}n&&b()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),S=null,I=null,C=null;function A(t){if(t=p(t)){if("function"!==typeof S)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),S(t.stateNode,t.type,e))}}function P(t){I?C?C.push(t):C=[t]:I=t}function j(){if(I){var t=I,e=C;if(C=I=null,A(t),e)for(t=0;t<e.length;t++)A(e[t])}}function N(t,e){return t(e)}function R(t,e,n,r,i){return t(e,n,r,i)}function D(){}var M=N,L=!1,F=!1;function U(){null===I&&null===C||(D(),j())}function V(t,e,n){if(F)return t(e,n);F=!0;try{return M(t,e,n)}finally{F=!1,U()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,q={},W={};function H(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){K[t]=new H(t,0,!1,t,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];K[e]=new H(e,1,!1,t[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){K[t]=new H(t,2,!1,t.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){K[t]=new H(t,2,!1,t,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){K[t]=new H(t,3,!1,t.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(t){K[t]=new H(t,3,!0,t,null,!1)}),["capture","download"].forEach(function(t){K[t]=new H(t,4,!1,t,null,!1)}),["cols","rows","size","span"].forEach(function(t){K[t]=new H(t,6,!1,t,null,!1)}),["rowSpan","start"].forEach(function(t){K[t]=new H(t,5,!1,t.toLowerCase(),null,!1)});var G=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(G,Y);K[e]=new H(e,1,!1,t,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(G,Y);K[e]=new H(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(G,Y);K[e]=new H(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(t){K[t]=new H(t,1,!1,t.toLowerCase(),null,!1)}),K.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(t){K[t]=new H(t,1,!1,t.toLowerCase(),null,!0)});var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(t,e,n,r){var i=K.hasOwnProperty(e)?K[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!z.call(W,t)||!z.call(q,t)&&(B.test(t)?W[t]=!0:(q[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,Z=J?Symbol.for("react.element"):60103,tt=J?Symbol.for("react.portal"):60106,et=J?Symbol.for("react.fragment"):60107,nt=J?Symbol.for("react.strict_mode"):60108,rt=J?Symbol.for("react.profiler"):60114,it=J?Symbol.for("react.provider"):60109,ot=J?Symbol.for("react.context"):60110,at=J?Symbol.for("react.concurrent_mode"):60111,st=J?Symbol.for("react.forward_ref"):60112,ut=J?Symbol.for("react.suspense"):60113,ct=J?Symbol.for("react.suspense_list"):60120,lt=J?Symbol.for("react.memo"):60115,ft=J?Symbol.for("react.lazy"):60116,ht=J?Symbol.for("react.block"):60121,dt="function"===typeof Symbol&&Symbol.iterator;function pt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case et:return"Fragment";case tt:return"Portal";case rt:return"Profiler";case nt:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case it:return"Context.Provider";case st:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case lt:return vt(t.type);case ht:return vt(t.render);case ft:if(t=1===t._status?t._result:null)return vt(t)}return null}function gt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=vt(t.type);n=null,r&&(n=vt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(X,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function yt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=yt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function wt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function xt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function kt(t,e){null!=(e=e.checked)&&Q(t,"checked",e,!1)}function Ot(t,e){kt(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Et(t,e.type,n):e.hasOwnProperty("defaultValue")&&Et(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Tt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Et(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function St(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function It(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Ct(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function At(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Pt(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function jt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Nt="http://www.w3.org/1999/xhtml",Rt="http://www.w3.org/2000/svg";function Dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Lt,Ft,Ut=(Ft=function(t,e){if(t.namespaceURI!==Rt||"innerHTML"in t)t.innerHTML=e;else{for((Lt=Lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction(function(){return Ft(t,e)})}:Ft);function Vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Bt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zt={animationend:Bt("Animation","AnimationEnd"),animationiteration:Bt("Animation","AnimationIteration"),animationstart:Bt("Animation","AnimationStart"),transitionend:Bt("Transition","TransitionEnd")},qt={},Wt={};function Ht(t){if(qt[t])return qt[t];if(!zt[t])return t;var e,n=zt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Wt)return qt[t]=n[e];return t}E&&(Wt=document.createElement("div").style,"AnimationEvent"in window||(delete zt.animationend.animation,delete zt.animationiteration.animation,delete zt.animationstart.animation),"TransitionEvent"in window||delete zt.transitionend.transition);var Kt=Ht("animationend"),Gt=Ht("animationiteration"),Yt=Ht("animationstart"),$t=Ht("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Xt.get(t);return void 0===e&&(e=new Map,Xt.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)g(t,e[r],n[r]);else e&&g(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(c)throw t=l,c=!1,l=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!E)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var le=[];function fe(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>le.length&&le.push(t)}function he(t,e,n,r){if(le.length){var i=le.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function de(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Cn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ue(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<w.length;u++){var c=w[u];c&&(c=c.extractEvents(r,e,o,i,a))&&(s=re(s,c))}se(s)}}function pe(t,e,n){if(!n.has(t)){switch(t){case"scroll":Ye(e,"scroll",!0);break;case"focus":case"blur":Ye(e,"focus",!0),Ye(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&Ye(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&Ge(t,e)}n.set(t,null)}}var ve,ge,me,ye=!1,be=[],_e=null,we=null,xe=null,ke=new Map,Oe=new Map,Te=[],Ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Se="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ie(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ce(t,e){switch(t){case"focus":case"blur":_e=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":ke.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oe.delete(e.pointerId)}}function Ae(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ie(e,n,r,i,o),null!==e&&(null!==(e=An(e))&&ge(e)),t):(t.eventSystemFlags|=r,t)}function Pe(t){var e=Cn(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,function(){me(n)})}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=An(e);return null!==n&&ge(n),t.blockedOn=e,!1}return!0}function Ne(t,e,n){je(t)&&n.delete(e)}function Re(){for(ye=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=An(t.blockedOn))&&ve(t);break}var e=Qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==_e&&je(_e)&&(_e=null),null!==we&&je(we)&&(we=null),null!==xe&&je(xe)&&(xe=null),ke.forEach(Ne),Oe.forEach(Ne)}function De(t,e){t.blockedOn===e&&(t.blockedOn=null,ye||(ye=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Re)))}function Me(t){function e(e){return De(e,t)}if(0<be.length){De(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==_e&&De(_e,t),null!==we&&De(we,t),null!==xe&&De(xe,t),ke.forEach(e),Oe.forEach(e),n=0;n<Te.length;n++)(r=Te[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Te.length&&null===(n=Te[0]).blockedOn;)Pe(n),null===n.blockedOn&&Te.shift()}var Le={},Fe=new Map,Ue=new Map,Ve=["abort","abort",Kt,"animationEnd",Gt,"animationIteration",Yt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$t,"transitionEnd","waiting","waiting"];function Be(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Ue.set(r,e),Fe.set(r,o),Le[i]=o}}Be("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Be("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Be(Ve,2);for(var ze="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qe=0;qe<ze.length;qe++)Ue.set(ze[qe],0);var We=o.unstable_UserBlockingPriority,He=o.unstable_runWithPriority,Ke=!0;function Ge(t,e){Ye(e,t,!1)}function Ye(t,e,n){var r=Ue.get(e);switch(void 0===r?2:r){case 0:r=function(t,e,n,r){L||D();var i=$e,o=L;L=!0;try{R(i,t,e,n,r)}finally{(L=o)||U()}}.bind(null,e,1,t);break;case 1:r=function(t,e,n,r){He(We,$e.bind(null,t,e,n,r))}.bind(null,e,1,t);break;default:r=$e.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function $e(t,e,n,r){if(Ke)if(0<be.length&&-1<Ee.indexOf(t))t=Ie(null,t,e,n,r),be.push(t);else{var i=Qe(t,e,n,r);if(null===i)Ce(t,r);else if(-1<Ee.indexOf(t))t=Ie(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return _e=Ae(_e,t,e,n,r,i),!0;case"dragenter":return we=Ae(we,t,e,n,r,i),!0;case"mouseover":return xe=Ae(xe,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ke.set(o,Ae(ke.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oe.set(o,Ae(Oe.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Ce(t,r),t=he(t,r,null,e);try{V(de,t)}finally{fe(t)}}}}function Qe(t,e,n,r){if(null!==(n=Cn(n=ue(r)))){var i=Zt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=he(t,r,n,e);try{V(de,t)}finally{fe(t)}return null}var Xe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Je=["Webkit","ms","Moz","O"];function Ze(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Xe.hasOwnProperty(t)&&Xe[t]?(""+e).trim():e+"px"}function tn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ze(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Xe).forEach(function(t){Je.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xe[e]=Xe[t]})});var en=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(t,e){if(e){if(en[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function rn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=Nt;function an(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=O[e];for(var r=0;r<e.length;r++)pe(e[r],t,n)}function sn(){}function un(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ln(t,e){var n,r=cn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cn(r)}}function fn(){for(var t=window,e=un();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=un((t=e.contentWindow).document)}return e}function hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var dn="$",pn="/$",vn="$?",gn="$!",mn=null,yn=null;function bn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function _n(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var wn="function"===typeof setTimeout?setTimeout:void 0,xn="function"===typeof clearTimeout?clearTimeout:void 0;function kn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function On(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===dn||n===gn||n===vn){if(0===e)return t;e--}else n===pn&&e++}t=t.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),En="__reactInternalInstance$"+Tn,Sn="__reactEventHandlers$"+Tn,In="__reactContainere$"+Tn;function Cn(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[In]||n[En]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=On(t);null!==t;){if(n=t[En])return n;t=On(t)}return e}n=(t=n).parentNode}return null}function An(t){return!(t=t[En]||t[In])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Pn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function jn(t){return t[Sn]||null}function Nn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Rn(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}function Dn(t,e,n){(e=Rn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Mn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Nn(e);for(e=n.length;0<e--;)Dn(n[e],"captured",t);for(e=0;e<n.length;e++)Dn(n[e],"bubbled",t)}}function Ln(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Rn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Fn(t){t&&t.dispatchConfig.registrationName&&Ln(t._targetInst,null,t)}function Un(t){ie(t,Mn)}var Vn=null,Bn=null,zn=null;function qn(){if(zn)return zn;var t,e,n=Bn,r=n.length,i="value"in Vn?Vn.value:Vn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return zn=i.slice(t,1<e?1-e:void 0)}function Wn(){return!0}function Hn(){return!1}function Kn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:Hn,this.isPropagationStopped=Hn,this}function Gn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Yn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function $n(t){t.eventPool=[],t.getPooled=Gn,t.release=Yn}i(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:Hn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,$n(n),n},$n(Kn);var Qn=Kn.extend({data:null}),Xn=Kn.extend({data:null}),Jn=[9,13,27,32],Zn=E&&"CompositionEvent"in window,tr=null;E&&"documentMode"in document&&(tr=document.documentMode);var er=E&&"TextEvent"in window&&!tr,nr=E&&(!Zn||tr&&8<tr&&11>=tr),rr=String.fromCharCode(32),ir={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},or=!1;function ar(t,e){switch(t){case"keyup":return-1!==Jn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function sr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ur=!1;var cr={eventTypes:ir,extractEvents:function(t,e,n,r){var i;if(Zn)t:{switch(t){case"compositionstart":var o=ir.compositionStart;break t;case"compositionend":o=ir.compositionEnd;break t;case"compositionupdate":o=ir.compositionUpdate;break t}o=void 0}else ur?ar(t,n)&&(o=ir.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=ir.compositionStart);return o?(nr&&"ko"!==n.locale&&(ur||o!==ir.compositionStart?o===ir.compositionEnd&&ur&&(i=qn()):(Bn="value"in(Vn=r)?Vn.value:Vn.textContent,ur=!0)),o=Qn.getPooled(o,e,n,r),i?o.data=i:null!==(i=sr(n))&&(o.data=i),Un(o),i=o):i=null,(t=er?function(t,e){switch(t){case"compositionend":return sr(e);case"keypress":return 32!==e.which?null:(or=!0,rr);case"textInput":return(t=e.data)===rr&&or?null:t;default:return null}}(t,n):function(t,e){if(ur)return"compositionend"===t||!Zn&&ar(t,e)?(t=qn(),zn=Bn=Vn=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Xn.getPooled(ir.beforeInput,e,n,r)).data=t,Un(e)):e=null,null===i?e:null===e?i:[i,e]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!lr[t.type]:"textarea"===e}var hr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(t,e,n){return(t=Kn.getPooled(hr.change,t,e,n)).type="change",P(n),Un(t),t}var pr=null,vr=null;function gr(t){se(t)}function mr(t){if(_t(Pn(t)))return t}function yr(t,e){if("change"===t)return e}var br=!1;function _r(){pr&&(pr.detachEvent("onpropertychange",wr),vr=pr=null)}function wr(t){if("value"===t.propertyName&&mr(vr))if(t=dr(vr,t,ue(t)),L)se(t);else{L=!0;try{N(gr,t)}finally{L=!1,U()}}}function xr(t,e,n){"focus"===t?(_r(),vr=n,(pr=e).attachEvent("onpropertychange",wr)):"blur"===t&&_r()}function kr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return mr(vr)}function Or(t,e){if("click"===t)return mr(e)}function Tr(t,e){if("input"===t||"change"===t)return mr(e)}E&&(br=ce("input")&&(!document.documentMode||9<document.documentMode));var Er={eventTypes:hr,_isInputEventSupported:br,extractEvents:function(t,e,n,r){var i=e?Pn(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=yr;else if(fr(i))if(br)a=Tr;else{a=kr;var s=xr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Or);if(a&&(a=a(t,e)))return dr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Et(i,"number",i.value)}},Sr=Kn.extend({view:null,detail:null}),Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ir[t])&&!!e[t]}function Ar(){return Cr}var Pr=0,jr=0,Nr=!1,Rr=!1,Dr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ar,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Pr;return Pr=t.screenX,Nr?"mousemove"===t.type?t.screenX-e:0:(Nr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=jr;return jr=t.screenY,Rr?"mousemove"===t.type?t.screenY-e:0:(Rr=!0,0)}}),Mr=Dr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:Lr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?Cn(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Dr,u=Lr.mouseLeave,c=Lr.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Mr,u=Lr.pointerLeave,c=Lr.pointerEnter,l="pointer");if(t=null==a?o:Pn(a),o=null==e?o:Pn(e),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=t,u.relatedTarget=o,(n=s.getPooled(c,e,n,r)).type=l+"enter",n.target=o,n.relatedTarget=t,l=e,(r=a)&&l)t:{for(c=l,a=0,t=s=r;t;t=Nn(t))a++;for(t=0,e=c;e;e=Nn(e))t++;for(;0<a-t;)s=Nn(s),a--;for(;0<t-a;)c=Nn(c),t--;for(;a--;){if(s===c||s===c.alternate)break t;s=Nn(s),c=Nn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Nn(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=Nn(l);for(l=0;l<s.length;l++)Ln(s[l],"bubbled",u);for(l=r.length;0<l--;)Ln(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Ur="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Vr=Object.prototype.hasOwnProperty;function Br(t,e){if(Ur(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Vr.call(e,n[r])||!Ur(t[n[r]],e[n[r]]))return!1;return!0}var zr=E&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wr=null,Hr=null,Kr=null,Gr=!1;function Yr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Gr||null==Wr||Wr!==un(n)?null:("selectionStart"in(n=Wr)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&Br(Kr,n)?null:(Kr=n,(t=Kn.getPooled(qr.select,Hr,t,e)).type="select",t.target=Wr,Un(t),t))}var $r={eventTypes:qr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Jt(i),o=O.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Pn(e):window,t){case"focus":(fr(i)||"true"===i.contentEditable)&&(Wr=i,Hr=e,Kr=null);break;case"blur":Kr=Hr=Wr=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gr=!1,Yr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Yr(n,r)}return null}},Qr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Kn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jr=Sr.extend({relatedTarget:null});function Zr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ei={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni=Sr.extend({key:function(t){if(t.key){var e=ti[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Zr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ei[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ar,charCode:function(t){return"keypress"===t.type?Zr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Zr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ri=Dr.extend({dataTransfer:null}),ii=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ar}),oi=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ai=Dr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),si={eventTypes:Le,extractEvents:function(t,e,n,r){var i=Fe.get(t);if(!i)return null;switch(t){case"keypress":if(0===Zr(n))return null;case"keydown":case"keyup":t=ni;break;case"blur":case"focus":t=Jr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ri;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ii;break;case Kt:case Gt:case Yt:t=Qr;break;case $t:t=oi;break;case"scroll":t=Sr;break;case"wheel":t=ai;break;case"copy":case"cut":case"paste":t=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Mr;break;default:t=Kn}return Un(e=t.getPooled(i,e,n,r)),e}};if(m)throw Error(a(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),d=jn,p=An,v=Pn,T({SimpleEventPlugin:si,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Er,SelectEventPlugin:$r,BeforeInputEventPlugin:cr});var ui=[],ci=-1;function li(t){0>ci||(t.current=ui[ci],ui[ci]=null,ci--)}function fi(t,e){ui[++ci]=t.current,t.current=e}var hi={},di={current:hi},pi={current:!1},vi=hi;function gi(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){li(pi),li(di)}function bi(t,e,n){if(di.current!==hi)throw Error(a(168));fi(di,e),fi(pi,n)}function _i(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,vt(e)||"Unknown",o));return i({},n,{},r)}function wi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,t),fi(pi,pi.current),!0}function xi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=_i(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,li(pi),li(di),fi(di,t)):li(pi),fi(pi,n)}var ki=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ei=o.unstable_requestPaint,Si=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Ri={},Di=o.unstable_shouldYield,Mi=void 0!==Ei?Ei:function(){},Li=null,Fi=null,Ui=!1,Vi=Si(),Bi=1e4>Vi?Si:function(){return Si()-Vi};function zi(){switch(Ii()){case Ci:return 99;case Ai:return 98;case Pi:return 97;case ji:return 96;case Ni:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Ci;case 98:return Ai;case 97:return Pi;case 96:return ji;case 95:return Ni;default:throw Error(a(332))}}function Wi(t,e){return t=qi(t),ki(t,e)}function Hi(t,e,n){return t=qi(t),Oi(t,e,n)}function Ki(t){return null===Li?(Li=[t],Fi=Oi(Ci,Yi)):Li.push(t),Ri}function Gi(){if(null!==Fi){var t=Fi;Fi=null,Ti(t)}Yi()}function Yi(){if(!Ui&&null!==Li){Ui=!0;var t=0;try{var e=Li;Wi(99,function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}}),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(t+1)),Oi(Ci,Gi),n}finally{Ui=!1}}}function $i(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Qi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Xi={current:null},Ji=null,Zi=null,to=null;function eo(){to=Zi=Ji=null}function no(t){var e=Xi.current;li(Xi),t.type._context._currentValue=e}function ro(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function io(t,e){Ji=t,to=Zi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(ja=!0),t.firstContext=null)}function oo(t,e){if(to!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(to=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Zi){if(null===Ji)throw Error(a(308));Zi=e,Ji.dependencies={expirationTime:0,firstContext:e,responders:null}}else Zi=Zi.next=e;return t._currentValue}var ao=!1;function so(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function uo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function co(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function lo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.alternate;null!==n&&uo(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function ho(t,e,n,r){var o=t.updateQueue;ao=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,f=null,h=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),vu(s,p.suspenseConfig);t:{var g=t,m=p;switch(s=e,v=n,m.tag){case 1:if("function"===typeof(g=m.payload)){c=g.call(v,c,s);break t}c=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=m.payload)?g.call(v,c,s):g)||void 0===s)break t;c=i({},c,s);break t;case 2:ao=!0}}null!==p.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===d?f=c:d.next=h,o.baseState=f,o.baseQueue=d,gu(l),t.expirationTime=l,t.memoizedState=c}}function po(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var vo=$.ReactCurrentBatchConfig,go=(new r.Component).refs;function mo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=ru(),i=vo.suspense;(i=co(r=iu(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),lo(t,i),ou(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=ru(),i=vo.suspense;(i=co(r=iu(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),lo(t,i),ou(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ru(),r=vo.suspense;(r=co(n=iu(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),lo(t,r),ou(t,n)}};function bo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function _o(t,e,n){var r=!1,i=hi,o=e.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=mi(e)?vi:di.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?gi(t,i):hi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function xo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=go,so(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=mi(e)?vi:di.current,i.context=gi(t,o)),ho(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),ho(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var ko=Array.isArray;function Oo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===go&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function To(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Eo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ru(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Lu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Oo(t,e,n),r.return=t,r):((r=Du(n.type,n.key,n.props,null,t.mode,r)).ref=Oo(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Mu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Lu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Z:return(n=Du(e.type,e.key,e.props,null,t.mode,n)).ref=Oo(t,null,e),n.return=t,n;case tt:return(e=Fu(e,t.mode,n)).return=t,e}if(ko(e)||pt(e))return(e=Mu(e,t.mode,n,null)).return=t,e;To(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Z:return n.key===i?n.type===et?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case tt:return n.key===i?l(t,e,n,r):null}if(ko(n)||pt(n))return null!==i?null:f(t,e,n,r,null);To(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Z:return t=t.get(null===r.key?n:r.key)||null,r.type===et?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case tt:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||pt(r))return f(e,t=t.get(n)||null,r,i,null);To(e,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=g);break}t&&f&&null===m.alternate&&e(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(t&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return t&&f.forEach(function(t){return e(i,t)}),c}function g(i,s,u,c){var l=pt(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=m);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,g),null===f?l=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(t&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return t&&v.forEach(function(t){return e(i,t)}),l}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===et&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case Z:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===et){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=Oo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===et?((r=Mu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Du(o.type,o.key,o.props,null,t.mode,u)).ref=Oo(t,r,o),u.return=t,t=u)}return s(t);case tt:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Fu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Lu(o,t.mode,u)).return=t,t=r),s(t);if(ko(o))return v(t,r,o,u);if(pt(o))return g(t,r,o,u);if(l&&To(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var So=Eo(!0),Io=Eo(!1),Co={},Ao={current:Co},Po={current:Co},jo={current:Co};function No(t){if(t===Co)throw Error(a(174));return t}function Ro(t,e){switch(fi(jo,e),fi(Po,t),fi(Ao,Co),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mt(null,"");break;default:e=Mt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}li(Ao),fi(Ao,e)}function Do(){li(Ao),li(Po),li(jo)}function Mo(t){No(jo.current);var e=No(Ao.current),n=Mt(e,t.type);e!==n&&(fi(Po,t),fi(Ao,n))}function Lo(t){Po.current===t&&(li(Ao),li(Po))}var Fo={current:0};function Uo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===vn||n.data===gn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Vo(t,e){return{responder:t,props:e}}var Bo=$.ReactCurrentDispatcher,zo=$.ReactCurrentBatchConfig,qo=0,Wo=null,Ho=null,Ko=null,Go=!1;function Yo(){throw Error(a(321))}function $o(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function Qo(t,e,n,r,i,o){if(qo=o,Wo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Bo.current=null===t||null===t.memoizedState?ba:_a,t=n(r,i),e.expirationTime===qo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ko=Ho=null,e.updateQueue=null,Bo.current=wa,t=n(r,i)}while(e.expirationTime===qo)}if(Bo.current=ya,e=null!==Ho&&null!==Ho.next,qo=0,Ko=Ho=Wo=null,Go=!1,e)throw Error(a(300));return t}function Xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ko?Wo.memoizedState=Ko=t:Ko=Ko.next=t,Ko}function Jo(){if(null===Ho){var t=Wo.alternate;t=null!==t?t.memoizedState:null}else t=Ho.next;var e=null===Ko?Wo.memoizedState:Ko.next;if(null!==e)Ko=e,Ho=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Ho=t).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Ko?Wo.memoizedState=Ko=t:Ko=Ko.next=t}return Ko}function Zo(t,e){return"function"===typeof e?e(t):e}function ta(t){var e=Jo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Ho,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<qo){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,l>Wo.expirationTime&&(Wo.expirationTime=l,gu(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),vu(l,c.suspenseConfig),r=c.eagerReducer===t?c.eagerState:t(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,Ur(r,e.memoizedState)||(ja=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ea(t){var e=Jo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);Ur(o,e.memoizedState)||(ja=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function na(t){var e=Xo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t}).dispatch=ma.bind(null,Wo,t),[e.memoizedState,t]}function ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Wo.updateQueue)?(e={lastEffect:null},Wo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ia(){return Jo().memoizedState}function oa(t,e,n,r){var i=Xo();Wo.effectTag|=t,i.memoizedState=ra(1|e,n,void 0,void 0===r?null:r)}function aa(t,e,n,r){var i=Jo();r=void 0===r?null:r;var o=void 0;if(null!==Ho){var a=Ho.memoizedState;if(o=a.destroy,null!==r&&$o(r,a.deps))return void ra(e,n,o,r)}Wo.effectTag|=t,i.memoizedState=ra(1|e,n,o,r)}function sa(t,e){return oa(516,4,t,e)}function ua(t,e){return aa(516,4,t,e)}function ca(t,e){return aa(4,2,t,e)}function la(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function fa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,aa(4,2,la.bind(null,e,t),n)}function ha(){}function da(t,e){return Xo().memoizedState=[t,void 0===e?null:e],t}function pa(t,e){var n=Jo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function va(t,e){var n=Jo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ga(t,e,n){var r=zi();Wi(98>r?98:r,function(){t(!0)}),Wi(97<r?97:r,function(){var r=zo.suspense;zo.suspense=void 0===e?null:e;try{t(!1),n()}finally{zo.suspense=r}})}function ma(t,e,n){var r=ru(),i=vo.suspense;i={expirationTime:r=iu(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Wo||null!==o&&o===Wo)Go=!0,i.expirationTime=qo,Wo.expirationTime=qo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Ur(s,a))return}catch(u){}ou(t,r)}}var ya={readContext:oo,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo,useResponder:Yo,useDeferredValue:Yo,useTransition:Yo},ba={readContext:oo,useCallback:da,useContext:oo,useEffect:sa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,oa(4,2,la.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oa(4,2,t,e)},useMemo:function(t,e){var n=Xo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ma.bind(null,Wo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Xo().memoizedState=t},useState:na,useDebugValue:ha,useResponder:Vo,useDeferredValue:function(t,e){var n=na(t),r=n[0],i=n[1];return sa(function(){var n=zo.suspense;zo.suspense=void 0===e?null:e;try{i(t)}finally{zo.suspense=n}},[t,e]),r},useTransition:function(t){var e=na(!1),n=e[0];return e=e[1],[da(ga.bind(null,e,t),[e,t]),n]}},_a={readContext:oo,useCallback:pa,useContext:oo,useEffect:ua,useImperativeHandle:fa,useLayoutEffect:ca,useMemo:va,useReducer:ta,useRef:ia,useState:function(){return ta(Zo)},useDebugValue:ha,useResponder:Vo,useDeferredValue:function(t,e){var n=ta(Zo),r=n[0],i=n[1];return ua(function(){var n=zo.suspense;zo.suspense=void 0===e?null:e;try{i(t)}finally{zo.suspense=n}},[t,e]),r},useTransition:function(t){var e=ta(Zo),n=e[0];return e=e[1],[pa(ga.bind(null,e,t),[e,t]),n]}},wa={readContext:oo,useCallback:pa,useContext:oo,useEffect:ua,useImperativeHandle:fa,useLayoutEffect:ca,useMemo:va,useReducer:ea,useRef:ia,useState:function(){return ea(Zo)},useDebugValue:ha,useResponder:Vo,useDeferredValue:function(t,e){var n=ea(Zo),r=n[0],i=n[1];return ua(function(){var n=zo.suspense;zo.suspense=void 0===e?null:e;try{i(t)}finally{zo.suspense=n}},[t,e]),r},useTransition:function(t){var e=ea(Zo),n=e[0];return e=e[1],[pa(ga.bind(null,e,t),[e,t]),n]}},xa=null,ka=null,Oa=!1;function Ta(t,e){var n=ju(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ea(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Sa(t){if(Oa){var e=ka;if(e){var n=e;if(!Ea(t,e)){if(!(e=kn(n.nextSibling))||!Ea(t,e))return t.effectTag=-1025&t.effectTag|2,Oa=!1,void(xa=t);Ta(xa,n)}xa=t,ka=kn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Oa=!1,xa=t}}function Ia(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;xa=t}function Ca(t){if(t!==xa)return!1;if(!Oa)return Ia(t),Oa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!_n(e,t.memoizedProps))for(e=ka;e;)Ta(t,e),e=kn(e.nextSibling);if(Ia(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===pn){if(0===e){ka=kn(t.nextSibling);break t}e--}else n!==dn&&n!==gn&&n!==vn||e++}t=t.nextSibling}ka=null}}else ka=xa?kn(t.stateNode.nextSibling):null;return!0}function Aa(){ka=xa=null,Oa=!1}var Pa=$.ReactCurrentOwner,ja=!1;function Na(t,e,n,r){e.child=null===t?Io(e,null,n,r):So(e,t.child,n,r)}function Ra(t,e,n,r,i){n=n.render;var o=e.ref;return io(e,i),r=Qo(t,e,n,r,o,i),null===t||ja?(e.effectTag|=1,Na(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Xa(t,e,i))}function Da(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Nu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Du(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ma(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&t.ref===e.ref)?Xa(t,e,o):(e.effectTag|=1,(t=Ru(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ma(t,e,n,r,i,o){return null!==t&&Br(t.memoizedProps,r)&&t.ref===e.ref&&(ja=!1,i<o)?(e.expirationTime=t.expirationTime,Xa(t,e,o)):Fa(t,e,n,r,o)}function La(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Fa(t,e,n,r,i){var o=mi(n)?vi:di.current;return o=gi(e,o),io(e,i),n=Qo(t,e,n,r,o,i),null===t||ja?(e.effectTag|=1,Na(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Xa(t,e,i))}function Ua(t,e,n,r,i){if(mi(n)){var o=!0;wi(e)}else o=!1;if(io(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),_o(e,n,r),xo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=oo(c):c=gi(e,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(e,a,r,c),ao=!1;var h=e.memoizedState;a.state=h,ho(e,r,a,i),u=e.memoizedState,s!==r||h!==u||pi.current||ao?("function"===typeof l&&(mo(e,n,l,r),u=e.memoizedState),(s=ao||bo(e,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,uo(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Qi(e.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=oo(c):c=gi(e,c=mi(n)?vi:di.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(e,a,r,c),ao=!1,u=e.memoizedState,a.state=u,ho(e,r,a,i),h=e.memoizedState,s!==r||u!==h||pi.current||ao?("function"===typeof l&&(mo(e,n,l,r),h=e.memoizedState),(l=ao||bo(e,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Va(t,e,n,r,o,i)}function Va(t,e,n,r,i,o){La(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&xi(e,n,!1),Xa(t,e,o);r=e.stateNode,Pa.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=So(e,t.child,null,o),e.child=So(e,null,s,o)):Na(t,e,s,o),e.memoizedState=r.state,i&&xi(e,n,!0),e.child}function Ba(t){var e=t.stateNode;e.pendingContext?bi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bi(0,e.context,!1),Ro(t,e.containerInfo)}var za,qa,Wa,Ha,Ka={dehydrated:null,retryTime:0};function Ga(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Fo.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fi(Fo,1&a),null===t){if(void 0!==o.fallback&&Sa(e),s){if(s=o.fallback,(o=Mu(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Mu(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=Ka,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Io(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=Ru(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Ru(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Ka,e.child=n,i}return n=So(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Mu(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Mu(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Ka,e.child=o,n}return e.memoizedState=null,e.child=So(e,t,o.children,n)}function Ya(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ro(t.return,e)}function $a(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Qa(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Na(t,e,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ya(t,n);else if(19===t.tag)Ya(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fi(Fo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Uo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$a(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Uo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$a(e,!0,n,null,o,e.lastEffect);break;case"together":$a(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Xa(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&gu(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Ru(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ru(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ja(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Za(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(e.type)&&yi(),null;case 3:return Do(),li(pi),li(di),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ca(e)||(e.effectTag|=4),qa(e),null;case 5:Lo(e),n=No(jo.current);var o=e.type;if(null!==t&&null!=e.stateNode)Wa(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=No(Ao.current),Ca(e)){r=e.stateNode,o=e.type;var s=e.memoizedProps;switch(r[En]=e,r[Sn]=s,o){case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(t=0;t<Qt.length;t++)Ge(Qt[t],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"form":Ge("reset",r),Ge("submit",r);break;case"details":Ge("toggle",r);break;case"input":xt(r,s),Ge("invalid",r),an(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r),an(n,"onChange");break;case"textarea":At(r,s),Ge("invalid",r),an(n,"onChange")}for(var u in nn(o,s),t=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(t=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(t=["children",""+c]):k.hasOwnProperty(u)&&null!=c&&an(n,u)}switch(o){case"input":bt(r),Tt(r,s,!0);break;case"textarea":bt(r),jt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=sn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===on&&(t=Dt(o)),t===on?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(o,{is:r.is}):(t=u.createElement(o),"select"===o&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,o),t[En]=e,t[Sn]=r,za(t,e,!1,!1),e.stateNode=t,u=rn(o,r),o){case"iframe":case"object":case"embed":Ge("load",t),c=r;break;case"video":case"audio":for(c=0;c<Qt.length;c++)Ge(Qt[c],t);c=r;break;case"source":Ge("error",t),c=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),c=r;break;case"form":Ge("reset",t),Ge("submit",t),c=r;break;case"details":Ge("toggle",t),c=r;break;case"input":xt(t,r),c=wt(t,r),Ge("invalid",t),an(n,"onChange");break;case"option":c=St(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Ge("invalid",t),an(n,"onChange");break;case"textarea":At(t,r),c=Ct(t,r),Ge("invalid",t),an(n,"onChange");break;default:c=r}nn(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?tn(t,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Ut(t,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&Vt(t,f):"number"===typeof f&&Vt(t,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=f&&an(n,s):null!=f&&Q(t,s,f,u))}switch(o){case"input":bt(t),Tt(t,r,!1);break;case"textarea":bt(t),jt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?It(t,!!r.multiple,n,!1):null!=r.defaultValue&&It(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(t.onclick=sn)}bn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ha(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=No(jo.current),No(Ao.current),Ca(e)?(n=e.stateNode,r=e.memoizedProps,n[En]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[En]=e,e.stateNode=n)}return null;case 13:return li(Fo),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ca(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?Ls===Ss&&(Ls=As):(Ls!==Ss&&Ls!==As||(Ls=Ps),0!==zs&&null!==Rs&&(Bu(Rs,Ms),zu(Rs,zs)))),(n||r)&&(e.effectTag|=4),null);case 4:return Do(),qa(e),null;case 10:return no(e),null;case 17:return mi(e.type)&&yi(),null;case 19:if(li(Fo),null===(r=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(s=r.rendering)){if(o)Ja(r,!1);else if(Ls!==Ss||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Uo(s))){for(e.effectTag|=64,Ja(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return fi(Fo,1&Fo.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=Uo(s))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ja(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Ja(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,e=Fo.current,fi(Fo,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function ts(t){switch(t.tag){case 1:mi(t.type)&&yi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Do(),li(pi),li(di),0!==(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Lo(t),null;case 13:return li(Fo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return li(Fo),null;case 4:return Do(),null;case 10:return no(t),null;default:return null}}function es(t,e){return{value:t,source:e,stack:gt(e)}}za=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(){},Wa=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,u,c=e.stateNode;switch(No(Ao.current),t=null,n){case"input":a=wt(c,a),r=wt(c,r),t=[];break;case"option":a=St(c,a),r=St(c,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Ct(c,a),r=Ct(c,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=sn)}for(s in nn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(t||(t=[]),t.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(k.hasOwnProperty(s)?(null!=l&&an(o,s),t||c===l||(t=[])):(t=t||[]).push(s,l))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ha=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var ns="function"===typeof WeakSet?WeakSet:Set;function rs(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=gt(n)),null!==n&&vt(n.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(i){setTimeout(function(){throw i})}}function is(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Su(t,n)}else e.current=null}function os(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function as(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function ss(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function us(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ss(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Qi(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&po(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}po(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Me(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function cs(t,e,n){switch("function"===typeof Au&&Au(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Wi(97<n?97:n,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){Su(i,o)}}t=t.next}while(t!==r)})}break;case 1:is(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Su(t,n)}}(e,n);break;case 5:is(e);break;case 4:ds(t,e,n)}}function ls(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ls(e)}function fs(t){return 5===t.tag||3===t.tag||4===t.tag}function hs(t){t:{for(var e=t.return;null!==e;){if(fs(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Vt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||fs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==n.onclick||(n.onclick=sn));else if(4!==i&&(e=e.child,null!==e))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&(e=e.child,null!==e))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function ds(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var u=t,c=o,l=n,f=c;;)if(cs(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break t;for(;null===f.sibling;){if(null===f.return||f.return===c)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(cs(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ps(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void as(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Sn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&kt(n,r),rn(t,i),e=rn(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?tn(n,u):"dangerouslySetInnerHTML"===s?Ut(n,u):"children"===s?Vt(n,u):Q(n,s,u,e)}switch(t){case"input":Ot(n,r);break;case"textarea":Pt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?It(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?It(n,!!r.multiple,r.defaultValue,!0):It(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Me(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Ws=Bi()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=Ze("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void vs(e);case 19:return void vs(e);case 17:return}throw Error(a(163))}function vs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ns),e.forEach(function(e){var r=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=iu(e=ru(),t,null)),null!==(t=au(t,e))&&uu(t)}.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))})}}var gs="function"===typeof WeakMap?WeakMap:Map;function ms(t,e,n){(n=co(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gs||(Gs=!0,Ys=r),rs(t,e)},n}function ys(t,e,n){(n=co(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return rs(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),rs(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var bs,_s=Math.ceil,ws=$.ReactCurrentDispatcher,xs=$.ReactCurrentOwner,ks=0,Os=8,Ts=16,Es=32,Ss=0,Is=1,Cs=2,As=3,Ps=4,js=5,Ns=ks,Rs=null,Ds=null,Ms=0,Ls=Ss,Fs=null,Us=1073741823,Vs=1073741823,Bs=null,zs=0,qs=!1,Ws=0,Hs=500,Ks=null,Gs=!1,Ys=null,$s=null,Qs=!1,Xs=null,Js=90,Zs=null,tu=0,eu=null,nu=0;function ru(){return(Ns&(Ts|Es))!==ks?1073741821-(Bi()/10|0):0!==nu?nu:nu=1073741821-(Bi()/10|0)}function iu(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=zi();if(0===(4&e))return 99===r?1073741823:1073741822;if((Ns&Ts)!==ks)return Ms;if(null!==n)t=$i(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=$i(t,150,100);break;case 97:case 96:t=$i(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Rs&&t===Ms&&--t,t}function ou(t,e){if(50<tu)throw tu=0,eu=null,Error(a(185));if(null!==(t=au(t,e))){var n=zi();1073741823===e?(Ns&Os)!==ks&&(Ns&(Ts|Es))===ks?cu(t):(uu(t),Ns===ks&&Gi()):uu(t),(4&Ns)===ks||98!==n&&99!==n||(null===Zs?Zs=new Map([[t,e]]):(void 0===(n=Zs.get(t))||n>e)&&Zs.set(t,e))}}function au(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Rs===i&&(gu(e),Ls===Ps&&Bu(i,Ms)),zu(i,e)),i}function su(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Vu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function uu(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Ki(cu.bind(null,t));else{var e=su(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=ru();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Ri&&Ti(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Ki(cu.bind(null,t)):Hi(r,function t(e,n){nu=0;if(n)return n=ru(),qu(e,n),uu(e),null;var r=su(e);if(0!==r){if(n=e.callbackNode,(Ns&(Ts|Es))!==ks)throw Error(a(327));if(Ou(),e===Rs&&r===Ms||hu(e,r),null!==Ds){var i=Ns;Ns|=Ts;for(var o=pu();;)try{yu();break}catch(c){du(e,c)}if(eo(),Ns=i,ws.current=o,Ls===Is)throw n=Fs,hu(e,r),Bu(e,r),uu(e),n;if(null===Ds)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,i=Ls,Rs=null,i){case Ss:case Is:throw Error(a(345));case Cs:qu(e,2<r?2:r);break;case As:if(Bu(e,r),i=e.lastSuspendedTime,r===i&&(e.nextKnownPendingLevel=wu(o)),1073741823===Us&&10<(o=Ws+Hs-Bi())){if(qs){var s=e.lastPingedTime;if(0===s||s>=r){e.lastPingedTime=r,hu(e,r);break}}if(0!==(s=su(e))&&s!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}e.timeoutHandle=wn(xu.bind(null,e),o);break}xu(e);break;case Ps:if(Bu(e,r),i=e.lastSuspendedTime,r===i&&(e.nextKnownPendingLevel=wu(o)),qs&&(0===(o=e.lastPingedTime)||o>=r)){e.lastPingedTime=r,hu(e,r);break}if(0!==(o=su(e))&&o!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}if(1073741823!==Vs?i=10*(1073741821-Vs)-Bi():1073741823===Us?i=0:(i=10*(1073741821-Us)-5e3,o=Bi(),r=10*(1073741821-r)-o,0>(i=o-i)&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_s(i/1960))-i,r<i&&(i=r)),10<i){e.timeoutHandle=wn(xu.bind(null,e),i);break}xu(e);break;case js:if(1073741823!==Us&&null!==Bs){s=Us;var u=Bs;if(0>=(i=0|u.busyMinDurationMs)?i=0:(o=0|u.busyDelayMs,s=Bi()-(10*(1073741821-s)-(0|u.timeoutMs||5e3)),i=s<=o?0:o+i-s),10<i){Bu(e,r),e.timeoutHandle=wn(xu.bind(null,e),i);break}}xu(e);break;default:throw Error(a(329))}if(uu(e),e.callbackNode===n)return t.bind(null,e)}}return null}.bind(null,t),{timeout:10*(1073741821-e)-Bi()}),t.callbackNode=e}}}function cu(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(Ns&(Ts|Es))!==ks)throw Error(a(327));if(Ou(),t===Rs&&e===Ms||hu(t,e),null!==Ds){var n=Ns;Ns|=Ts;for(var r=pu();;)try{mu();break}catch(i){du(t,i)}if(eo(),Ns=n,ws.current=r,Ls===Is)throw n=Fs,hu(t,e),Bu(t,e),uu(t),n;if(null!==Ds)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Rs=null,xu(t),uu(t)}return null}function lu(t,e){var n=Ns;Ns|=1;try{return t(e)}finally{(Ns=n)===ks&&Gi()}}function fu(t,e){var n=Ns;Ns&=-2,Ns|=Os;try{return t(e)}finally{(Ns=n)===ks&&Gi()}}function hu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,xn(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Do(),li(pi),li(di);break;case 5:Lo(r);break;case 4:Do();break;case 13:case 19:li(Fo);break;case 10:no(r)}n=n.return}Rs=t,Ds=Ru(t.current,null),Ms=e,Ls=Ss,Fs=null,Vs=Us=1073741823,Bs=null,zs=0,qs=!1}function du(t,e){for(;;){try{if(eo(),Bo.current=ya,Go)for(var n=Wo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qo=0,Ko=Ho=Wo=null,Go=!1,null===Ds||null===Ds.return)return Ls=Is,Fs=e,Ds=null;t:{var i=t,o=Ds.return,a=Ds,s=e;if(e=Ms,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Fo.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var g=new Set;g.add(u),f.updateQueue=g}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var m=co(1073741823,null);m.tag=2,lo(a,m)}a.expirationTime=1073741823;break t}s=void 0,a=e;var y=i.pingCache;if(null===y?(y=i.pingCache=new gs,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(a)){s.add(a);var b=Iu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=e;break t}f=f.return}while(null!==f);s=Error((vt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(a))}Ls!==js&&(Ls=Cs),s=es(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=e,fo(f,ms(f,u,e));break t;case 1:u=s;var _=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$s||!$s.has(w)))){f.effectTag|=4096,f.expirationTime=e,fo(f,ys(f,u,e));break t}}f=f.return}while(null!==f)}Ds=_u(Ds)}catch(x){e=x;continue}break}}function pu(){var t=ws.current;return ws.current=ya,null===t?ya:t}function vu(t,e){t<Us&&2<t&&(Us=t),null!==e&&t<Vs&&2<t&&(Vs=t,Bs=e)}function gu(t){t>zs&&(zs=t)}function mu(){for(;null!==Ds;)Ds=bu(Ds)}function yu(){for(;null!==Ds&&!Di();)Ds=bu(Ds)}function bu(t){var e=bs(t.alternate,t,Ms);return t.memoizedProps=t.pendingProps,null===e&&(e=_u(t)),xs.current=null,e}function _u(t){Ds=t;do{var e=Ds.alternate;if(t=Ds.return,0===(2048&Ds.effectTag)){if(e=Za(e,Ds,Ms),1===Ms||1!==Ds.childExpirationTime){for(var n=0,r=Ds.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ds.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ds.firstEffect),null!==Ds.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ds.firstEffect),t.lastEffect=Ds.lastEffect),1<Ds.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ds:t.firstEffect=Ds,t.lastEffect=Ds))}else{if(null!==(e=ts(Ds)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ds.sibling))return e;Ds=t}while(null!==Ds);return Ls===Ss&&(Ls=js),null}function wu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function xu(t){var e=zi();return Wi(99,function(t,e){do{Ou()}while(null!==Xs);if((Ns&(Ts|Es))!==ks)throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=wu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Rs&&(Ds=Rs=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ns;Ns|=Es,xs.current=null,mn=Ke;var s=fn();if(hn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(E){u=null;break t}var h=0,d=-1,p=-1,v=0,g=0,m=s,y=null;e:for(;;){for(var b;m!==u||0!==l&&3!==m.nodeType||(d=h+l),m!==f||0!==c&&3!==m.nodeType||(p=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(b=m.firstChild);)y=m,m=b;for(;;){if(m===s)break e;if(y===u&&++v===l&&(d=h),y===f&&++g===c&&(p=h),null!==(b=m.nextSibling))break;y=(m=y).parentNode}m=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;yn={activeElementDetached:null,focusedElem:s,selectionRange:u},Ke=!1,Ks=i;do{try{ku()}catch(E){if(null===Ks)throw Error(a(330));Su(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);Ks=i;do{try{for(s=t,u=e;null!==Ks;){var _=Ks.effectTag;if(16&_&&Vt(Ks.stateNode,""),128&_){var w=Ks.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&_){case 2:hs(Ks),Ks.effectTag&=-3;break;case 6:hs(Ks),Ks.effectTag&=-3,ps(Ks.alternate,Ks);break;case 1024:Ks.effectTag&=-1025;break;case 1028:Ks.effectTag&=-1025,ps(Ks.alternate,Ks);break;case 4:ps(Ks.alternate,Ks);break;case 8:ds(s,l=Ks,u),ls(l)}Ks=Ks.nextEffect}}catch(E){if(null===Ks)throw Error(a(330));Su(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);if(x=yn,w=fn(),_=x.focusedElem,u=x.selectionRange,w!==_&&_&&_.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==u&&hn(_)&&(w=u.start,void 0===(x=u.end)&&(x=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(x,_.value.length)):(x=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=_.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!x.extend&&s>u&&(l=u,u=s,s=l),l=ln(_,s),f=ln(_,u),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),s>u?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=_;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<w.length;_++)(x=w[_]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ke=!!mn,yn=mn=null,t.current=n,Ks=i;do{try{for(_=t;null!==Ks;){var k=Ks.effectTag;if(36&k&&us(_,Ks.alternate,Ks),128&k){w=void 0;var O=Ks.ref;if(null!==O){var T=Ks.stateNode;switch(Ks.tag){case 5:w=T;break;default:w=T}"function"===typeof O?O(w):O.current=w}}Ks=Ks.nextEffect}}catch(E){if(null===Ks)throw Error(a(330));Su(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Mi(),Ns=o}else t.current=n;if(Qs)Qs=!1,Xs=t,Js=e;else for(Ks=i;null!==Ks;)e=Ks.nextEffect,Ks.nextEffect=null,Ks=e;if(0===(e=t.firstPendingTime)&&($s=null),1073741823===e?t===eu?tu++:(tu=0,eu=t):tu=0,"function"===typeof Cu&&Cu(n.stateNode,r),uu(t),Gs)throw Gs=!1,t=Ys,Ys=null,t;return(Ns&Os)!==ks?null:(Gi(),null)}.bind(null,t,e)),null}function ku(){for(;null!==Ks;){var t=Ks.effectTag;0!==(256&t)&&os(Ks.alternate,Ks),0===(512&t)||Qs||(Qs=!0,Hi(97,function(){return Ou(),null})),Ks=Ks.nextEffect}}function Ou(){if(90!==Js){var t=97<Js?97:Js;return Js=90,Wi(t,Tu)}}function Tu(){if(null===Xs)return!1;var t=Xs;if(Xs=null,(Ns&(Ts|Es))!==ks)throw Error(a(331));var e=Ns;for(Ns|=Es,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:as(5,n),ss(5,n)}}catch(r){if(null===t)throw Error(a(330));Su(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Ns=e,Gi(),!0}function Eu(t,e,n){lo(t,e=ms(t,e=es(n,e),1073741823)),null!==(t=au(t,1073741823))&&uu(t)}function Su(t,e){if(3===t.tag)Eu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Eu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){lo(n,t=ys(n,t=es(e,t),1073741823)),null!==(n=au(n,1073741823))&&uu(n);break}}n=n.return}}function Iu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Rs===t&&Ms===n?Ls===Ps||Ls===As&&1073741823===Us&&Bi()-Ws<Hs?hu(t,Ms):qs=!0:Vu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,uu(t)))}bs=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||pi.current)ja=!0;else{if(r<n){switch(ja=!1,e.tag){case 3:Ba(e),Aa();break;case 5:if(Mo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&wi(e);break;case 4:Ro(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Ga(t,e,n):(fi(Fo,1&Fo.current),null!==(e=Xa(t,e,n))?e.sibling:null);fi(Fo,1&Fo.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Qa(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),fi(Fo,Fo.current),!r)return null}return Xa(t,e,n)}ja=!1}}else ja=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=gi(e,di.current),io(e,n),i=Qo(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)){var o=!0;wi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternalFiber=e,xo(e,r,t,n),e=Va(null,e,r,!0,o,n)}else e.tag=0,Na(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return Nu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===st)return 11;if(t===lt)return 14}return 2}(i),t=Qi(i,t),o){case 0:e=Fa(null,e,i,t,n);break t;case 1:e=Ua(null,e,i,t,n);break t;case 11:e=Ra(null,e,i,t,n);break t;case 14:e=Da(null,e,i,Qi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ua(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 3:if(Ba(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,uo(t,e),ho(e,r,null,n),(r=e.memoizedState.element)===i)Aa(),e=Xa(t,e,n);else{if((i=e.stateNode.hydrate)&&(ka=kn(e.stateNode.containerInfo.firstChild),xa=e,i=Oa=!0),i)for(n=Io(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Na(t,e,r,n),Aa();e=e.child}return e;case 5:return Mo(e),null===t&&Sa(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,_n(r,i)?s=null:null!==o&&_n(r,o)&&(e.effectTag|=16),La(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Na(t,e,s,n),e=e.child),e;case 6:return null===t&&Sa(e),null;case 13:return Ga(t,e,n);case 4:return Ro(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=So(e,null,r,n):Na(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ra(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 7:return Na(t,e,e.pendingProps,n),e.child;case 8:case 12:return Na(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(fi(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Ur(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){e=Xa(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=co(n,null)).tag=2,lo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ro(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Na(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,io(e,n),r=r(i=oo(i,o.unstable_observedBits)),e.effectTag|=1,Na(t,e,r,n),e.child;case 14:return o=Qi(i=e.type,e.pendingProps),Da(t,e,i,o=Qi(i.type,o),r,n);case 15:return Ma(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mi(r)?(t=!0,wi(e)):t=!1,io(e,n),_o(e,r,i),xo(e,r,i,n),Va(null,e,r,!0,t,n);case 19:return Qa(t,e,n)}throw Error(a(156,e.tag))};var Cu=null,Au=null;function Pu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ju(t,e,n,r){return new Pu(t,e,n,r)}function Nu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ru(t,e){var n=t.alternate;return null===n?((n=ju(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Du(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Nu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case et:return Mu(n.children,i,o,e);case at:s=8,i|=7;break;case nt:s=8,i|=1;break;case rt:return(t=ju(12,n,e,8|i)).elementType=rt,t.type=rt,t.expirationTime=o,t;case ut:return(t=ju(13,n,e,i)).type=ut,t.elementType=ut,t.expirationTime=o,t;case ct:return(t=ju(19,n,e,i)).elementType=ct,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case it:s=10;break t;case ot:s=9;break t;case st:s=11;break t;case lt:s=14;break t;case ft:s=16,r=null;break t;case ht:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=ju(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Mu(t,e,n,r){return(t=ju(7,t,r,e)).expirationTime=n,t}function Lu(t,e,n){return(t=ju(6,t,null,e)).expirationTime=n,t}function Fu(t,e,n){return(e=ju(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Vu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Bu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function zu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function qu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Wu(t,e,n,r){var i=e.current,o=ru(),s=vo.suspense;o=iu(o,i,s);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=_i(n,c,u);break t}}n=u}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),lo(i,e),ou(i,o),o}function Hu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ku(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Gu(t,e){Ku(t,e),(t=t.alternate)&&Ku(t,e)}function Yu(t,e,n){var r=new Uu(t,e,n=null!=n&&!0===n.hydrate),i=ju(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,so(i),t[In]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);Ee.forEach(function(t){pe(t,e,n)}),Se.forEach(function(t){pe(t,e,n)})}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function $u(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Hu(a);s.call(t)}}Wu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Yu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Hu(a);u.call(t)}}fu(function(){Wu(e,a,t,i)})}return Hu(a)}function Xu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(e))throw Error(a(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:tt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Yu.prototype.render=function(t){Wu(t,this._internalRoot,null,null)},Yu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Wu(null,t,null,function(){e[In]=null})},ve=function(t){if(13===t.tag){var e=$i(ru(),150,100);ou(t,e),Gu(t,e)}},ge=function(t){13===t.tag&&(ou(t,3),Gu(t,3))},me=function(t){if(13===t.tag){var e=ru();ou(t,e=iu(e,t,null)),Gu(t,e)}},S=function(t,e,n){switch(e){case"input":if(Ot(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jn(r);if(!i)throw Error(a(90));_t(r),Ot(r,i)}}}break;case"textarea":Pt(t,n);break;case"select":null!=(e=n.value)&&It(t,!!n.multiple,e,!1)}},N=lu,R=function(t,e,n,r,i){var o=Ns;Ns|=4;try{return Wi(98,t.bind(null,e,n,r,i))}finally{(Ns=o)===ks&&Gi()}},D=function(){(Ns&(1|Ts|Es))===ks&&(function(){if(null!==Zs){var t=Zs;Zs=null,t.forEach(function(t,e){qu(e,t),uu(e)}),Gi()}}(),Ou())},M=function(t,e){var n=Ns;Ns|=2;try{return t(e)}finally{(Ns=n)===ks&&Gi()}};var Ju={Events:[An,Pn,jn,T,x,Un,function(t){ie(t,Fn)},P,j,$e,se,Ou,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Cu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Au=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Cn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ju,e.createPortal=Xu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if((Ns&(Ts|Es))!==ks)throw Error(a(187));var n=Ns;Ns|=1;try{return Wi(99,t.bind(null,e))}finally{Ns=n,Gi()}},e.hydrate=function(t,e,n){if(!$u(e))throw Error(a(200));return Qu(null,t,e,!0,n)},e.render=function(t,e,n){if(!$u(e))throw Error(a(200));return Qu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$u(t))throw Error(a(40));return!!t._reactRootContainer&&(fu(function(){Qu(null,null,t,!1,function(){t._reactRootContainer=null,t[In]=null})}),!0)},e.unstable_batchedUpdates=lu,e.unstable_createPortal=function(t,e){return Xu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$u(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Qu(t,e,n,!1,r)},e.version="16.14.0"},function(t,e,n){"use strict";t.exports=n(126)},function(t,e,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},f=Date.now();e.unstable_now=function(){return Date.now()-f},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(l,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var y=!1,b=null,_=-1,w=5,x=0;a=function(){return e.unstable_now()>=x},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,O=k.port2;k.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();x=t+w;try{b(!0,t)?O.postMessage(null):(y=!1,b=null)}catch(n){throw O.postMessage(null),n}}else y=!1},r=function(t){b=t,y||(y=!0,O.postMessage(null))},i=function(t,n){_=p(function(){t(e.unstable_now())},n)},o=function(){v(_),_=-1}}function T(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<I(i,e)))break t;t[r]=e,t[n]=i,n=r}}function E(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function I(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],A=[],P=1,j=null,N=3,R=!1,D=!1,M=!1;function L(t){for(var e=E(A);null!==e;){if(null===e.callback)S(A);else{if(!(e.startTime<=t))break;S(A),e.sortIndex=e.expirationTime,T(C,e)}e=E(A)}}function F(t){if(M=!1,L(t),!D)if(null!==E(C))D=!0,r(U);else{var e=E(A);null!==e&&i(F,e.startTime-t)}}function U(t,n){D=!1,M&&(M=!1,o()),R=!0;var r=N;try{for(L(n),j=E(C);null!==j&&(!(j.expirationTime>n)||t&&!a());){var s=j.callback;if(null!==s){j.callback=null,N=j.priorityLevel;var u=s(j.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?j.callback=u:j===E(C)&&S(C),L(n)}else S(C);j=E(C)}if(null!==j)var c=!0;else{var l=E(A);null!==l&&i(F,l.startTime-n),c=!1}return c}finally{j=null,N=r,R=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){D||R||(D=!0,r(U))},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return E(C)},e.unstable_next=function(t){switch(N){case 1:case 2:case 3:var e=3;break;default:e=N}var n=N;N=e;try{return t()}finally{N=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=B,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=N;N=t;try{return e()}finally{N=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:V(t)}else a=V(t),u=s;return t={id:P++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,T(A,t),null===E(C)&&t===E(A)&&(M?o():M=!0,i(F,u-s))):(t.sortIndex=a,T(C,t),D||R||(D=!0,r(U))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();L(t);var n=E(C);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<j.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=N;return function(){var n=N;N=e;try{return t.apply(this,arguments)}finally{N=n}}}},function(t,e,n){var r=n(70),i=n(89),o=n(156),a=n(158),s=n(37),u=n(97),c=n(94);t.exports=function t(e,n,l,f,h){e!==n&&o(n,function(o,u){if(h||(h=new r),s(o))a(e,n,u,l,t,f,h);else{var d=f?f(c(e,u),o,u+"",e,n,h):void 0;void 0===d&&(d=o),i(e,u,d)}},u)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(58),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(58);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(58);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(58);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(57);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(57),i=n(71),o=n(73),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(72),i=n(141),o=n(37),a=n(88),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(59),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(142),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(33)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(145),i=n(57),o=n(71);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(146),i=n(147),o=n(148),a=n(149),s=n(150);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(60);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(60),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(60),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(60),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(61);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(61);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(61);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(61);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(157)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(89),i=n(159),o=n(160),a=n(162),s=n(163),u=n(76),c=n(38),l=n(166),f=n(78),h=n(72),d=n(37),p=n(168),v=n(79),g=n(94),m=n(172);t.exports=function(t,e,n,y,b,_,w){var x=g(t,n),k=g(e,n),O=w.get(k);if(O)r(t,n,O);else{var T=_?_(x,k,n+"",t,e,w):void 0,E=void 0===T;if(E){var S=c(k),I=!S&&f(k),C=!S&&!I&&v(k);T=k,S||I||C?c(x)?T=x:l(x)?T=a(x):I?(E=!1,T=i(k,!0)):C?(E=!1,T=o(k,!0)):T=[]:p(k)||u(k)?(T=x,u(x)?T=m(x):d(x)&&!h(x)||(T=s(k))):E=!1}E&&(w.set(k,T),b(T,k,y,_,w),w.delete(k)),r(t,n,T)}}},function(t,e,n){(function(t){var r=n(33),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(75)(t))},function(t,e,n){var r=n(161);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(91);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(164),i=n(92),o=n(62);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(37),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(47),i=n(44),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(48),i=n(44);t.exports=function(t){return i(t)&&r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(47),i=n(92),o=n(44),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(47),i=n(77),o=n(44),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(87),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(75)(t))},function(t,e,n){var r=n(95),i=n(97);t.exports=function(t){return r(t,i(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(37),i=n(62),o=n(175),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(81),i=n(177),o=n(179);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(178),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(180),i=n(182)(r);t.exports=i},function(t,e,n){var r=n(181),i=n(90),o=n(81),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(52),i=n(48),o=n(80),a=n(37);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(62),i=n(185),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(93)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(100),i=n(48),o=n(63);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}},function(t,e,n){var r=n(188),i=n(210),o=n(104);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(70),i=n(101),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,c=u,l=!s;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){var h=(f=n[u])[0],d=t[h],p=f[1];if(l&&f[2]){if(void 0===d&&!(h in t))return!1}else{var v=new r;if(s)var g=s(d,p,h,t,e,v);if(!(void 0===g?i(p,d,o|a,s,v):g))return!1}}return!0}},function(t,e,n){var r=n(70),i=n(102),o=n(195),a=n(198),s=n(205),u=n(38),c=n(78),l=n(79),f=1,h="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,y){var b=u(t),_=u(e),w=b?d:s(t),x=_?d:s(e),k=(w=w==h?p:w)==p,O=(x=x==h?p:x)==p,T=w==x;if(T&&c(t)){if(!c(e))return!1;b=!0,k=!1}if(T&&!k)return y||(y=new r),b||l(t)?i(t,e,n,g,m,y):o(t,e,w,n,g,m,y);if(!(n&f)){var E=k&&v.call(t,"__wrapped__"),S=O&&v.call(e,"__wrapped__");if(E||S){var I=E?t.value():t,C=S?e.value():e;return y||(y=new r),m(I,C,n,g,y)}}return!!T&&(y||(y=new r),a(t,e,n,g,m,y))}},function(t,e,n){var r=n(73),i=n(191),o=n(192);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(59),i=n(91),o=n(52),a=n(102),s=n(196),u=n(197),c=1,l=2,f="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Map]",v="[object Number]",g="[object RegExp]",m="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,k=x?x.valueOf:void 0;t.exports=function(t,e,n,r,x,O,T){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!O(new i(t),new i(e)));case f:case h:case v:return o(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case p:var E=s;case m:var S=r&c;if(E||(E=u),t.size!=e.size&&!S)return!1;var I=T.get(t);if(I)return I==e;r|=l,T.set(t,e);var C=a(E(t),E(e),r,x,O,T);return T.delete(t),C;case b:if(k)return k.call(t)==k.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(199),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var c=n&i,l=r(t),f=l.length;if(f!=r(e).length&&!c)return!1;for(var h=f;h--;){var d=l[h];if(!(c?d in e:o.call(e,d)))return!1}var p=u.get(t),v=u.get(e);if(p&&v)return p==e&&v==t;var g=!0;u.set(t,e),u.set(e,t);for(var m=c;++h<f;){var y=t[d=l[h]],b=e[d];if(a)var _=c?a(b,y,d,e,t,u):a(y,b,d,t,e,u);if(!(void 0===_?y===b||s(y,b,n,a,u):_)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e,n){var r=n(200),i=n(202),o=n(63);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(201),i=n(38);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(203),i=n(204),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(206),i=n(71),o=n(207),a=n(208),s=n(209),u=n(47),c=n(88),l=c(r),f=c(i),h=c(o),d=c(a),p=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(43)(n(33),"DataView");t.exports=r},function(t,e,n){var r=n(43)(n(33),"Promise");t.exports=r},function(t,e,n){var r=n(43)(n(33),"Set");t.exports=r},function(t,e,n){var r=n(43)(n(33),"WeakMap");t.exports=r},function(t,e,n){var r=n(103),i=n(63);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(101),i=n(212),o=n(219),a=n(82),s=n(103),u=n(104),c=n(65),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,l|f)}}},function(t,e,n){var r=n(105);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(214),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=a},function(t,e,n){var r=n(215),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(73),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(217);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(59),i=n(218),o=n(38),a=n(64),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(220),i=n(221);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(106),i=n(76),o=n(38),a=n(80),s=n(77),u=n(65);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=u(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(h,l)&&(o(t)||i(t))}},function(t,e,n){var r=n(223),i=n(224),o=n(82),a=n(65);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(105);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(226),i=n(100),o=n(227),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(228);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){var r=n(229),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(230),i=n(37),o=n(64),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?a:+t}},function(t,e,n){var r=n(231),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case p:return t;default:switch(t=t&&t.$$typeof){case l:case d:case m:case g:case c:return t;default:return e}}case o:return e}}}function k(t){return x(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=d,e.Fragment=a,e.Lazy=m,e.Memo=g,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return k(t)||x(t)===f},e.isConcurrentMode=k,e.isContextConsumer=function(t){return x(t)===l},e.isContextProvider=function(t){return x(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return x(t)===d},e.isFragment=function(t){return x(t)===a},e.isLazy=function(t){return x(t)===m},e.isMemo=function(t){return x(t)===g},e.isPortal=function(t){return x(t)===o},e.isProfiler=function(t){return x(t)===u},e.isStrictMode=function(t){return x(t)===s},e.isSuspense=function(t){return x(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===u||t===s||t===p||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===c||t.$$typeof===l||t.$$typeof===d||t.$$typeof===b||t.$$typeof===_||t.$$typeof===w||t.$$typeof===y)},e.typeOf=x},function(t,e,n){"use strict";var r=n(22),i=n(107),o=n(234),a=n(113);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(n(110));u.Axios=o,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n(114),u.CancelToken=n(247),u.isCancel=n(109),u.all=function(t){return Promise.all(t)},u.spread=n(248),u.isAxiosError=n(249),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(22),i=n(108),o=n(235),a=n(236),s=n(113);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}}),t.exports=u},function(t,e,n){"use strict";var r=n(22);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";var r=n(22),i=n(237),o=n(109),a=n(110);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return s(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(22);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var r=n(22);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(112);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(22);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(243),i=n(244);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(22),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(22);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(114);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(251),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(40))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){l(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(40),n(53))},function(t,e,n){"use strict";var r=n(253);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";(function(t){var e=n(3);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Qa(e,n)})},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),e),i=n.next()}while(!i.done)})},e});var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function x(t,e,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var O=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function S(t,e,n){this.code=A+t,this.message=e||P[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new S(e.substring(A.length),t.message,t.serverResponse):null}T(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var C,A="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},j={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in j)if(j[e].id===t)return{firebaseEndpoint:(t=j[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}C=N("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(M,D),M.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new F(function(){return new q},function(t){t.reset()});function z(){var t=_e,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Y=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=W(t,e)}function Q(t,e){var n;return(n=0<=(e=W(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ft=u.navigator;if(ft){var ht=ft.userAgent;if(ht){tt=ht;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function _t(t,e){this.a=t===Ot&&e||"",this.b=kt}function wt(t){return t instanceof _t&&t.constructor===_t&&t.b===kt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a},_t.prototype.toString=function(){return"Const{"+this.a+"}"};var xt,kt={},Ot={};function Tt(){if(void 0===xt){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){u.console&&u.console.error(n.message)}xt=t}else xt=t}return xt}function Et(t,e){this.a=e===Pt?t:""}function St(t){return t instanceof Et&&t.constructor===Et?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=wt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Tt();return new Et(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(Ct,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof _t?wt(t):encodeURIComponent(String(t))}))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function jt(t,e){this.a=e===Ut?t:""}function Nt(t){return t instanceof jt&&t.constructor===jt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}jt.prototype.sa=!0,jt.prototype.ra=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof jt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new jt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Rt.test(e[1])?new jt(t,Ut):null}return t}function Ft(t){return t instanceof jt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new jt(t,Ut))}var Ut={},Vt=new jt("about:invalid#zClosurez",Ut);function Bt(t,e,n){this.a=n===zt?t:""}Bt.prototype.sa=!0,Bt.prototype.ra=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function qt(t,e,n,r){return t=t instanceof jt?t:Ft(t),e=e||u,n=n instanceof _t?wt(n):n||"",e.open(Nt(t),n,r,void 0)}function Wt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var Gt,Yt=dt("Opera"),$t=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),Xt=Qt||$t,Jt=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Qt?/Edge\/([\d\.]+)/.exec(t):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Yt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),$t){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=et(String(Gt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}if(u.document&&$t){var se=te();ie=se||(parseInt(Gt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ua){}var ce=!$t||9<=Number(ue);function le(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function fe(t,e){pt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var he,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ge(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):fe(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}H(a?Z(o):o,r)}}}(i,o,r),o}function ge(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){u.setTimeout(function(){throw t},0)}function ye(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(we)}}else de=function(){var t=we;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(he||(he=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ge(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=x(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),he(t)):u.setImmediate(t)}}(),be||(de(),be=!0),_e.add(t,e)}var be=!1,_e=new V;function we(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){me(e)}U(B,t)}be=!1}function xe(t,e){if(this.a=ke,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){De(n,Oe,t)},function(t){if(!(t instanceof ze))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,Te,t)})}catch(r){De(this,Te,r)}}var ke=0,Oe=2,Te=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new F(function(){return new Ee},function(t){t.reset()});function Ie(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof xe)return t;var e=new xe(h);return De(e,Oe,t),e}function Ae(t){return new xe(function(e,n){n(t)})}function Pe(t,e,n){Me(t,e,n,null)||ye(k(e,t))}function je(t){return new xe(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],k(i,o,!0),k(i,o,!1));else e(r)})}function Ne(t,e){t.b||t.a!=Oe&&t.a!=Te||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Ie(null,null,null);return i.a=new xe(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ze?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Ne(t,i),i.a}function De(t,e,n){t.a==ke&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Te||n instanceof ze||function(t,e){t.g=!0,ye(function(){t.g&&Be.call(null,e)})}(t,n)))}function Me(t,e,n,r){if(t instanceof xe)return Ne(t,Ie(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ye(t.gc,t))}function Fe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){Be.call(null,i)}U(Se,e)}function Ve(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}xe.prototype.then=function(t,e,n){return Re(this,v(t)?t:null,v(e)?e:null,n)},xe.prototype.$goog_Thenable=!0,(n=xe.prototype).oa=function(t,e){return(t=Ie(t,t,e)).c=!0,Ne(this,t),this},n.o=function(t,e){return Re(this,null,t,e)},n.cancel=function(t){if(this.a==ke){var e=new ze(t);ye(function(){!function t(e,n){if(e.a==ke)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==ke&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Fe(r),Ue(r,o,Te,n)))}e.c=null}else De(e,Te,n)}(this,e)},this)}},n.$c=function(t){this.a=ke,De(this,Oe,t)},n.ad=function(t){this.a=ke,De(this,Te,t)},n.gc=function(){for(var t;t=Fe(this);)Ue(this,t,this.a,this.i);this.h=!1};var Be=me;function ze(t){D.call(this,t)}function qe(){0!=We&&(He[m(this)]=this),this.xa=this.xa,this.pa=this.pa}T(ze,D),ze.prototype.name="cancel";var We=0,He={};function Ke(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=We)){var e=m(t);if(0!=We&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Ye=!$t||9<=Number(ue),$e=$t&&!ae("9"),Qe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Xe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xe.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Je,Xe);var Ze=Ge({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Je.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++en,this.va=this.Pa=!1}function rn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function on(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(rn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}on.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=sn(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new nn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=wn(n),t&&t[tn]?kn(t,e,n,g(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=bn(t);if(s||(t[un]=s=new on(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=yn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[tn]?On(t,e,n,g(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=wn(n),t&&t[tn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=sn(o=t.a[e],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[tn])an(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=bn(e))?(an(n,t),0==n.b&&(n.src=null,e[un]=null)):rn(t)}}}function vn(t){return t in cn?cn[t]:cn[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&pn(t),n.call(r,e)}function yn(t,e){if(t.va)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Je(e,this))}function bn(t){return(t=t[un])instanceof on?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return v(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function xn(){qe.call(this),this.v=new on(this),this.ac=this,this.gb=null}function kn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function On(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&an(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(v(t))n&&(t=x(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=x(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Sn(t){var e=null;return new xe(function(n,r){-1==(e=En(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw u.clearTimeout(e),t})}function In(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Cn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];jn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)jn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(xn,qe),xn.prototype[tn]=!0,xn.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},xn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},xn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"===typeof t)t=new Xe(t,n);else if(t instanceof Xe)t.target=t.target||n;else{var i=t;yt(t=new Xe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Tn(a,r,!0,t)&&i}if(i=Tn(a=t.b=n,r,!0,t)&&i,i=Tn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tn(a=t.b=e[o],r,!1,t)&&i;return i},xn.prototype.Da=function(){if(xn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,rn(n[r]);delete e.a[t],e.b--}}this.gb=null},(n=An.prototype).W=function(){Pn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Pn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return jn(this.b,t)?this.b[t]:e},n.set=function(t,e){jn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Ln(this,nr(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=zn(n[2]||""),this.a=zn(n[3]||"",!0),Mn(this,n[4]),this.f=zn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=zn(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function Dn(t,e,n){t.c=n?zn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),er(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Yn)),t.b=new Qn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Un(t,e){return t.b.get(e)}function Vn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function Bn(t,e,n,r){var i=new Rn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function zn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Wn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Gn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,$n)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,nr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,Kn=/[#\?:]/g,Gn=/[#\?]/g,Yn=/[#\?@]/g,$n=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Jn(t){var e=Cn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=In(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?er(n,i,o):n.add(i,o)}return n}function Zn(t,e){Xn(t),e=rr(t,e),jn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,jn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pn(t)))}function tr(t,e){return Xn(t),e=rr(t,e),jn(t.a.b,e)}function er(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(rr(t,e),Z(n)),t.b+=n.length)}function nr(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function rr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ir(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),ur(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ur(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new or,t,e),e.join("")}function or(){}(n=Qn.prototype).add=function(t,e){Xn(this),this.c=null,t=rr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){Xn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},n.Y=function(){Xn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.W=function(t){Xn(this);var e=[];if("string"===typeof t)tr(this,t)&&(e=J(e,this.a.get(rr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return Xn(this),this.c=null,tr(this,t=rr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(sr,function(t){var e=ar[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ar[t]=e),e}),'"')}function cr(){var t=Ir();return $t&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function lr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fr(t,e){e=e||u.window;var n="about:blank";t&&(n=Nt(Lt(t)||Vt)),e.location.href=n}function hr(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||u.window;try{t.close()}catch(e){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Tr(Ir())==kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof jt?n:Lt("undefined"!=typeof n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ge(document,"A"),"HTMLAnchorElement"),e=e instanceof jt?e:Ft(e),a.href=Nt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Nt(e),a&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Bt(t=(r=Tt())?r.createHTML(t):t,null,zt),r=a.document)&&(r.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new xe(function(e){"complete"==u.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function yr(t){return t=t||Ir(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function _r(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function wr(){return e.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.default.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function xr(){var t=wr();return"ReactNative"===t||"Node"===t}var kr="Firefox",Or="Chrome";function Tr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?kr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Tr(i=Ir()):"Worker"===r&&(r=Tr(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return u.navigator&&u.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ar(){try{var t=u.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!u.indexedDB}catch(n){return _r()&&!!u.indexedDB}return!1}function Pr(){return(jr()||"chrome-extension:"===Nr()||yr())&&!xr()&&Ar()&&!_r()}function jr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return u.location&&u.location.protocol||null}function Rr(t){return!hr(t=t||Ir())&&Tr(t)!=kr}function Dr(t){return"undefined"===typeof t?null:ir(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Tr(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=wr(),this.b=hr(t)||"ReactNative"===e}function zr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Wr(){return!(!Cr("fireauth.oauthhelper",u)&&!Cr("fireauth.iframe",u))}Br.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!jr()&&"chrome-extension:"!==Nr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Kr={};function Gr(t){Kr[t]||(Kr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Yr.abcd}catch(ua){Hr=!1}function $r(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function Xr(t){var e={};return Qr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ri]),$r(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),$r(this,"phoneNumber",t[ii])}function ai(t){var e={},n=t[li],r=t[hi],i=t[di];if(t=ti(t[fi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[vi]=n||null,e[mi]=n||null,e[pi]=r):(e[vi]=r||null,e[mi]=r||null,e[pi]=n||null),e[gi]=t||null,$r(this,bi,i),$r(this,yi,Jr(e))}T(oi,Zr),oi.prototype.w=function(){var t=oi.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",fi="mfaInfo",hi="newEmail",di="requestType",pi="email",vi="fromEmail",gi="multiFactorInfo",mi="previousEmail",yi="data",bi="operation";function _i(t){var e=Un(t=Vn(t),wi)||null,n=Un(t,xi)||null,r=Un(t,Ti)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new S("argument-error",wi+", "+xi+"and "+Ti+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Un(t,ki)||null,languageCode:Un(t,Oi)||null,tenantId:Un(t,Ei)||null})}var wi="apiKey",xi="oobCode",ki="continueUrl",Oi="languageCode",Ti="mode",Ei="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new _i(t)}catch(e){return null}}function Ci(t){var e=t[Ri];if("undefined"===typeof e)throw new S("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ai];if(n&&"object"===typeof n){e=n[Li];var r=n[Di];if(n=n[Mi],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new S("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new S("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new S("argument-error",Li+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new S("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new S("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"===typeof e){if("string"===typeof(e=e[Fi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new S("argument-error",Fi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new S("argument-error",Ni+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[ji])&&"boolean"!==typeof e)throw new S("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Pi])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new S("argument-error",Pi+" property must be a non empty string when specified.");this.i=t||null}var Ai="android",Pi="dynamicLinkDomain",ji="handleCodeInApp",Ni="iOS",Ri="url",Di="installApp",Mi="minimumVersion",Li="packageName",Fi="bundleId";function Ui(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Bi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}function zi(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new zi(t)}catch(e){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Bi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}zi.prototype.T=function(){return this.f},zi.prototype.l=function(){return this.c},zi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ki},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ki},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ki},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Yi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function $i(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Zi(t);if("undefined"!==typeof t[Qi])return new Ji(t)}catch(r){}return null}var Qi="idToken",Xi="providerId";function Ji(t){var e=t[Xi];if(!e&&t[Qi]){var n=qi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),$r(this,"profile",Jr((t=Lr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=Un(e,"link"),r=Un(Vn(n),"link");return e=Un(e,"deep_link_id"),Un(Vn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ao:so}T(Zi,Ji),T(to,Zi),T(eo,Zi),T(no,Zi),T(ro,Zi);var ao="enroll",so="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Ja]){var n=qi(t[Ja]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==A+"user-not-found"?new S("user-mismatch"):t})}function lo(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function fo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Yi(t)||{}).Ja||null,this.ob=null}function yo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function bo(t){mo.call(this,t,Ki),this.a=[]}function _o(){bo.call(this,"facebook.com")}function wo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function xo(){bo.call(this,"github.com")}function ko(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new xo).credential({accessToken:e})}function Oo(){bo.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Oo).credential({idToken:n,accessToken:e})}function Eo(){mo.call(this,"twitter.com",Hi)}function So(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Io(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new Io(t.email,t.password,t.signInMethod):null}function Ao(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(!(e=jo(e)))throw new S("argument-error","Invalid email link!");return new Io(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function jo(t){return(t=Ii(t=io(t)))&&t.operation===ui?t:null}function No(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new S("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new No(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Mo(t){try{this.a=t||e.default.auth()}catch(n){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new No({eb:t,cb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new No({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return wo(n);case"github.com":return ko(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new lo(e,a):new po(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Uo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function zo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?Ce(this.a):Ce(this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return _s(t,fo(this))},lo.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ws(t,n)},lo.prototype.c=function(t,e){return co(xs(t,fo(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return _s(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,ws(t,n)},po.prototype.c=function(t,e){return co(xs(t,vo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Ib=gt(t),this},T(yo,mo),T(bo,mo),bo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},bo.prototype.Qb=function(){return Z(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},T(_o,bo),$r(_o,"PROVIDER_ID","facebook.com"),$r(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(xo,bo),$r(xo,"PROVIDER_ID","github.com"),$r(xo,"GITHUB_SIGN_IN_METHOD","github.com"),T(Oo,bo),$r(Oo,"PROVIDER_ID","google.com"),$r(Oo,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Eo,mo),$r(Eo,"PROVIDER_ID","twitter.com"),$r(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?ru(t,As,{email:this.a,oobCode:this.f}):ru(t,Js,{email:this.a,password:this.f})},Io.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ps,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ws,{idToken:e,email:this.a,password:this.f})},Io.prototype.c=function(t,e){return co(this.ka(t),e)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Ao,{PROVIDER_ID:"password"}),Qr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(t){return t.fb(Do(this))},No.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,ru(t,tu,n)},No.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",co(t=ru(t,eu,n),e)},No.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.fb=function(t,e){var n=this.a.a;return Ce(e.verify()).then(function(r){if("string"!==typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==ao?i.Ha().then(function(t){return ru(n,Ks,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):i&&i.type==so?i.Ha().then(function(e){return function(t,e){return ru(t,Gs,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return ru(t,zs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"===typeof e.reset&&e.reset(),t},function(t){throw"function"===typeof e.reset&&e.reset(),t});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Qr(Mo,{PROVIDER_ID:"phone"}),Qr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,Wo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Wt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Wt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Ko(t,e,n){S.call(this,t,n),(t=e||{}).Jb&&$r(this,"email",t.Jb),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.Zb&&$r(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Fo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function Yo(){}function $o(t){return t.c||(t.c=t.b())}function Qo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Sb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}function ta(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ea(t,e,n){this.reset(t,e,n,void 0,void 0)}T(Ho,S),T(Ko,S),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,T(Qo,Yo),Qo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Qo,T(Jo,Yo),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(n=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,ta(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ea.prototype.a=null;function na(t){this.f=t,this.b=this.c=this.a=null}function ra(t,e){this.name=t,this.value=e}ea.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||O(),delete this.a},ra.prototype.toString=function(){return this.name};var ia=new ra("SEVERE",1e3),oa=new ra("WARNING",900),aa=new ra("CONFIG",700),sa=new ra("FINE",500);na.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(v(e)&&(e=e()),t=new ea(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ua,ca={},la=null;function fa(t){var e;if(la||(la=new na(""),ca[""]=la,la.c=aa),!(e=ca[t])){e=new na(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=fa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ca[t]=e}return e}function ha(t,e){t&&t.log(sa,e,void 0)}function da(t){this.f=t}function pa(t){xn.call(this),this.u=t,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(da,Yo),da.prototype.a=function(){return new pa(this.f)},da.prototype.b=(ua={},function(){return ua}),T(pa,xn);var va=0;function ga(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ma(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ya(t)}function ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ba(t){xn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=_a,this.u=this.S=!1}(n=pa.prototype).open=function(t,e){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ya(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ma(this)),this.readyState=va},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ga(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ma(this):ya(this),3==this.readyState&&ga(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,ma(this))},n.sc=function(t){this.a&&(this.response=t,ma(this))},n.Ua=function(t){var e=this.i;e&&e.log(oa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ma(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(oa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(oa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),T(ba,xn);var _a="";ba.prototype.b=fa("goog.net.XhrIo");var wa=/^https?$/i,xa=["POST","PUT"];function ka(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=t.D?$o(t.D):$o(qo),t.a.onreadystatechange=x(t.Vb,t);try{ha(t.b,ja(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ha(t.b,ja(t,"Error opening Xhr: "+a.message)),void Ta(t,a)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)H(t,e,void 0);else for(var n=Cn(t),r=In(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Oa,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!$(xa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ca(t),0<t.g&&(t.u=function(t){return $t&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ha(t.b,ja(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=x(t.Ma,t)):t.s=En(t.Ma,t.g,t)),ha(t.b,ja(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ha(t.b,ja(t,"Send error: "+a.message)),Ta(t,a)}}function Oa(t){return"content-type"==t.toLowerCase()}function Ta(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ea(t),Ia(t)}function Ea(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Sa(t){if(t.c&&"undefined"!=typeof s)if(t.C[1]&&4==Aa(t)&&2==Pa(t))ha(t.b,ja(t,"Local request error detected and ignored"));else if(t.i&&4==Aa(t))En(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Aa(t)){ha(t.b,ja(t,"Request complete")),t.c=!1;try{var e,n=Pa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!wa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Aa(t)?t.a.statusText:""}catch(l){ha(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Pa(t)+"]",Ea(t)}}finally{Ia(t)}}}function Ia(t,e){if(t.a){Ca(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ia,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ca(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Aa(t){return t.a?t.a.readyState:0}function Pa(t){try{return 2<Aa(t)?t.a.status:-1}catch(e){return-1}}function ja(t,e){return e+" ["+t.R+" "+t.l+" "+Pa(t)+"]"}function Na(t){var e=Wa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ra(t,e,n){t.a=!0,t.c=n,t.f=!e,Fa(t)}function Da(t){if(t.a){if(!t.v)throw new Ua(t);t.v=!1}}function Ma(t,e,n,r){t.g.push([e,n,r]),t.a&&Fa(t)}function La(t){return Y(t.g,function(t){return v(t[1])})}function Fa(t){if(t.h&&t.a&&La(t)){var e=t.h,n=za[e];n&&(u.clearTimeout(n.a),delete za[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(R(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,La(t)||(n=!0)}}t.c=e,r&&(s=x(t.m,t,!0),r=x(t.m,t,!1),e instanceof Na?(Ma(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Ba(e),za[e.a]=e,t.h=e.a)}function Ua(){D.call(this)}function Va(){D.call(this)}function Ba(t){this.a=u.setTimeout(x(this.c,this),0),this.b=t}(n=ba.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,ja(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ha(this.b,ja(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ia(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ia(this,!0)),ba.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?Sa(this):this.Jc())},n.Jc=function(){Sa(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ia,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ha(this.b,"Can not get response: "+e.message),null}},Na.prototype.cancel=function(t){if(this.a)this.c instanceof Na&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Va(this),Da(this),Ra(this,!1,t))}},Na.prototype.m=function(t,e){this.i=!1,Ra(this,t,e)},Na.prototype.then=function(t,e,n){var r,i,o=new xe(function(t,e){r=t,i=e});return Ma(this,r,function(t){t instanceof Va?o.cancel():i(t)}),o.then(t,e,n)},Na.prototype.$goog_Thenable=!0,T(Ua,D),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",T(Va,D),Va.prototype.message="Deferred was canceled",Va.prototype.name="CanceledError",Ba.prototype.c=function(){throw delete za[this.a],this.b};var za={};function qa(t){var e={},n=e.document||document,r=St(t).toString(),i=ge(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Na(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){Ha(i,!0);var t=new Ya(Ga,"Timeout reached for loading script "+r);Da(a),Ra(a,!1,t)},c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,e.xd||!1,s),Da(a),Ra(a,!0,null))},i.onerror=function(){Ha(i,!0,s);var t=new Ya(Ka,"Error while loading script "+r);Da(a),Ra(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),fe(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=f(e.document):(null===l&&(l=f(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ha(t,!0,this.Ma)}}function Ha(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ka=0,Ga=1;function Ya(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function $a(t){this.f=t}function Qa(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Za,this.g=gt(t.secureTokenHeaders||ts),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||es,this.a=gt(t.firebaseHeaders||ns),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==wr(),!(r=u.XMLHttpRequest||r&&e.default.INTERNAL.node&&e.default.INTERNAL.node.XMLHttpRequest)&&!_r())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,_r()?this.f=new da(self):xr()?this.f=new $a(r):this.f=new Jo,this.b=null}T(Ya,D),T($a,Yo),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var Xa,Ja="idToken",Za=new Br(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},es=new Br(3e4,6e4),ns={"Content-Type":"application/json"};function rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function is(t,e){e&&(t.l=os("https://securetoken.googleapis.com/v1/token",e),t.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=os("https://identitytoolkit.googleapis.com/v2/",e))}function os(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function as(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ss(t,e,n,r,i,o,a){(function(){var t=Ir();return!((t=Tr(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!$t||!ue||9<ue)})()||_r()?t=x(t.u,t):(Xa||(Xa=new xe(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[cs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=It(us,{onload:cs});!function(t,e){Ma(t,null,e,void 0)}(qa(n),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=x(t.s,t)),t(e,n,r,i,o,a)}Qa.prototype.T=function(){return this.b},Qa.prototype.u=function(t,e,n,r,i,o){if(_r()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ba(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}kn(a,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ha(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),On(a,"ready",function(){s&&clearTimeout(s),Ke(this)}),On(a,"timeout",function(){s&&clearTimeout(s),Ke(this),e&&e(null)}),ka(a,t,n,r,i)};var us=new _t(Ot,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function ls(t,e,n,r,i,o,a){var s=Vn(e+n);Fn(s,"key",t.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new xe(function(e,n){ss(t,s.toString(),function(t){t?t.error?n(ou(t,o||{})):e(t):n(new S("network-request-failed"))},r,u?void 0:ir(Mr(i)),t.a,t.v.get())})}function fs(t){if("string"!==typeof(t=t.email)||!gr.test(t))throw new S("invalid-email")}function hs(t){"email"in t&&fs(t)}function ds(t){if(!t[Ja]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,gt(t));throw new S("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Qa.prototype.s=function(t,e,n,r,i){var o=this;Xa.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Qa.prototype.zb=function(){return ru(this,Hs,{})},Qa.prototype.Bb=function(t,e){return ru(this,qs,{idToken:t,email:e})},Qa.prototype.Cb=function(t,e){return ru(this,Ws,{idToken:t,password:e})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(tr(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ds(t)}function _s(t,e){return e.returnIdpCredential=!0,ru(t,Ys,e)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Qs,e)}function xs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,$s,e)}function ks(t){if(!t.oobCode)throw new S("invalid-action-code")}(n=Qa.prototype).Db=function(t,e){var n={idToken:t},r=[];return pt(vs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ru(this,qs,n)},n.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Fs,t)},n.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ds,t)},n.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ms,t)},n.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Ls,t)},n.fb=function(t){return ru(this,Zs,t)},n.nb=function(t,e){return ru(this,Bs,{oobCode:t,newPassword:e})},n.Ra=function(t){return ru(this,Ts,{oobCode:t})},n.jb=function(t){return ru(this,Os,{oobCode:t})};var Os={endpoint:"setAccountInfo",A:ks,Z:"email",B:!0},Ts={endpoint:"resetPassword",A:ks,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},Es={endpoint:"signupNewUser",A:function(t){if(fs(t),!t.password)throw new S("weak-password")},G:ds,V:!0,B:!0},Ss={endpoint:"createAuthUri",B:!0},Is={endpoint:"deleteAccount",N:["idToken"]},Cs={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},As={endpoint:"emailLinkSignin",N:["email","oobCode"],A:fs,G:ds,V:!0,B:!0},Ps={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:fs,G:ds,V:!0},js={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Ns={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Rs={endpoint:"getAccountInfo"},Ds={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");fs(t)},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");fs(t)},Z:"email",B:!0},Us={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Vs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Bs={endpoint:"resetPassword",A:ks,Z:"email",B:!0},zs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qs={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},Ws={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(hs(t),!t.password)throw new S("weak-password")},G:ds,V:!0},Hs={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Ks={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Gs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ys={endpoint:"verifyAssertion",A:ms,Ya:ys,G:bs,V:!0,B:!0},$s={endpoint:"verifyAssertion",A:ms,Ya:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ds(t)},V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new S("internal-error")},Ya:ys,G:bs,V:!0},Xs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:ds,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(t){if(fs(t),!t.password)throw new S("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ds(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ja]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.N))return Ae(new S("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ce(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ls(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]})}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Dr(t)),new S("internal-error",e)}function au(t){this.b=t,this.a=null,this.rb=function(t){return(lu||(lu=new xe(function(t,e){function n(){Vr(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:uu.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},Ce(qa(r=It(su,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw lu=null,t}))).then(function(){return new xe(function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},cu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var su=new _t(Ot,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Br(3e4,6e4),cu=new Br(5e3,15e3),lu=null;function fu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Bn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Bn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return e.default.app(t).auth().Ga()}catch(n){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=lr();return function(t){return ru(t,Us,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ho(lr())})}function gu(t){return t.m?t.m:(t.m=mr().then(function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new fu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)})}(t)}),t.m)}function mu(t){return t.l||(t.C=t.c?Sr(t.c,du(t.b)):null,t.l=new Qa(t.g,N(t.i),t.C),t.f&&is(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,c,l,f){return(t=new hu(t,e,n,r,i,f)).l=o,t.g=a,t.i=s,t.b=gt(u||null),t.f=c,t.yb(l).toString()}function bu(t){if(this.a=t||e.default.INTERNAL.reactNative&&e.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function _u(t){this.b=t,this.a={},this.f=x(this.c,this)}fu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Bn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Bn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.default.app(this.c).auth().la()}catch(u){r=null}for(var i in n.ob=r,Fn(t,"providerId",this.a.providerId),n=Mr((r=this.a).Ib))n[i]=n[i].toString();i=r.Qc,n=gt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.pb&&r.ob&&!n[r.pb]&&(n[r.pb]=r.ob),vt(n)||Fn(t,"customParameters",Dr(n))}if("function"===typeof this.a.Qb&&((r=this.a.Qb()).length&&Fn(t,"scopes",r.join(","))),this.l?Fn(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Zn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(t,s)&&Fn(t,s,this.b[s]);return this.h?Fn(t,"tid",this.h):Zn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Zn(t.b,"eid"),(s=du(this.c)).length&&Fn(t,"fw",s.join(",")),t.toString()},(n=pu.prototype).Ob=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then(function(){return function(t,e){return t.rb.then(function(){return new xe(function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&dr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new xe(function(e){return function n(){Sn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Sn(n).then(function(){e(r)})})},n.Xb=function(){var t=Ir();return!Rr(t)&&!Ur(t)},n.Tb=function(){return!1},n.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ae(new S("popup-blocked"));if(a&&!Rr())return this.ma().o(function(e){dr(t),i(e)}),r(),Ce();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw dr(t),i(e),e});return r(),e}).then(function(){(Uo(n),a)||fr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},n.Nb=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then(function(){Uo(e),fr(yu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},n.ma=function(){var t=this;return gu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new S("network-request-failed")})},n.$b=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Sa=function(t){X(this.h,function(e){return e==t})},(n=bu.prototype).get=function(t){return Ce(this.a.getItem(t)).then(function(t){return t&&Lr(t)})},n.set=function(t,e){return Ce(this.a.setItem(t,Dr(e)))},n.U=function(t){return Ce(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var wu,xu=[];function ku(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ou(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function Eu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new xe(function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(e){return Su(t,c),e}).o(function(e){throw Su(t,c),e})}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(t.a,function(t){return t==e})}}function Iu(){if(!ju())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_r()&&self?(this.v=function(){var t=_r()?self:null;if(H(xu,function(n){n.b==t&&(e=n)}),!e){var e=new _u(t);xu.push(e)}return e}(),ku(this.v,"keyChanged",function(e,n){return Lu(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}),ku(this.v,"ping",function(){return Ce(["keyChanged"])})):function(){var t=u.navigator;return t&&t.serviceWorker?Ce().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ce(null)}().then(function(e){(t.h=e)&&(t.g=new Tu(new Ou(e)),Eu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Cu(t){return new xe(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new xe(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Cu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Au(t){return t.i||(t.i=Cu(t)),t.i}function Pu(t,e){var n=0;return new xe(function r(i,o){Au(t).then(e).then(i).o(function(e){if(!(3<++n))return Au(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function ju(){try{return!!u.indexedDB}catch(ua){return!1}}function Nu(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Du(t){return new xe(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Mu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Eu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ce()}function Lu(t){return Au(t).then(function(t){var e=Nu(Ru(t,!1));return e.getAll?Du(e.getAll()):new xe(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then(function(){if(ju()){var t=Fr(),r="__sak"+t;return wu||(wu=new Iu),(n=wu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Vu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var t="Node"==wr();if(!(t=zu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==wr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=zu()||e.default.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=u.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){this.type="nullStorage"}function Wu(){if(!function(){var t="Node"==wr();if(!(t=Hu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==wr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Hu()||e.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=u.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ku(){var t={};t.Browser=$u,t.Node=Qu,t.ReactNative=Xu,t.Worker=Ju,this.a=t[wr()]}_u.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Ce().then(function(){return e(t.origin,t.data.data)}))}),je(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Ou.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(n=Iu.prototype).set=function(t,e){var n=this,r=!1;return Pu(this,function(e){return Du((e=Nu(Ru(e,!0))).get(t))}).then(function(i){return Pu(n,function(o){if(o=Nu(Ru(o,!0)),i)return i.value=e,Du(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Du(o.add(a))})}).then(function(){return n.c[t]=e,Mu(n,t)}).oa(function(){r&&n.b--})},n.get=function(t){return Pu(this,function(e){return Du(Nu(Ru(e,!1)).get(t))}).then(function(t){return t&&t.value})},n.U=function(t){var e=this,n=!1;return Pu(this,function(r){return n=!0,e.b++,Du(Nu(Ru(r,!0)).delete(t))}).then(function(){return delete e.c[t],Mu(e,t)}).oa(function(){n&&e.b--})},n.ca=function(t){0==this.a.length&&function(t){Fu(t),function e(){t.f=setTimeout(function(){t.l=Lu(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},n.ia=function(t){X(this.a,function(e){return e==t}),0==this.a.length&&Fu(this)},(n=Uu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},n.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},n.U=function(t){return this.b.then(function(e){return e.U(t)})},n.ca=function(t){this.a.push(t)},n.ia=function(t){X(this.a,function(e){return e==t})},(n=Vu.prototype).get=function(t){return Ce(this.a[t])},n.set=function(t,e){return this.a[t]=e,Ce()},n.U=function(t){return delete this.a[t],Ce()},n.ca=function(){},n.ia=function(){},(n=Bu.prototype).get=function(t){var e=this;return Ce().then(function(){return Lr(e.a.getItem(t))})},n.set=function(t,e){var n=this;return Ce().then(function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)})},n.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},n.ca=function(t){u.window&&ln(u.window,"storage",t)},n.ia=function(t){u.window&&dn(u.window,"storage",t)},(n=qu.prototype).get=function(){return Ce(null)},n.set=function(){return Ce()},n.U=function(){return Ce()},n.ca=function(){},n.ia=function(){},(n=Wu.prototype).get=function(t){var e=this;return Ce().then(function(){return Lr(e.a.getItem(t))})},n.set=function(t,e){var n=this;return Ce().then(function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)})},n.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},n.ca=function(){},n.ia=function(){};var Gu,Yu,$u={F:Bu,bb:Wu},Qu={F:Bu,bb:Wu},Xu={F:bu,bb:qu},Ju={F:Bu,bb:qu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Ur(Ir())||!br()),e=Rr(),n=Ar();this.m=t,this.h=e,this.l=n,this.a={},Gu||(Gu=new Ku),t=Gu;try{this.g=!cr()&&Wr()||!u.indexedDB?new t.a.F:new Uu(_r()?new Vu:new t.a.F)}catch(r){this.g=new Vu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Vu}this.v=new Vu,this.f=x(this.Yb,this),this.b={}}function ec(){return Yu||(Yu=new tc),Yu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(n=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},n.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},n.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(nc(this,"local").ca(this.f),this.h||(cr()||!Wr())&&u.indexedDB||!this.l||function(t){oc(t),t.c=setInterval(function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(X(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},n.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.mb(e))},$t&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,x(this.mb,this))},n.mb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=fc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=u.Int32Array?new Int32Array(yc):yc),this.reset()}T(lc,function(){this.b=-1});for(var fc=64,hc=fc-1,dc=[],pc=0;pc<hc;pc++)dc[pc]=0;var vc=J(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|sc[e])|0)+(0|n[e])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,_c)}T(bc,lc);var _c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function xc(t){return new S("invalid-cordova-configuration",t)}function kc(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function Oc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Tc(t){return t.f||(t.f=t.ma().then(function(){return new xe(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Ec(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Lr(Un(o=Vn(i),"firebaseError")||null))?I(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Oc(t,i)})}var n=new Vo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Sn(500).then(function(){return Ec(t).then(function(){r||Oc(t,n)})}),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Wo||(Wo=new zo),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Cr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)})})),t.f}function Ec(t){var e=null;return function(t){return t.b.get(uc,t.a).then(function(t){return Bo(t)})}(t.g).then(function(n){return e=n,ic((n=t.g).b,uc,n.a)}).then(function(){return e})}function Sc(t){this.a=t,this.b=ec()}(n=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?mr().then(function(){return new xe(function(t,e){var n=u.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!==typeof Cr("universalLinks.subscribe",u))throw xc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Cr("BuildInfo.packageName",u))throw xc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Cr("cordova.plugins.browsertab.openUrl",u))throw xc("cordova-plugin-browsertab is not installed");if("function"!==typeof Cr("cordova.InAppBrowser.open",u))throw xc("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})},n.Ob=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Ce()},n.Mb=function(){return Ae(new S("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(t,e,n,r){if(this.c)return Ae(new S("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ce().then(function(){return Uo(e),Tc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Vo(e,r,null,o,new S("no-auth-event"),null,i),s=Cr("BuildInfo.packageName",u);if("string"!==typeof s)throw new S("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",u),l={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ir().toLowerCase().match(/android/))return Ae(new S("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=kc(o),l.sessionId=o;var f=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(uc,a.w(),e)}).then(function(){var e=Cr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new S("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!==typeof(n=Cr("cordova.plugins.browsertab.openUrl",u)))throw new S("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Cr("cordova.InAppBrowser.open",u)))throw new S("invalid-cordova-configuration");e=Ir(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new xe(function(t,e){s=function(){var e=Cr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=Sn(2e3).then(function(){e(new S("redirect-cancelled-by-user"))}))},l=function(){zr()&&c()},o.addEventListener("resume",c,!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Ec(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null})},n.Ea=function(t){this.b.push(t),Tc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new S("no-auth-event")),t(e))})},n.Sa=function(t){X(this.b,function(e){return e==t})};var Ic={name:"pendingRedirect",F:"session"};function Cc(t){return ic(t.b,Ic,t.a)}function Ac(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new Hc,this.C=new Qc,this.g=new Sc(qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Pc(this.D,this.v,this.m,C,this.J)}function Pc(t,n,r,i,o){var a=e.default.SDK_VERSION||null;return yr()?new wc(t,n,r,a,i,o):new pu(t,n,r,a,i,o)}function jc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Nc(t){t.a.Xb()&&jc(t).o(function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}),t.a.Tb()||Kc(t.b)}function Rc(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ic,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Cc(t.g).then(function(){jc(t).o(function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})}):Nc(t)}).o(function(){Nc(t)})}function Dc(t,e){X(t.h,function(t){return t==e})}Ac.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Pc(this.D,this.v,this.m,null,this.J),this.i={}},Ac.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Kc(this.b),e};var Mc=new Br(2e3,1e4),Lc=new Br(3e4,6e4);function Fc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Vc(t,e,n,r,i){var o;return function(t){return t.b.set(Ic,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Uc(e))throw new S("operation-not-supported-in-this-environment");return o=e,Cc(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new xe(function(){}):Cc(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Bc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},Mc.get())}Ac.prototype.qa=function(){return this.b.qa()};var zc={};function qc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Wc(t,e,n,r){var i=qc(e,n,r);return zc[i]||(zc[i]=new Ac(t,e,n,r)),zc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(t){t.g||(t.g=!0,$c(t,!1,null,null))}function Gc(t){t.g&&!t.i&&$c(t,!1,null,null)}function Yc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function $c(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Yc(t,n):Yc(t,{user:null}),t.f=[],t.c=[]}function Qc(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Jc(t,e){this.a=e,$r(this,"verificationId",t)}function Zc(t,e,n,r){return new Mo(t).fb(e,n).then(function(t){return new Jc(t,r)})}function tl(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;H(e[nl]||[],function(t){(t=ti(t))&&i.b.push(t)}),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?($c(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){$c(t,s,e,null)}).o(function(e){$c(t,s,null,e)})}(this,t,e):Ae(new S("invalid-auth-event")):($c(this,!1,null,null),Ce())}else Ae(new S("invalid-auth-event"))},Hc.prototype.qa=function(){var t=this;return new xe(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=Sn(Lc.get()).then(function(){t.b||(t.g=!0,$c(t,!0,null,e))})}(t))})},Qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ae(new S("invalid-auth-event"))}else Ae(new S("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),$r(this,"resolver",this.b)}function ol(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(r){}return null}function al(){}function sl(t){$r(this,"factorId",t.fa),this.a=t}function ul(t){if(sl.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in Xe.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=x(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),fl(this,n)}function fl(t,e){t.b=e,$r(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=qi(e[Ja]||""),t.a=e.refreshToken,pl(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function gl(t,e){return function(t,e){return new xe(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ss(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))},"POST",Jn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))})}(t.f,e).then(function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function ml(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function yl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bl(t,n,r){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e.default.SDK_VERSION?Sr(e.default.SDK_VERSION):null;this.a=new Qa(this.l,N(C),i),t.emulatorConfig&&is(this.a,t.emulatorConfig),this.b=new dl(this.a),Sl(this,n[Ja]),vl(this.b,n),$r(this,"refreshToken",this.b.a),Al(this,r||{}),xn.call(this),this.R=!1,this.s&&Pr()&&(this.i=Wc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new hl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=x(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){is(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){xl(o,t.f)},this.ba=null,this.O=new ll(this,r),$r(this,"multiFactor",this.O)}function _l(t,e){t.ja&&dn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&ln(e,"languageCodeChanged",t.Oa)}function wl(t,e){t.X&&dn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&ln(e,"emulatorConfigChanged",t.Aa)}function xl(t,n){t.$=n,as(t.a,e.default.SDK_VERSION?Sr(e.default.SDK_VERSION,t.$):null)}function kl(t,e){t.ba&&dn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&ln(e,"frameworkChanged",t.Ba)}function Ol(t){try{return e.default.app(t.m).auth()}catch(n){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Tl(t){t.D||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.aa),ln(t,"tokenChanged",t.aa))}function El(t){dn(t,"tokenChanged",t.aa),t.u.stop()}function Sl(t,e){t.za=e,$r(t,"_lat",e)}function Il(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return je(e).then(function(){return t})}function Cl(t){t.i&&!t.R&&(t.R=!0,Rc(t.i,t))}function Al(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ml(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Pl(){}function jl(t){return Ce().then(function(){if(t.D)throw new S("app-deleted")})}function Nl(t){return G(t.providerData,function(t){return t.providerId})}function Rl(t,e){e&&(Dl(t,e.providerId),t.providerData.push(e))}function Dl(t,e){X(t.providerData,function(t){return t.providerId==e})}function Ml(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function Ll(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?$r(t,"metadata",function(t){return new ml(t.a,t.b)}(e.metadata)):$r(t,"metadata",new ml),H(e.providerData,function(e){Rl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),$r(t,"refreshToken",t.b.a),fl(t.O,e.O.b))}function Fl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Rs,{idToken:e}).then(x(t.Kc,t))}(t,e).then(function(){return n||Ml(t,"isAnonymous",!1),e})})}function Ul(t,e){e[Ja]&&t.za!=e[Ja]&&(vl(t.b,e),t.dispatchEvent(new cl("tokenChanged")),Sl(t,e[Ja]),Ml(t,"refreshToken",t.b.a))}function Vl(t,e){return Fl(t).then(function(){if($(Nl(t),e))return Il(t).then(function(){throw new S("provider-already-linked")})})}function Bl(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=$i(e),operationType:n})}function zl(t,e){return Ul(t,e),t.reload().then(function(){return t})}function ql(t,n,r,i,o){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ae(t.h);var a=Yi(r.providerId),s=Fr(t.uid+":::"),u=null;(!Rr()||br())&&t.s&&r.isOAuthProvider&&(u=yu(t.s,t.l,t.m,n,r,null,s,e.default.SDK_VERSION||null,null,null,t.tenantId));var c=pr(u,a&&a.ua,a&&a.ta);return i=i().then(function(){if(Hl(t),!o)return t.I().then(function(){})}).then(function(){return Fc(t.i,c,n,r,s,!!u,t.tenantId)}).then(function(){return new xe(function(e,r){t.na(n,null,new S("cancelled-popup-request"),t.g||null),t.f=e,t.C=r,t.g=s,t.c=Bc(t.i,t,n,c,s)})}).then(function(t){return c&&dr(c),t?Xr(t):null}).o(function(t){throw c&&dr(c),t}),Kl(t,i,o)}function Wl(t,e,n,r,i){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,a=Fr(t.uid+":::");return r=r().then(function(){if(Hl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,Il(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set($l,t.w(),e.a)),e}).then(function(){return Vc(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Ql(t.ha);throw o}).then(function(){if(o)throw o}),Kl(t,r,i)}function Hl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Kl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new cl("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){Q(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),Ol(t),x(t.jc,t))),n||e})}function Gl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ja]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Rl(i,Xr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Yl(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[nl],delete n[rl],yt(n,t),e.g(n)})},T(il,S),al.prototype.sb=function(t,e,n){return e.type==ao?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Do(t.a)}),ru(e,js,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),ru(e,Ns,n)})}(this,t,e)},T(sl,al),T(ul,sl),T(cl,Xe),(n=ll.prototype).yc=function(t){fl(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=ti(t))&&e.push(t)}),e}(t.hd))},n.Rb=function(){return this.a.I().then(function(t){return new oo(t,null)})},n.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Ul(n.a,t),n.a.reload()})},n.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=K(e.b,function(t){return t.uid!=n});return fl(e,r),Ul(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},n.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},hl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop();e.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return function(){var t=u.document,e=null;return zr()||!t?Ce():new xe(function(n){e=function(){zr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(bl,xn),bl.prototype.wa=function(t){this.ya=t,rs(this.a,t)},bl.prototype.la=function(){return this.ya},bl.prototype.Ga=function(){return Z(this.$)},bl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},$r(bl.prototype,"providerId","firebase"),(n=bl.prototype).reload=function(){var t=this;return Kl(this,jl(this).then(function(){return Fl(t).then(function(){return Il(t)}).then(Pl)}))},n.oc=function(t){return this.I(t).then(function(t){return new tl(t)})},n.I=function(t){var e=this;return Kl(this,jl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.za&&(Sl(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),Ml(e,"refreshToken",t.refreshToken),t.accessToken}))},n.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");Al(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new yl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Rl(this,e[n]);Ml(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},n.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},n.tb=function(t){var e=this,n=null;return Kl(this,t.c(this.a,this.uid).then(function(t){return Ul(e,t),n=Bl(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},n.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},n.qb=function(t){var e=this,n=null;return Kl(this,Vl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Bl(e,t,"link"),zl(e,t)}).then(function(){return n}))},n.Dc=function(t,e){var n=this;return Kl(this,Vl(this,"phone").then(function(){return Zc(Ol(n),t,e,x(n.qb,n))}))},n.Mc=function(t,e){var n=this;return Kl(this,Ce().then(function(){return Zc(Ol(n),t,e,x(n.tb,n))}),!0)},n.Bb=function(t){var e=this;return Kl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Ul(e,t),e.reload()}))},n.ed=function(t){var e=this;return Kl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ul(e,t),e.reload()}))},n.Cb=function(t){var e=this;return Kl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ul(e,t),e.reload()}))},n.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return jl(this);var e=this;return Kl(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ul(e,t),Ml(e,"displayName",t.displayName||null),Ml(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))}),Il(e)}).then(Pl))},n.cd=function(t){var e=this;return Kl(this,Fl(this).then(function(n){return $(Nl(e),t)?function(t,e,n){return ru(t,Cs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Nl(e),function(t){n[t]||Dl(e,t)}),n[Mo.PROVIDER_ID]||$r(e,"phoneNumber",null),Il(e)}):Il(e).then(function(){throw new S("no-such-provider")})}))},n.delete=function(){var t=this;return Kl(this,this.I().then(function(e){return ru(t.a,Is,{idToken:e})}).then(function(){t.dispatchEvent(new cl("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");_l(t,null),wl(t,null),kl(t,null),t.J=[],t.D=!0,El(t),$r(t,"refreshToken",null),t.i&&Dc(t.i,t)})},n.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?x(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?x(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?x(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?x(this.Lb,this):null},n.Ec=function(t){var e=this;return ql(this,"linkViaPopup",t,function(){return Vl(e,t.providerId).then(function(){return Il(e)})},!1)},n.Nc=function(t){return ql(this,"reauthViaPopup",t,function(){return Ce()},!0)},n.Fc=function(t){var e=this;return Wl(this,"linkViaRedirect",t,function(){return Vl(e,t.providerId)},!1)},n.Oc=function(t){return Wl(this,"reauthViaRedirect",t,function(){return Ce()},!0)},n.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,this.I().then(function(n){return ws(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Bl(i,t,"link"),zl(i,t)}).then(function(){return o}))},n.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,Ce().then(function(){return co(xs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Bl(i,t,"reauthenticate"),Ul(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},n.ub=function(t){var e=this,n=null;return Kl(this,this.I().then(function(e){return n=e,"undefined"===typeof t||vt(t)?{}:Ui(new Ci(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},n.Eb=function(t,e){var n=this,r=null;return Kl(this,this.I().then(function(t){return r=t,"undefined"===typeof e||vt(e)?{}:Ui(new Ci(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},n.jc=function(t){var e=null,n=this;return Kl(this,t=co(Ce(t),n.uid).then(function(t){return e=Bl(n,t,"reauthenticate"),Ul(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.O.w()),t};var $l={name:"redirectUser",F:"session"};function Ql(t){return ic(t.b,$l,t.a)}function Xl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=tf("local"),n=tf("session"),r=tf("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Lr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Zl,t.a).then(function(t){return t?tf(t):e})})})}).then(function(e){return t.c=e,Jl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(tf("local"),this.a,x(this.g,this))}function Jl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,tf(Zu[n]),t.a));return r.push(ic(t.b,Zl,t.a)),function(t){return new xe(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Pe(t[s],k(o,s),a);else e(i)})}(r)}Xl.prototype.g=function(){var t=this,e=tf("local");of(this,function(){return Ce().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Jl(t,"local").then(function(){t.c=e})})})};var Zl={name:"persistence",F:"session"};function tf(t){return{name:"authUser",F:t}}function ef(t,e){return of(t,function(){return t.b.set(t.c,e.w(),t.a)})}function nf(t){return of(t,function(){return ic(t.b,t.c,t.a)})}function rf(t,e,n){return of(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Gl(t||{})})})}function of(t,e){return t.f=t.f.then(e,e),t.f}function af(t){if(this.l=!1,$r(this,"settings",new Xc),$r(this,"app",t),!vf(this).options||!vf(this).options.apiKey)throw new S("invalid-api-key");t=e.default.SDK_VERSION?Sr(e.default.SDK_VERSION):null,this.a=new Qa(vf(this).options&&vf(this).options.apiKey,N(C),t),this.R=[],this.s=[],this.O=[],this.hb=e.default.INTERNAL.createSubscribe(x(this.zc,this)),this.X=void 0,this.bc=e.default.INTERNAL.createSubscribe(x(this.Ac,this)),df(this,null),this.i=new Xl(vf(this).options.apiKey+":"+vf(this).name),this.D=new Yl(vf(this).options.apiKey+":"+vf(this).name),this.$=bf(this,function(t){var e=vf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get($l,t.a).then(function(t){return t&&e&&(t.authDomain=e),Gl(t||{})})}(t.D,vf(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Ql(t.D)});return bf(t,e)}(t).then(function(){return rf(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return ef(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:nf(t.i)})):null}).then(function(e){df(t,e||null)});return bf(t,n)}(this)),this.h=bf(this,function(t){return t.$.then(function(){return ff(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(tf("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.ya=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,function(t){var e=vf(t).options.authDomain,n=vf(t).options.apiKey;e&&Pr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Wc(e,n,vf(t).name,t.P),Rc(t.b,t),gf(t)&&Cl(gf(t)),t.m){Cl(t.m);var r=t.m;r.wa(t.la()),_l(r,t),xl(r=t.m,t.J),kl(r,t),is((r=t.m).a,t.P),wl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,xn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function sf(t){Xe.call(this,"languageCodeChanged"),this.h=t}function uf(t){Xe.call(this,"emulatorConfigChanged"),this.c=t}function cf(t){Xe.call(this,"frameworkChanged"),this.f=t}function lf(t){return t.Oa||Ae(new S("auth-domain-config-required"))}function ff(t){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));var e=lf(t).then(function(){return t.b.qa()}).then(function(t){return t?Xr(t):null});return bf(t,e)}function hf(t,e){var n={};return n.apiKey=vf(t).options.apiKey,n.authDomain=vf(t).options.authDomain,n.appName=vf(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new bl(t,e);return n&&(i.ha=n),r&&xl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return gf(t)&&e.uid==gf(t).uid?(Ll(gf(t),e),t.da(e)):(df(t,e),Cl(e),t.da(e))}).then(function(){yf(t)})}function df(t,e){gf(t)&&(function(t,e){X(t.S,function(t){return t==e})}(gf(t),t.Ba),dn(gf(t),"tokenChanged",t.ya),dn(gf(t),"userDeleted",t.za),dn(gf(t),"userInvalidated",t.Aa),El(gf(t))),e&&(e.S.push(t.Ba),ln(e,"tokenChanged",t.ya),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.u&&Tl(e)),$r(t,"currentUser",e),e&&(e.wa(t.la()),_l(e,t),xl(e,t.J),kl(e,t),is(e.a,t.P),wl(e,t))}function pf(t,e){var n=null,r=null;return bf(t,e.then(function(e){return n=Fo(e),r=$i(e),hf(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,x(t.kc,t))),n||e}).then(function(){return Xr({user:gf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function vf(t){return t.app}function gf(t){return t.currentUser}function mf(t){return gf(t)&&gf(t)._lat||null}function yf(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](mf(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](mf(t))}}function bf(t,e){return t.R.push(e),e.oa(function(){Q(t.R,e)}),e}function _f(){}function wf(){this.a={},this.b=1e12}Xl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ju()&&"none"!==t)throw n;break;default:if(!Ar()&&"none"!==t)throw n}}(t),of(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Jl(n,t)}).then(function(){if(n.c=tf(t),e)return n.b.set(n.c,e,n.a)}):Ce()})},T(af,xn),T(sf,Xe),T(uf,Xe),T(cf,Xe),(n=af.prototype).xb=function(t){return bf(this,t=this.i.xb(t))},n.wa=function(t){this.aa===t||this.l||(this.aa=t,rs(this.a,this.aa),this.dispatchEvent(new sf(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&mr().then(function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,is(this.a,this.P),this.dispatchEvent(new uf(this.P))}},n.Gc=function(t){this.J.push(t),as(this.a,e.default.SDK_VERSION?Sr(e.default.SDK_VERSION,this.J):null),this.dispatchEvent(new cf(this.J))},n.Ga=function(){return Z(this.J)},n.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:vf(this).options.apiKey,authDomain:vf(this).options.authDomain,appName:vf(this).name,currentUser:gf(this)&&gf(this).w()}},n.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?x(this.ic,this):null},n.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return pf(i,_s(i.a,o))})},n.Xc=function(t){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));var n=this,r=Yi(t.providerId),i=Fr(),o=null;(!Rr()||br())&&vf(this).options.authDomain&&t.isOAuthProvider&&(o=yu(vf(this).options.authDomain,vf(this).options.apiKey,vf(this).name,"signInViaPopup",t,null,i,e.default.SDK_VERSION||null,null,null,this.T(),this.P));var a=pr(o,r&&r.ua,r&&r.ta);return bf(this,r=lf(this).then(function(e){return Fc(e,a,"signInViaPopup",t,i,!!o,n.T())}).then(function(){return new xe(function(t,e){n.na("signInViaPopup",null,new S("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=Bc(n.b,n,"signInViaPopup",a,i)})}).then(function(t){return a&&dr(a),t?Xr(t):null}).o(function(t){throw a&&dr(a),t}))},n.Yc=function(t){if(!Pr())return Ae(new S("operation-not-supported-in-this-environment"));var e=this;return bf(this,lf(this).then(function(){return of(t=e.i,function(){return t.b.set(Zl,t.c.F,t.a)});var t}).then(function(){return Vc(e.b,"signInViaRedirect",t,void 0,e.T())}))},n.qa=function(){var t=this;return ff(this).then(function(e){return t.b&&Gc(t.b.b),e}).o(function(e){throw t.b&&Gc(t.b.b),e})},n.dd=function(t){if(!t)return Ae(new S("null-user"));if(this.S!=t.tenantId)return Ae(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=vf(this).options.apiKey,n.authDomain=vf(this).options.authDomain,n.appName=vf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ja]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&xl(e,r),Ll(e,t),e}(t,n,e.D,e.Ga());return bf(this,this.h.then(function(){if(vf(e).options.apiKey!=t.l)return r.reload()}).then(function(){return gf(e)&&t.uid==gf(e).uid?(Ll(gf(e),t),e.da(t)):(df(e,r),Cl(r),e.da(r))}).then(function(){yf(e)}))},n.Ab=function(){var t=this;return bf(this,this.h.then(function(){return t.b&&Gc(t.b.b),gf(t)?(df(t,null),nf(t.i).then(function(){yf(t)})):Ce()}))},n.Zc=function(){var t=this;return rf(this.i,vf(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=gf(t)&&e){n=gf(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ll(gf(t),e),gf(t).I();(gf(t)||e)&&(df(t,e),e&&(Cl(e),e.ha=t.D),t.b&&Rc(t.b,t),yf(t))}})},n.da=function(t){return ef(this.i,t)},n.mc=function(){yf(this),this.da(gf(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(t){var e=this;return this.h.then(function(){return pf(e,Ce(t))})},n.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(gf(e))})},n.Ac=function(t){var e=this;!function(t,e){t.O.push(e),bf(t,t.h.then(function(){!t.l&&$(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(mf(t)))}))}(this,function(){t.next(gf(e))})},n.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"===typeof t?t(gf(r)):"function"===typeof t.next&&t.next(gf(r))}),this.hb(t,e,n)},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"===typeof t?t(gf(r)):"function"===typeof t.next&&t.next(gf(r))}),this.bc(t,e,n)},n.nc=function(t){var e=this;return bf(this,this.h.then(function(){return gf(e)?gf(e).I(t).then(function(t){return{accessToken:t}}):null}))},n.Tc=function(t){var e=this;return this.h.then(function(){return pf(e,ru(e.a,Xs,{token:t}))}).then(function(t){var n=t.user;return Ml(n,"isAnonymous",!1),e.da(n),t})},n.Uc=function(t,e){var n=this;return this.h.then(function(){return pf(n,ru(n.a,Js,{email:t,password:e}))})},n.dc=function(t,e){var n=this;return this.h.then(function(){return pf(n,ru(n.a,Es,{email:t,password:e}))})},n.$a=function(t){var e=this;return this.h.then(function(){return pf(e,t.ka(e.a))})},n.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},n.zb=function(){var t=this;return this.h.then(function(){var e=gf(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return pf(t,t.a.zb()).then(function(e){var n=e.user;return Ml(n,"isAnonymous",!0),t.da(n),e})})},n.getUid=function(){return gf(this)&&gf(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&gf(this)&&Tl(gf(this))},n.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&gf(this)&&El(gf(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),bf(this,this.h.then(function(){e.l||$(e.s,t)&&t(mf(e))}))},n.removeAuthTokenListener=function(t){X(this.s,function(e){return e==t})},n.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(tf("local"),t.a,this.ja),this.b&&(Dc(this.b,this),Gc(this.b.b)),Promise.resolve()},n.hc=function(t){return bf(this,function(t,e){return ru(t,Ss,{identifier:e,continueUri:jr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},n.Bc=function(t){return!!jo(t)},n.wb=function(t,e){var n=this;return bf(this,Ce().then(function(){var t=new Ci(e);if(!t.c)throw new S("argument-error",ji+" must be true when sending sign in link to email");return Ui(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},n.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},n.nb=function(t,e){return bf(this,this.a.nb(t,e).then(function(){}))},n.Ra=function(t){return bf(this,this.a.Ra(t).then(function(t){return new ai(t)}))},n.jb=function(t){return bf(this,this.a.jb(t).then(function(){}))},n.vb=function(t,e){var n=this;return bf(this,Ce().then(function(){return"undefined"===typeof e||vt(e)?{}:Ui(new Ci(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},n.Wc=function(t,e){return bf(this,Zc(this,t,e,x(this.$a,this)))},n.Vc=function(t,e){var n=this;return bf(this,Ce().then(function(){var r=e||lr(),i=Po(t,r);if(!(r=jo(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)}))},_f.prototype.render=function(){},_f.prototype.reset=function(){},_f.prototype.getResponse=function(){},_f.prototype.execute=function(){};var xf=null;function kf(t,e){return(e=Of(e))&&t.a[e]||null}function Of(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Tf(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Ef(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sf(){}function If(){}wf.prototype.render=function(t,e){return this.a[this.b.toString()]=new Tf(t,e),this.b++},wf.prototype.reset=function(t){var e=kf(this,t);t=Of(t),e&&t&&(e.delete(),delete this.a[t])},wf.prototype.getResponse=function(t){return(t=kf(this,t))?t.getResponse():null},wf.prototype.execute=function(t){(t=kf(this,t))&&t.execute()},Tf.prototype.getResponse=function(){return Ef(this),this.b},Tf.prototype.execute=function(){Ef(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},Tf.prototype.delete=function(){Ef(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},$r(Sf,"FACTOR_ID","phone"),If.prototype.g=function(){return xf||(xf=new wf),Ce(xf)},If.prototype.c=function(){};var Cf=null;function Af(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pf=new _t(Ot,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),jf=new Br(3e4,6e4);Af.prototype.g=function(t){var e=this;return new xe(function(n,r){var i=setTimeout(function(){r(new S("network-request-failed"))},jf.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete u[e.a]},Ce(qa(It(Pf,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(u.grecaptcha))})},Af.prototype.c=function(){this.b--};var Nf=null;function Rf(t,e,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Cf||(Cf=new If),a=Cf):(Nf||(Nf=new Af),a=Nf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Lf])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ff],!u.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qa(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Df];this.a[Df]=function(t){if(Uf(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Cr(c,u);"function"===typeof e&&e(t)}};var l=this.a[Mf];this.a[Mf]=function(){if(Uf(s,null),"function"===typeof l)l();else if("string"===typeof l){var t=Cr(l,u);"function"===typeof t&&t()}}}var Df="callback",Mf="expired-callback",Lf="sitekey",Ff="size";function Uf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Vf(t,e){return t.h.push(e),e.oa(function(){Q(t.h,e)}),e}function Bf(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function zf(t,n,r){var i=!1;try{this.b=r||e.default.app()}catch(s){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=e.default.SDK_VERSION?Sr(e.default.SDK_VERSION,a):null,Rf.call(this,r,t,n,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},a,N(C),i)}function qf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Wf.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Wf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(n=Rf.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Vf(this,Ce().then(function(){if(jr()&&!_r())return mr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,ru(t.s,Vs,{})}).then(function(e){t.a[Lf]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},n.render=function(){Bf(this);var t=this;return Vf(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=ve("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},n.verify=function(){Bf(this);var t=this;return Vf(this,this.render().then(function(e){return new xe(function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push(function e(r){r&&(function(t,e){X(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c)}})}))},n.reset=function(){Bf(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Bf(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},T(zf,Rf);var Wf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hf(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Kf(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Gf(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Yf(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function $f(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Qf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Xf(t,e){return g(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Jf(t){return g(t)&&"string"===typeof t.uid}function Zf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function th(t,e){for(var n in e){var r=e[n].name;t[r]=rh(r,t[n],e[n].j)}}function eh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k(function(t){return this[t]},n),set:k(function(t,e,n,r){qf(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function nh(t,e,n,r){t[e]=rh(e,n,r)}function rh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return qf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}th(af.prototype,{jb:{name:"applyActionCode",j:[Hf("code")]},Ra:{name:"checkActionCode",j:[Hf("code")]},nb:{name:"confirmPasswordReset",j:[Hf("code"),Hf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Hf("email"),Hf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Hf("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Hf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zf(Gf(),Yf(),"nextOrObserver"),Yf("opt_error",!0),Yf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zf(Gf(),Yf(),"nextOrObserver"),Yf("opt_error",!0),Yf("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Hf("email"),Zf(Gf("opt_actionCodeSettings",!0),$f(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Hf("email"),Gf("actionCodeSettings")]},xb:{name:"setPersistence",j:[Hf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Qf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Qf()]},Tc:{name:"signInWithCustomToken",j:[Hf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Hf("email"),Hf("password")]},Vc:{name:"signInWithEmailLink",j:[Hf("email"),Hf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bl)}},$f(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Hf("url"),Gf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Hf("code")]}}),eh(af.prototype,{lc:{name:"languageCode",kb:Zf(Hf(),$f(),"languageCode")},ti:{name:"tenantId",kb:Zf(Hf(),$f(),"tenantId")}}),af.Persistence=Zu,af.Persistence.LOCAL="local",af.Persistence.SESSION="session",af.Persistence.NONE="none",th(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Qf()]},qb:{name:"linkWithCredential",j:[Qf()]},Dc:{name:"linkWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qf()]},tb:{name:"reauthenticateWithCredential",j:[Qf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zf(Gf("opt_actionCodeSettings",!0),$f(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hf(null,!0)]},cd:{name:"unlink",j:[Hf("provider")]},Bb:{name:"updateEmail",j:[Hf("email")]},Cb:{name:"updatePassword",j:[Hf("password")]},ed:{name:"updatePhoneNumber",j:[Qf("phone")]},Db:{name:"updateProfile",j:[Gf("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Hf("email"),Zf(Gf("opt_actionCodeSettings",!0),$f(null,!0),"opt_actionCodeSettings",!0)]}}),th(wf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(_f.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(xe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),eh(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Kf("appVerificationDisabledForTesting")}}),th(Jc.prototype,{confirm:{name:"confirm",j:[Hf("verificationCode")]}}),nh(uo,"fromJSON",function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[go,Co,Ro,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Zf(Hf(),Gf(),"json")]),nh(Ao,"credential",function(t,e){return new Io(t,e)},[Hf("email"),Hf("password")]),th(Io.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),th(_o.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),nh(_o,"credential",wo,[Zf(Hf(),Gf(),"token")]),nh(Ao,"credentialWithLink",Po,[Hf("email"),Hf("emailLink")]),th(xo.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),nh(xo,"credential",ko,[Zf(Hf(),Gf(),"token")]),th(Oo.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),nh(Oo,"credential",To,[Zf(Hf(),Zf(Gf(),$f()),"idToken"),Zf(Hf(),$f(),"accessToken",!0)]),th(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),nh(Eo,"credential",So,[Zf(Hf(),Gf(),"token"),Hf("secret",!0)]),th(bo.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},credential:{name:"credential",j:[Zf(Hf(),Zf(Gf(),$f()),"optionsOrIdToken"),Zf(Hf(),$f(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),th(po.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),th(lo.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),nh(Mo,"credential",Lo,[Hf("verificationId"),Hf("verificationCode")]),th(Mo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zf(Hf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Xf(t.session,ao)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Xf(t.session,so)&&Jf(t.multiFactorHint):t.session&&t.multiFactorUid?Xf(t.session,so)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),th(No.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),th(S.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),th(Ko.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),th(Ho.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),th(il.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),th(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),th(ll.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Hf("displayName",!0)]},bd:{name:"unenroll",j:[Zf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jf},Hf(),"multiFactorInfoIdentifier")]}}),th(zf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nh(_i,"parseLink",Ii,[Hf("link")]),nh(Sf,"assertion",function(t){return new ul(t)},[Qf("phone")]),function(){if("undefined"===typeof e.default||!e.default.INTERNAL||!e.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:af,AuthCredential:uo,Error:S};nh(t,"EmailAuthProvider",Ao,[]),nh(t,"FacebookAuthProvider",_o,[]),nh(t,"GithubAuthProvider",xo,[]),nh(t,"GoogleAuthProvider",Oo,[]),nh(t,"TwitterAuthProvider",Eo,[]),nh(t,"OAuthProvider",bo,[Hf("providerId")]),nh(t,"SAMLAuthProvider",yo,[Hf("providerId")]),nh(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof af)}}]),nh(t,"RecaptchaVerifier",zf,[Zf(Hf(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.default.app.App)}}]),nh(t,"ActionCodeURL",_i,[]),nh(t,"PhoneMultiFactorGenerator",Sf,[]),e.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new af(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:x((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:x(t.nc,t),addAuthTokenListener:x(t.cc,t),removeAuthTokenListener:x(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.default.registerVersion("@firebase/auth","0.16.5"),e.default.INTERNAL.extendNamespace({User:bl})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(40))},function(t,e,n){"use strict";(function(t,e){var r=n(3),i=n(12),o=n(2),a=n(0),s=n(11),u="@firebase/database",c="0.10.1",l="";function f(t){l=t}var h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),p=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new d},v=p("localStorage"),g=p("sessionStorage"),m=new s.Logger("@firebase/database"),y=function(){var t=1;return function(){return t++}}(),b=function(t){var e=Object(o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},_=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=t.apply(null,a):r+="object"===typeof a?Object(o.stringify)(a):a,r+=" "}return r},w=null,x=!0,k=function(t,e){Object(o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=s.LogLevel.VERBOSE,w=m.log.bind(m),e&&g.set("logging_enabled",!0)):"function"===typeof t?w=t:(w=null,g.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===x&&(x=!1,null===w&&!0===g.get("logging_enabled")&&k(!0)),w){var n=_.apply(null,t);w(n)}},T=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,Object(a.__spreadArray)([t],Object(a.__read)(e)))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(t)));m.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(t)));throw m.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(t)));m.warn(n)},C=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",P="[MAX_NAME]",j=function(t,e){if(t===e)return 0;if(t===A||e===P)return-1;if(e===A||t===P)return 1;var n=V(t),r=V(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},R=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.stringify)(e))},D=function t(e){if("object"!==typeof e||null===e)return Object(o.stringify)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.stringify)(n[a]),i+=":",i+=t(e[n[a]]);return i+="}"},M=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var F=function(t){Object(o.assert)(!C(t),"Invalid JSON number");var e,n,r,i,a;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var U=new RegExp("^-?(0*)\\d{1,10}$"),V=function(t){if(U.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},B=function(t){try{t()}catch(e){setTimeout(function(){var t=e.stack||"";throw I("Exception was thrown by user callback.",t),e},Math.floor(0))}},z=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},q=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},W=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){I('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),H=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(t)},t}(),K=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="ac",$="websocket",Q="long_polling",X=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=v.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&v.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function J(t,e,n){var r;if(Object(o.assert)("string"===typeof e,"typeof type must == string"),Object(o.assert)("object"===typeof n,"typeof params must == object"),e===$)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==Q)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return L(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var Z=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.deepCopy)(this.counters_)},t}(),tt={},et={};function nt(t){var e=t.toString();return tt[e]||(tt[e]=new Z),tt[e]}var rt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&B(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),it="pLPCommand",ot="pRTLPCB",at=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(t),this.stats_=nt(e),this.urlFn=function(t){return s.appCheckToken&&(t[Y]=s.appCheckToken),J(e,Q,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new rt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new st(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(a.__read)(t,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(a.__read)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t[Y]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(o.isNodeSdk)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.base64Encode)(e),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),st=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window[it+this.uniqueCallbackIdentifier]=e,window[ot+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){O("frame writing exception"),u.stack&&O(u.stack),O(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||O("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),ut=null;"undefined"!==typeof MozWebSocket?ut=MozWebSocket:"undefined"!==typeof WebSocket&&(ut=WebSocket);var ct=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=nt(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n,r){var i={v:"5"};return!Object(o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i[Y]=r),J(t,$,i)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,v.set("previous_websocket_failure",!0);try{if(Object(o.isNodeSdk)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+l+"/"+t.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?a.headers.Authorization=this.authToken||"":a.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var s=Object({NODE_ENV:"production",PUBLIC_URL:""}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new ut(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new ut(this.connURL,[],a)}}catch(f){this.log_("Error instantiating WebSocket.");var c=f.message||f.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ut&&!e.forceDisallow_},e.previouslyFailed=function(){return v.isInMemoryStorage||!0===v.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){v.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.jsonEval)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=M(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),lt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[at,ct]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ct&&ct.isAvailable(),o=i&&!ct.previouslyFailed();if(e.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ct];else{var s=this.transports_=[];try{for(var u=Object(a.__values)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ft=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new lt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=q(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=R("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),q(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(v.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ht=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),dt=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(a.__spreadArray)([],Object(a.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),pt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(a.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(dt),vt=32,gt=768,mt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function yt(){return new mt("")}function bt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _t(t){return t.pieces_.length-t.pieceNum_}function wt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new mt(t.pieces_,e)}function xt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function Ot(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new mt(e,0)}function Tt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof mt)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new mt(n,0)}function Et(t){return t.pieceNum_>=t.pieces_.length}function St(t,e){var n=bt(t),r=bt(e);if(null===n)return e;if(n===r)return St(wt(t),wt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function It(t,e){for(var n=kt(t,0),r=kt(e,0),i=0;i<n.length&&i<r.length;i++){var o=j(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ct(t,e){if(_t(t)!==_t(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function At(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(_t(t)>_t(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Pt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=kt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.stringLength)(this.parts_[n]);jt(this)}}();function jt(t){if(t.byteLength_>gt)throw new Error(t.errorPrefix_+"has a key path longer than "+gt+" bytes ("+t.byteLength_+").");if(t.parts_.length>vt)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vt+") or object contains a cycle "+Nt(t))}function Nt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Rt,Dt,Mt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(a.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(dt),Lt=1e3,Ft=3e5,Ut=function(t){function e(n,r,i,a,s,u,c,l){var f=t.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=e.nextPersistentConnectionId_++,f.log_=T("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Lt,f.maxReconnectDelay_=Ft,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Object(o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Mt.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&pt.getInstance().on("online",f.onOnline_,f),f}return Object(a.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.stringify)(i)),Object(o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&Object(o.contains)(t,"w")){var n=Object(o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+Object(o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Lt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Lt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,s,u,c,l,f,h,d,p,v,g,m=this;return Object(a.__generator)(this,function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},f=function(t){Object(o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],u?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new ft(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){I(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")},s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&I(g),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Lt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new mt(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){O("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+l.replace(/\./g,"-")]=1,Object(o.isMobileCordova)()?t["framework.cordova"]=1:Object(o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=pt.getInstance().currentlyOnline();return Object(o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ht),Vt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Bt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Vt(A,t),r=new Vt(A,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Vt.MIN},t}(),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Rt},set:function(t){Rt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return j(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Vt.MIN},e.prototype.maxPost=function(){return new Vt(P,Rt)},e.prototype.makePost=function(t,e){return Object(o.assert)("string"===typeof t,"KeyIndex indexValue must always be a string."),new Vt(t,Rt)},e.prototype.toString=function(){return".key"},e}(Bt),qt=new zt,Wt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ht=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Gt.EMPTY_NODE,this.right=null!=o?o:Gt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Gt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Gt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ht(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Gt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ht.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ht.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Wt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Wt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Wt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Wt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Kt,t}();function Yt(t,e){return j(t.name,e.name)}function $t(t,e){return j(t,e)}var Qt,Xt,Jt,Zt=function(t){return"number"===typeof t?"number:"+F(t):"string:"+t},te=function(t){if(t.isLeafNode()){var e=t.val();Object(o.assert)("string"===typeof e||"number"===typeof e||"object"===typeof e&&Object(o.contains)(e,".sv"),"Priority must be a string or number.")}else Object(o.assert)(t===Dt||t.isEmpty(),"priority of unexpected type.");Object(o.assert)(t===Dt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ee=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),te(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Qt},set:function(t){Qt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Et(e)?this:".priority"===bt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=bt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.assert)(".priority"!==r||1===_t(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(wt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Zt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?F(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.assert)(i>=0,"Unknown leaf type: "+n),Object(o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var ne,re,ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?j(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Vt.MIN},e.prototype.maxPost=function(){return new Vt(P,new ee("[PRIORITY-POST]",Jt))},e.prototype.makePost=function(t,e){var n=Xt(t);return new Vt(e,new ee("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Bt)),oe=Math.log(2),ae=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/oe,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),se=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,a=function(e,r){var i=o-e,a=o;o-=e;var u=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Ht(a,o.node,Ht.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Ht(a,o.node,Ht.BLACK,c,l)}(i+1,a),c=t[i],l=n?n(c):c;s(new Ht(l,c.node,r,null,u))},s=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),l=Math.pow(2,e.count-(u+1));c?a(l,Ht.BLACK):(a(l,Ht.BLACK),a(l,Ht.RED))}return i}(new ae(t.length));return new Gt(r||e,i)},ue={},ce=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.assert)(ue&&ie,"ChildrenNode.ts has not been loaded"),ne=ne||new t({".priority":ue},{".priority":ie})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Gt?e:null},t.prototype.hasIndex=function(t){return Object(o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.assert)(e!==qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Vt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?se(i,e.getCompare()):ue;var l=e.toString(),f=Object(a.__assign)({},this.indexSet_);f[l]=e;var h=Object(a.__assign)({},this.indexes_);return h[l]=r,new t(h,f)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.map)(this.indexes_,function(t,i){var a=Object(o.safeGet)(r.indexSet_,i);if(Object(o.assert)(a,"Missing index implementation for "+i),t===ue){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Vt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),se(s,a.getCompare())}return ue}var l=n.get(e.name),f=t;return l&&(f=f.remove(new Vt(e.name,l))),f.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.map)(this.indexes_,function(t){if(t===ue)return t;var r=n.get(e.name);return r?t.remove(new Vt(e.name,r)):t}),this.indexSet_)},t}(),le=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&te(this.priorityNode_),this.children_.isEmpty()&&Object(o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return re||(re=new t(new Gt($t),null,ce.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||re},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?re:e},t.prototype.getChild=function(t){var e=bt(t);return null===e?this:this.getImmediateChild(e).getChild(wt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Vt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?re:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=bt(t);if(null===n)return e;Object(o.assert)(".priority"!==bt(t)||1===_t(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(wt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ie,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Zt(this.getPriority().val())+":"),this.forEachChild(ie,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Vt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Vt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Vt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===fe?-1:0},t.prototype.withIndex=function(e){if(e===qt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===qt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(ie),r=e.getIterator(ie),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===qt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),fe=new(function(t){function e(){return t.call(this,new Gt($t),le.EMPTY_NODE,ce.Default)||this}return Object(a.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return le.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(le));Object.defineProperties(Vt,{MIN:{value:new Vt(A,le.EMPTY_NODE)},MAX:{value:new Vt(P,fe)}}),zt.__EMPTY_NODE=le.EMPTY_NODE,ee.__childrenNodeConstructor=le,Dt=fe,function(t){Jt=t}(fe);var he=!0;function de(t,e){if(void 0===e&&(e=null),null===t)return le.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.assert)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t)return new ee(t,de(e));if(t instanceof Array||!he){var n=le.EMPTY_NODE;return L(t,function(e,r){if(Object(o.contains)(t,e)&&"."!==e.substring(0,1)){var i=de(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(de(e))}var r=[],i=!1;if(L(t,function(t,e){if("."!==t.substring(0,1)){var n=de(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Vt(t,n)))}}),0===r.length)return le.EMPTY_NODE;var a=se(r,Yt,function(t){return t.name},$t);if(i){var s=se(r,ie.getCompare());return new le(a,de(e),new ce({".priority":s},{".priority":ie}))}return new le(a,de(e),ce.Default)}!function(t){Xt=t}(de);var pe=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.assert)(!Et(e)&&".priority"!==bt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?j(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=de(t),r=le.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vt(e,r)},e.prototype.maxPost=function(){var t=le.EMPTY_NODE.updateChild(this.indexPath_,fe);return new Vt(P,t)},e.prototype.toString=function(){return kt(this.indexPath_,0).join("/")},e}(Bt),ve=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?j(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Vt.MIN},e.prototype.maxPost=function(){return Vt.MAX},e.prototype.makePost=function(t,e){var n=de(t);return new Vt(e,n)},e.prototype.toString=function(){return".value"},e}(Bt)),ge="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",me=function(){var t=0,e=[];return function(n){var r,i=n===t;t=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=ge.charAt(n%64),n=Math.floor(n/64);Object(o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=ge.charAt(e[r]);return Object(o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),ye=function(t){if("2147483647"===t)return"-";var e=V(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return P;var o=n[i],a=ge.charAt(ge.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},be=function(t){if("-2147483648"===t)return A;var e=V(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ge.charAt(ge.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function _e(t){return{type:"value",snapshotNode:t}}function we(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ke(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var Oe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){Object(o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(xe(e,s)):Object(o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(we(e,n)):a.trackChildChange(ke(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(ie,function(t,r){e.hasChild(t)||n.trackChildChange(xe(t,r))}),e.isLeafNode()||e.forEachChild(ie,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ke(e,r,i))}else n.trackChildChange(we(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?le.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Te=function(){function t(e){this.indexedFilter_=new Oe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Vt(e,n))||(n=le.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=le.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(le.EMPTY_NODE);var i=this;return e.forEachChild(ie,function(t,e){i.matches(new Vt(t,e))||(r=r.updateImmediateChild(t,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Ee=function(){function t(t){this.rangedFilter_=new Te(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Vt(e,n))||(n=le.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=le.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=le.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(le.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(o.assert)(u.numChildren()===this.limit_,"");var c=new Vt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var h=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ke(e,n,h)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(xe(e,h));var v=u.updateImmediateChild(e,le.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(we(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(xe(l.name,l.node)),i.trackChildChange(we(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,le.EMPTY_NODE)):t},t}(),Se=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ie},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Ie(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ce(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ae(t,e){var n=t.copy();return n.index_=e,n}function Pe(t){var e,n={};return t.isDefault()?n:(t.index_===ie?e="$priority":t.index_===ve?e="$value":t.index_===qt?e="$key":(Object(o.assert)(t.index_ instanceof pe,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.stringify)(e),t.startSet_&&(n.startAt=Object(o.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n)}function je(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ie&&(e.i=t.index_.toString()),e}var Ne=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=T("p:rest:"),o.listens_={},o}return Object(a.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Pe(t._queryParams);this.restRequest_(s+".json",l,function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(o.safeGet)(a.listens_,u)===c)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Pe(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var s=Object(a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.querystring)(e);r.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var t=null;if(f.status>=200&&f.status<300){try{t=Object(o.jsonEval)(f.responseText)}catch(e){I("Failed to parse JSON response for "+l+": "+f.responseText)}n(null,t)}else 401!==f.status&&404!==f.status&&I("Got unsuccessful REST response for "+l+" Status: "+f.status),n(f.status);n=null}},f.open("GET",l,!0),f.send()})},e}(ht),Re=function(){function t(){this.rootNode_=le.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function De(){return{value:null,children:new Map}}function Me(t,e,n){if(Et(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=bt(e);t.children.has(r)||t.children.set(r,De()),Me(t.children.get(r),e=wt(e),n)}}function Le(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Le(r,new mt(e.toString()+"/"+t),n)})}var Fe,Ue=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(a.__assign)({},t);return this.last_&&L(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ve=1e4,Be=3e4,ze=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ue(t);var n=Ve+(Be-Ve)*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,function(e,i){i>0&&Object(o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();function qe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fe||(Fe={}));var We,He=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Fe.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Et(this.path)){if(null!=this.affectedTree.value)return Object(o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new mt(e));return new t(yt(),n,this.revert)}return Object(o.assert)(bt(this.path)===e,"operationForChild called for unrelated child."),new t(wt(this.path),this.affectedTree,this.revert)},t}(),Ke=function(){function t(t,e){this.source=t,this.path=e,this.type=Fe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Et(this.path)?new t(this.source,yt()):new t(this.source,wt(this.path))},t}(),Ge=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Fe.OVERWRITE}return t.prototype.operationForChild=function(e){return Et(this.path)?new t(this.source,yt(),this.snap.getImmediateChild(e)):new t(this.source,wt(this.path),this.snap)},t}(),Ye=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Fe.MERGE}return t.prototype.operationForChild=function(e){if(Et(this.path)){var n=this.children.subtree(new mt(e));return n.isEmpty()?null:n.value?new Ge(this.source,yt(),n.value):new t(this.source,yt(),n)}return Object(o.assert)(bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,wt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),$e=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Et(t))return this.isFullyInitialized()&&!this.filtered_;var e=bt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Qe=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function Xe(t,e,n,r,i,a){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.assertionError)("Should only compare child_ events.");var r=new Vt(e.childName,e.snapshotNode),i=new Vt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_),e)}(t,n,a);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Je(t,e){return{eventCache:t,serverCache:e}}function Ze(t,e,n,r){return Je(new $e(e,n,r),t.serverCache)}function tn(t,e,n,r){return Je(t.eventCache,new $e(e,n,r))}function en(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var rn=function(){return We||(We=new Gt(N)),We},on=function(){function t(t,e){void 0===e&&(e=rn()),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return L(e,function(t,e){n=n.set(new mt(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:yt(),value:this.value};if(Et(t))return null;var n=bt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(wt(t),e);return null!=i?{path:Tt(new mt(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(Et(e))return this;var n=bt(e),r=this.children.get(n);return null!==r?r.subtree(wt(e)):new t(null)},t.prototype.set=function(e,n){if(Et(e))return new t(n,this.children);var r=bt(e),i=(this.children.get(r)||new t(null)).set(wt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Et(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=bt(e),r=this.children.get(n);if(r){var i=r.remove(wt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Et(t))return this.value;var e=bt(t),n=this.children.get(e);return n?n.get(wt(t)):null},t.prototype.setTree=function(e,n){if(Et(e))return n;var r=bt(e),i=(this.children.get(r)||new t(null)).setTree(wt(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(yt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(Tt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,yt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Et(t))return null;var i=bt(t),o=this.children.get(i);return o?o.findOnPath_(wt(t),Tt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,yt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Et(e))return this;this.value&&r(n,this.value);var i=bt(e),o=this.children.get(i);return o?o.foreachOnPath_(wt(e),Tt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(yt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(Tt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),an=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new on(null))},t}();function sn(t,e,n){if(Et(e))return new an(new on(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=St(i,e);return o=o.updateChild(a,n),new an(t.writeTree_.set(i,o))}var s=new on(n),u=t.writeTree_.setTree(e,s);return new an(u)}function un(t,e,n){var r=t;return L(n,function(t,n){r=sn(r,Tt(e,t),n)}),r}function cn(t,e){if(Et(e))return an.empty();var n=t.writeTree_.setTree(e,new on(null));return new an(n)}function ln(t,e){return null!=fn(t,e)}function fn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(St(n.path,e)):null}function hn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ie,function(t,n){e.push(new Vt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Vt(t,n.value))}),e}function dn(t,e){if(Et(e))return t;var n=fn(t,e);return new an(null!=n?new on(n):t.writeTree_.subtree(e))}function pn(t){return t.writeTree_.isEmpty()}function vn(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(Object(o.assert)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=t(Tt(e,n),a,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(Tt(e,".priority"),i)),r}(yt(),t.writeTree_,e)}function gn(t,e){return Cn(e,t)}function mn(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=t.allWrites.length-1;i&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&yn(u,r.path)?i=!1:At(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(t){t.visibleWrites=_n(t.allWrites,bn,yt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=cn(t.visibleWrites,r.path):L(r.children,function(e){t.visibleWrites=cn(t.visibleWrites,Tt(r.path,e))});return!0}return!1}function yn(t,e){if(t.snap)return At(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&At(Tt(t.path,n),e))return!0;return!1}function bn(t){return t.visible}function _n(t,e,n){for(var r=an.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)At(n,s)?r=sn(r,u=St(n,s),a.snap):At(s,n)&&(u=St(s,n),r=sn(r,yt(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.assertionError)("WriteRecord should have .snap or .children");if(At(n,s))r=un(r,u=St(n,s),a.children);else if(At(s,n))if(Et(u=St(s,n)))r=un(r,yt(),a.children);else{var c=Object(o.safeGet)(a.children,bt(u));if(c){var l=c.getChild(wt(u));r=sn(r,yt(),l)}}}}}return r}function wn(t,e,n,r,i){if(r||i){var o=dn(t.visibleWrites,e);if(!i&&pn(o))return n;if(i||null!=n||ln(o,yt())){return vn(_n(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(At(t.path,e)||At(e,t.path))},e),n||le.EMPTY_NODE)}return null}var a=fn(t.visibleWrites,e);if(null!=a)return a;var s=dn(t.visibleWrites,e);return pn(s)?n:null!=n||ln(s,yt())?vn(s,n||le.EMPTY_NODE):null}function xn(t,e,n,r){return wn(t.writeTree,t.treePath,e,n,r)}function kn(t,e){return function(t,e,n){var r=le.EMPTY_NODE,i=fn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ie,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=dn(t.visibleWrites,e);return n.forEachChild(ie,function(t,e){var n=vn(dn(o,new mt(t)),e);r=r.updateImmediateChild(t,n)}),hn(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return hn(dn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function On(t,e,n,r){return function(t,e,n,r,i){Object(o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Tt(e,n);if(ln(t.visibleWrites,a))return null;var s=dn(t.visibleWrites,a);return pn(s)?i.getChild(n):vn(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function Tn(t,e){return function(t,e){return fn(t.visibleWrites,e)}(t.writeTree,Tt(t.treePath,e))}function En(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=dn(t.visibleWrites,e),c=fn(u,yt());if(null!=c)s=c;else{if(null==n)return[];s=vn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(t.writeTree,t.treePath,e,n,r,i,o)}function Sn(t,e,n){return function(t,e,n,r){var i=Tt(e,n),o=fn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?vn(dn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function In(t,e){return Cn(Tt(t.treePath,e),t.writeTree)}function Cn(t,e){return{treePath:t,writeTree:e}}var An=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,ke(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,xe(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,we(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ke(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Pn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),jn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new $e(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nn(this.viewCache_),i=En(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();function Nn(t,e,n,r,i){var a,s,u=new An;if(n.type===Fe.OVERWRITE){var c=n;c.source.fromUser?a=Mn(t,e,c.path,c.snap,r,i,u):(Object(o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!Et(c.path),a=Dn(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===Fe.MERGE){var l=n;l.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach(function(r,u){var c=Tt(n,r);Ln(e,bt(c))&&(s=Mn(t,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=Tt(n,r);Ln(e,bt(c))||(s=Mn(t,s,c,u,i,o,a))}),s}(t,e,l.path,l.children,r,i,u):(Object(o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),a=Un(t,e,l.path,l.children,r,i,s,u))}else if(n.type===Fe.ACK_USER_WRITE){var f=n;a=f.revert?function(t,e,n,r,i,a){var s;if(null!=Tn(r,n))return e;var u=new jn(r,e,i),c=e.eventCache.getNode(),l=void 0;if(Et(n)||".priority"===bt(n)){var f=void 0;if(e.serverCache.isFullyInitialized())f=xn(r,nn(e));else{var h=e.serverCache.getNode();Object(o.assert)(h instanceof le,"serverChildren would be complete if leaf node"),f=kn(r,h)}f=f,l=t.filter.updateFullNode(c,f,a)}else{var d=bt(n),p=Sn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,wt(n),u,a):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,le.EMPTY_NODE,wt(n),u,a):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=xn(r,nn(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,s,a))}return s=e.serverCache.isFullyInitialized()||null!=Tn(r,yt()),Ze(e,l,s,t.filter.filtersNodes())}(t,e,f.path,r,i,u):function(t,e,n,r,i,o,a){if(null!=Tn(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(Et(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dn(t,e,n,u.getNode().getChild(n),i,o,s,a);if(Et(n)){var c=new on(null);return u.getNode().forEachChild(qt,function(t,e){c=c.set(new mt(t),e)}),Un(t,e,n,c,i,o,s,a)}return e}var l=new on(null);return r.foreach(function(t,e){var r=Tt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),Un(t,e,n,l,i,o,s,a)}(t,e,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Fe.LISTEN_COMPLETE)throw Object(o.assertionError)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache,a=tn(e,o.getNode(),o.isFullyInitialized()||Et(n),o.isFiltered());return Rn(t,a,n,r,Pn,i)}(t,e,n.path,r,u)}var h=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=en(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_e(en(e)))}}(e,a,h),{viewCache:a,changes:h}}function Rn(t,e,n,r,i,a){var s=e.eventCache;if(null!=Tn(r,n))return e;var u=void 0,c=void 0;if(Et(n))if(Object(o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=nn(e),f=kn(r,l instanceof le?l:le.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{var h=xn(r,nn(e));u=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var d=bt(n);if(".priority"===d){Object(o.assert)(1===_t(n),"Can't have a priority with additional path components");var p=s.getNode(),v=On(r,n,p,c=e.serverCache.getNode());u=null!=v?t.filter.updatePriority(p,v):s.getNode()}else{var g=wt(n),m=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var y=On(r,n,s.getNode(),c);m=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else m=Sn(r,d,e.serverCache);u=null!=m?t.filter.updateChild(s.getNode(),d,m,g,i,a):s.getNode()}}return Ze(e,u,s.isFullyInitialized()||Et(n),t.filter.filtersNodes())}function Dn(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(Et(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=bt(n);if(!c.isCompleteForPath(n)&&_t(n)>1)return e;var d=wt(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Pn,null)}var v=tn(e,u,c.isFullyInitialized()||Et(n),l.filtersNodes());return Rn(t,v,n,i,new jn(i,v,o),s)}function Mn(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new jn(i,e,o);if(Et(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=Ze(e,u,!0,t.filter.filtersNodes());else{var f=bt(n);if(".priority"===f)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=Ze(e,u,c.isFullyInitialized(),c.isFiltered());else{var h=wt(n),d=c.getNode().getImmediateChild(f),p=void 0;if(Et(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===xt(h)&&v.getChild(Ot(h)).isEmpty()?v:v.updateChild(h,r):le.EMPTY_NODE}if(d.equals(p))s=e;else s=Ze(e,t.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function Ln(t,e){return t.eventCache.isCompleteForChild(e)}function Fn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Un(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=Et(n)?r:new on(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=Fn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Dn(t,c,new mt(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Fn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Dn(t,c,new mt(n),f,i,o,a,s)}}),c}var Vn,Bn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Oe(r.getIndex()),o=(n=r).loadsAllData()?new Oe(n.getIndex()):n.hasLimit()?new Ee(n):new Te(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(le.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(le.EMPTY_NODE,s.getNode(),null),l=new $e(u,a.isFullyInitialized(),i.filtersNodes()),f=new $e(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Je(f,l),this.eventGenerator_=new Qe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function zn(t,e){var n=nn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Et(e)&&!n.getImmediateChild(bt(e)).isEmpty())?n.getChild(e):null}function qn(t){return 0===t.eventRegistrations_.length}function Wn(t,e,n){var r=[];if(n){Object(o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Hn(t,e,n,r){e.type===Fe.MERGE&&null!==e.source.queryId&&(Object(o.assert)(nn(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.assert)(en(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=t.viewCache_,u=Nn(t.processor_,s,e,n,r);return i=t.processor_,a=u.viewCache,Object(o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Kn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Kn(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))}),Xe(t,i,"child_removed",e,r,n),Xe(t,i,"child_added",e,r,n),Xe(t,i,"child_moved",o,r,n),Xe(t,i,"child_changed",e,r,n),Xe(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}var Gn,Yn=function(){return function(){this.views=new Map}}();function $n(t,e,n,r){var i,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Hn(c,e,n,r)}var l=[];try{for(var f=Object(a.__values)(t.views.values()),h=f.next();!h.done;h=f.next()){c=h.value;l=l.concat(Hn(c,e,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return l}function Qn(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var s=xn(n,i?r:null),u=!1;s?u=!0:r instanceof le?(s=kn(n,r),u=!1):(s=le.EMPTY_NODE,u=!1);var c=Je(new $e(s,u,!1),new $e(r,i,!1));return new Bn(e,c)}return a}function Xn(t,e,n,r,i,o){var a=Qn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,function(t,e){r.push(we(t,e))}),n.isFullyInitialized()&&r.push(_e(n.getNode())),Kn(t,r,n.getNode(),e)}(a,n)}function Jn(t,e,n,r){var i,s,u=e._queryIdentifier,c=[],l=[],f=rr(t);if("default"===u)try{for(var h=Object(a.__values)(t.views.entries()),d=h.next();!d.done;d=h.next()){var p=Object(a.__read)(d.value,2),v=p[0],g=p[1];l=l.concat(Wn(g,n,r)),qn(g)&&(t.views.delete(v),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}else(g=t.views.get(u))&&(l=l.concat(Wn(g,n,r)),qn(g)&&(t.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return f&&!rr(t)&&c.push(new(Object(o.assert)(Vn,"Reference.ts has not been loaded"),Vn)(e._repo,e._path)),{removed:c,events:l}}function Zn(t){var e,n,r=[];try{for(var i=Object(a.__values)(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function tr(t,e){var n,r,i=null;try{for(var o=Object(a.__values)(t.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||zn(u,e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function er(t,e){if(e._queryParams.loadsAllData())return ir(t);var n=e._queryIdentifier;return t.views.get(n)}function nr(t,e){return null!=er(t,e)}function rr(t){return null!=ir(t)}function ir(t){var e,n;try{for(var r=Object(a.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var or=1,ar=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new on(null),this.pendingWriteTree_={visibleWrites:an.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function sr(t,e,n,r,i){return function(t,e,n,r,i){Object(o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=sn(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?vr(t,new Ge({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ur(t,e,n,r){!function(t,e,n,r){Object(o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=un(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=on.fromObject(n);return vr(t,new Ye({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}function cr(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(mn(t.pendingWriteTree_,e)){var i=new on(null);return null!=r.snap?i=i.set(yt(),!0):L(r.children,function(t){i=i.set(new mt(t),!0)}),vr(t,new He(r.path,i,n))}return[]}function lr(t,e,n){return vr(t,new Ge({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function fr(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&("default"===e._queryIdentifier||nr(o,e))){var s=Jn(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(t){return t._queryParams.loadsAllData()}),l=t.syncPointTree_.findOnPath(i,function(t,e){return rr(e)});if(c&&!l){var f=t.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(t){return t.fold(function(t,e,n){if(e&&rr(e)){var r=ir(e);return[r]}var i=[];return e&&(i=Zn(e)),L(n,function(t,e){i=i.concat(e)}),i})}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=gr(t,p);t.listenProvider_.startListening(xr(v),mr(t,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){t.listenProvider_.stopListening(xr(e),null)}else u.forEach(function(e){var n=t.queryToTagMap.get(yr(e));t.listenProvider_.stopListening(xr(e),n)});!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=yr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function hr(t,e,n){var r=e._path,i=null,a=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=St(t,r);i=i||tr(e,n),a=a||rr(e)});var s,u=t.syncPointTree_.get(r);(u?(a=a||rr(u),i=i||tr(u,yt())):(u=new Yn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=le.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=tr(e,yt());n&&(i=i.updateImmediateChild(t,n))}));var c=nr(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=yr(e);Object(o.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=or++;t.queryToTagMap.set(l,f),t.tagToQueryMap.set(f,l)}var h=Xn(u,e,n,gn(t.pendingWriteTree_,r),i,s);if(!c&&!a){var d=er(u,e);h=h.concat(function(t,e,n){var r=e._path,i=mr(t,e),a=gr(t,n),s=t.listenProvider_.startListening(xr(e),i,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(o.assert)(!rr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!Et(t)&&e&&rr(e))return[ir(e).query];var r=[];return e&&(r=r.concat(Zn(e).map(function(t){return t.query}))),L(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var f=c[l];t.listenProvider_.stopListening(xr(f),mr(t,f))}return s}(t,e,d))}return h}function dr(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=tr(n,St(t,e));if(r)return r});return wn(r,e,i,n,!0)}function pr(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=St(t,n);r=r||tr(e,i)});var i=t.syncPointTree_.get(n);i?r=r||tr(i,yt()):(i=new Yn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new $e(r,!0,!1):null;return function(t){return en(t.viewCache_)}(Qn(i,e,gn(t.pendingWriteTree_,e._path),o?a.getNode():le.EMPTY_NODE,o))}function vr(t,e){return function t(e,n,r,i){if(Et(e.path))return function t(e,n,r,i){var o=n.get(yt());null==r&&null!=o&&(r=tr(o,yt()));var a=[];n.children.inorderTraversal(function(n,o){var s=r?r.getImmediateChild(n):null,u=In(i,n),c=e.operationForChild(n);c&&(a=a.concat(t(c,o,s,u)))});o&&(a=a.concat($n(o,e,i,r)));return a}(e,n,r,i);var o=n.get(yt());null==r&&null!=o&&(r=tr(o,yt()));var a=[],s=bt(e.path),u=e.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,f=In(i,s);a=a.concat(t(u,c,l,f))}return o&&(a=a.concat($n(o,e,i,r))),a}(e,t.syncPointTree_,null,gn(t.pendingWriteTree_,yt()))}function gr(t,e){var n=e.query,r=mr(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||le.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=br(t,n);if(r){var i=_r(r),o=i.path,a=i.queryId,s=St(o,e);return wr(t,o,new Ke(qe(a),s))}return[]}(t,n._path,r):function(t,e){return vr(t,new Ke({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return fr(t,n,null,i)}}}function mr(t,e){var n=yr(e);return t.queryToTagMap.get(n)}function yr(t){return t._path.toString()+"$"+t._queryIdentifier}function br(t,e){return t.tagToQueryMap.get(e)}function _r(t){var e=t.indexOf("$");return Object(o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new mt(t.substr(0,e))}}function wr(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.assert)(r,"Missing sync point for query tag that we're tracking"),$n(r,n,gn(t.pendingWriteTree_,e),null)}function xr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(o.assert)(Gn,"Reference.ts has not been loaded"),Gn)(t._repo,t._path):t}var kr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Or=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=Tt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return dr(this.syncTree_,this.path_)},t}(),Tr=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Er=function(t,e,n){return t&&"object"===typeof t?(Object(o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?Sr(t[".sv"],e,n):"object"===typeof t[".sv"]?Ir(t[".sv"],e):void Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Sr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.assert)(!1,"Unexpected server value: "+t)}},Ir=function(t,e,n){t.hasOwnProperty("increment")||Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!==typeof r&&Object(o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Cr=function(t,e,n,r){return Pr(e,new Or(n,t),r)},Ar=function(t,e,n){return Pr(t,new kr(e),n)};function Pr(t,e,n){var r,i=t.getPriority().val(),o=Er(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=Er(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new ee(s,de(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new ee(o))),u.forEachChild(ie,function(t,i){var o=Pr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var jr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function Nr(t,e){for(var n=e instanceof mt?e:new mt(e),r=t,i=bt(n);null!==i;){var a=Object(o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new jr(i,r,a),i=bt(n=wt(n))}return r}function Rr(t){return t.node.value}function Dr(t,e){t.node.value=e,Ur(t)}function Mr(t){return t.node.childCount>0}function Lr(t,e){L(t.node.children,function(n,r){e(new jr(n,t,r))})}function Fr(t){return new mt(null===t.parent?t.name:Fr(t.parent)+"/"+t.name)}function Ur(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Rr(t)&&!Mr(t)}(n),i=Object(o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ur(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Ur(t))}(t.parent,t.name,t)}var Vr=/[\[\].#$\/\u0000-\u001F\u007F]/,Br=/[\[\].#$\u0000-\u001F\u007F]/,zr=function(t){return"string"===typeof t&&0!==t.length&&!Vr.test(t)},qr=function(t){return"string"===typeof t&&0!==t.length&&!Br.test(t)},Wr=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!C(t)||t&&"object"===typeof t&&Object(o.contains)(t,".sv")},Hr=function(t,e,n,r){r&&void 0===e||Kr(Object(o.errorPrefix)(t,"value"),e,n)},Kr=function t(e,n,r){var i=r instanceof mt?new Pt(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+Nt(i));if("function"===typeof n)throw new Error(e+"contains a function "+Nt(i)+" with contents = "+n.toString());if(C(n))throw new Error(e+"contains "+n.toString()+" "+Nt(i));if("string"===typeof n&&n.length>10485760/3&&Object(o.stringLength)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Nt(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(L(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!zr(n)))throw new Error(e+" contains an invalid key ("+n+") "+Nt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;c=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(c),u.byteLength_+=Object(o.stringLength)(c),jt(u),t(e,r,i),function(t){var e=t.parts_.pop();t.byteLength_-=Object(o.stringLength)(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),a&&s)throw new Error(e+' contains ".value" child '+Nt(i)+" in addition to actual children.")}},Gr=function(t,e,n,r){if(!r||void 0!==e){var i=Object(o.errorPrefix)(t,"values");if(!e||"object"!==typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(e,function(t,e){var r=new mt(t);if(Kr(i,e,Tt(n,r)),".priority"===xt(r)&&!Wr(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=kt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!zr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(It);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&At(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Yr=function(t,e,n){if(!n||void 0!==e){if(C(e))throw new Error(Object(o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wr(e))throw new Error(Object(o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$r=function(t,e,n,r){if((!r||void 0!==n)&&!zr(n))throw new Error(Object(o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qr=function(t,e,n,r){if((!r||void 0!==n)&&!qr(n))throw new Error(Object(o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qr(t,e,n,r)},Jr=function(t,e){if(".info"===bt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Zr=function(t,e){var n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!zr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qr(t)}(n))throw new Error(Object(o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ti=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function ei(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Ct(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ni(t,e,n){ei(t,n),ii(t,function(t){return Ct(t,e)})}function ri(t,e,n){ei(t,n),ii(t,function(t){return At(t,e)||At(e,t)})}function ii(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(oi(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function oi(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();w&&O("event: "+n.toString()),B(r)}}}var ai="repo_interrupt",si=25,ui=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ti,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=De(),this.transactionQueueTree_=new jr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function ci(t,e,n){if(t.stats_=nt(t.repoInfo_),t.forceRestClient_||z())t.server_=new Ne(t.repoInfo_,function(e,n,r,i){hi(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return di(t,!0)},0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ut(t.repoInfo_,e,function(e,n,r,i){hi(t,e,n,r,i)},function(e){di(t,e)},function(e){!function(t,e){L(e,function(e,n){pi(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=function(t,e){var n=t.toString();return et[n]||(et[n]=e()),et[n]}(t.repoInfo_,function(){return new ze(t.stats_,t.server_)}),t.infoData_=new Re,t.infoSyncTree_=new ar({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=lr(t.infoSyncTree_,e._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),pi(t,"connected",!1),t.serverSyncTree_=new ar({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);ri(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function li(t){var e=t.infoData_.getNode(new mt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function fi(t){return Tr({timestamp:li(t)})}function hi(t,e,n,r,i){t.dataUpdateCount++;var a=new mt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=Object(o.map)(n,function(t){return de(t)});s=function(t,e,n,r){var i=br(t,r);if(i){var o=_r(i),a=o.path,s=o.queryId,u=St(a,e),c=on.fromObject(n);return wr(t,a,new Ye(qe(s),u,c))}return[]}(t.serverSyncTree_,a,u,i)}else{var c=de(n);s=function(t,e,n,r){var i=br(t,r);if(null!=i){var o=_r(i),a=o.path,s=o.queryId,u=St(a,e);return wr(t,a,new Ge(qe(s),u,n))}return[]}(t.serverSyncTree_,a,c,i)}else if(r){var l=Object(o.map)(n,function(t){return de(t)});s=function(t,e,n){var r=on.fromObject(n);return vr(t,new Ye({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,l)}else{var f=de(n);s=lr(t.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Ti(t,a)),ri(t.eventQueue_,h,s)}function di(t,e){pi(t,"connected",e),!1===e&&function(t){wi(t,"onDisconnectEvents");var e=fi(t),n=De();Le(t.onDisconnect_,yt(),function(r,i){var o=Cr(r,i,t.serverSyncTree_,e);Me(n,r,o)});var r=[];Le(n,yt(),function(e,n){r=r.concat(lr(t.serverSyncTree_,e,n));var i=Ci(t,e);Ti(t,i)}),t.onDisconnect_=De(),ri(t.eventQueue_,yt(),r)}(t)}function pi(t,e,n){var r=new mt("/.info/"+e),i=de(n);t.infoData_.updateSnapshot(r,i);var o=lr(t.infoSyncTree_,r,i);ri(t.eventQueue_,r,o)}function vi(t){return t.nextWriteId_++}function gi(t,e,n,r,i){wi(t,"set",{path:e.toString(),value:n,priority:r});var o=fi(t),a=de(n,r),s=dr(t.serverSyncTree_,e),u=Ar(a,s,o),c=vi(t),l=sr(t.serverSyncTree_,e,u,c,!0);ei(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),function(n,r){var o="ok"===n;o||I("set at "+e+" failed: "+n);var a=cr(t.serverSyncTree_,c,!o);ri(t.eventQueue_,e,a),xi(t,i,n,r)});var f=Ci(t,e);Ti(t,f),ri(t.eventQueue_,f,[])}function mi(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&function t(e,n){if(Et(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(ie,function(t,n){Me(e,new mt(t),n)}),t(e,n)}if(e.children.size>0){var i=bt(n);return n=wt(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),xi(t,n,r,i)})}function yi(t,e,n,r){var i=de(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Me(t.onDisconnect_,e,i),xi(t,r,n,o)})}function bi(t,e,n){var r;r=".info"===bt(e._path)?fr(t.infoSyncTree_,e,n):fr(t.serverSyncTree_,e,n),ni(t.eventQueue_,e._path,r)}function _i(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ai)}function wi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),O.apply(void 0,Object(a.__spreadArray)([r],Object(a.__read)(e)))}function xi(t,e,n,r){e&&B(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function ki(t,e,n){return dr(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function Oi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Ii(t,e),Rr(e)){var n=Si(t,e);Object(o.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=ki(t,e,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=St(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=e;t.server_.put(h.toString(),f,function(r){wi(t,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(cr(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},s=0;s<n.length;s++)a(s);Ii(t,Nr(t.transactionQueueTree_,e)),Oi(t,t.transactionQueueTree_),ri(t.eventQueue_,e,i);for(var s=0;s<o.length;s++)B(o[s])}else{if("datastale"===r)for(var s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{I("transaction at "+h.toString()+" failed: "+r);for(var s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ti(t,e)}},s)}(t,Fr(e),n)}else Mr(e)&&Lr(e,function(e){Oi(t,e)})}function Ti(t,e){var n=Ei(t,e),r=Fr(n);return function(t,e,n){if(0===e.length)return;for(var r=[],i=[],a=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=function(s){var u,c,l=e[s],f=St(n,l.path),h=!1;if(Object(o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(cr(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=si)h=!0,u="maxretry",i=i.concat(cr(t.serverSyncTree_,l.currentWriteId,!0));else{var d=ki(t,l.path,a);l.currentInputSnapshot=d;var p=e[s].update(d.val());if(void 0!==p){Kr("transaction failed: Data returned ",p,l.path);var v=de(p),g="object"===typeof p&&null!=p&&Object(o.contains)(p,".priority");g||(v=v.updatePriority(d.getPriority()));var m=l.currentWriteId,y=fi(t),b=Ar(v,d,y);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=b,l.currentWriteId=vi(t),a.splice(a.indexOf(m),1),i=(i=i.concat(sr(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally))).concat(cr(t.serverSyncTree_,m,!0))}else h=!0,u="nodata",i=i.concat(cr(t.serverSyncTree_,l.currentWriteId,!0))}ri(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,c=e[s].unwatcher,setTimeout(c,Math.floor(0)),e[s].onComplete&&("nodata"===u?r.push(function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)}):r.push(function(){return e[s].onComplete(new Error(u),!1,null)})))},u=0;u<e.length;u++)s(u);Ii(t,t.transactionQueueTree_);for(var u=0;u<r.length;u++)B(r[u]);Oi(t,t.transactionQueueTree_)}(t,Si(t,n),r),r}function Ei(t,e){var n,r=t.transactionQueueTree_;for(n=bt(e);null!==n&&void 0===Rr(r);)r=Nr(r,n),n=bt(e=wt(e));return r}function Si(t,e){var n=[];return function t(e,n,r){var i=Rr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Lr(n,function(n){t(e,n,r)})}(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function Ii(t,e){var n=Rr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Dr(e,n.length>0?n:void 0)}Lr(e,function(e){Ii(t,e)})}function Ci(t,e){var n=Fr(Ei(t,e)),r=Nr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){Ai(t,e)}),Ai(t,r),function t(e,n,r,i){r&&!i&&n(e),Lr(e,function(e){t(e,n,!0,i)}),r&&i&&n(e)}(r,function(e){Ai(t,e)}),n}function Ai(t,e){var n=Rr(e);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(cr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Dr(e,void 0):n.length=a+1,ri(t.eventQueue_,Fr(e),i);for(s=0;s<r.length;s++)B(r[s])}}var Pi=function(t,e){var n=ji(t),r=n.namespace;"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new mt(n.pathString)}},ji=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var f=t.indexOf("/");-1===f&&(f=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(f,h)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(a.__values)(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ni=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.stringify)(this.snapshot.exportVal())},t}(),Ri=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Di=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Mi=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return mi(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Jr("OnDisconnect.remove",this._path);var t=new o.Deferred;return yi(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Jr("OnDisconnect.set",this._path),Hr("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return yi(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Jr("OnDisconnect.setWithPriority",this._path),Hr("OnDisconnect.setWithPriority",t,this._path,!1),Yr("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return function(t,e,n,r,i){var o=de(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Me(t.onDisconnect_,e,o),xi(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Jr("OnDisconnect.update",this._path),Gr("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return function(t,e,n,r){if(Object(o.isEmpty)(n))return O("onDisconnect().update() called with empty data.  Don't do anything."),void xi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&L(n,function(n,r){var i=de(r);Me(t.onDisconnect_,Tt(e,n),i)}),xi(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),Li=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return Et(this._path)?null:xt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Bi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=je(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return je(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(o.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=Ct(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Fi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ui(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==A)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==P)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===ie){if(null!=e&&!Wr(e)||null!=n&&!Wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.assert)(t.getIndex()instanceof pe||t.getIndex()===ve,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Bi=function(t){function e(e,n){return t.call(this,e,n,new Se,!1)||this}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Ot(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Li),zi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new mt(e),r=Hi(this.ref,e);return new t(this._node.getChild(n),r,ie)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Hi(n.ref,r),ie))})},t.prototype.hasChild=function(t){var e=new mt(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function qi(t,e){return(t=Object(o.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Hi(t._root,e):t._root}function Wi(t,e){(t=Object(o.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=Pi(e,t._repo.repoInfo_.nodeAdmin);Zr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),qi(t,n.path.toString())}function Hi(t,e){return null===bt((t=Object(o.getModularInstance)(t))._path)?Xr("child","path",e,!1):Qr("child","path",e,!1),new Bi(t._repo,Tt(t._path,e))}function Ki(t,e){t=Object(o.getModularInstance)(t),Jr("set",t._path),Hr("set",e,t._path,!1);var n=new o.Deferred;return gi(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Gi(t,e){Gr("update",e,t._path,!1);var n=new o.Deferred;return function(t,e,n,r){wi(t,"update",{path:e.toString(),value:n});var i=!0,o=fi(t),a={};if(L(n,function(n,r){i=!1,a[n]=Cr(Tt(e,n),de(r),t.serverSyncTree_,o)}),i)O("update() called with empty data.  Don't do anything."),xi(0,r,"ok",void 0);else{var s=vi(t),u=ur(t.serverSyncTree_,e,a,s);ei(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||I("update at "+e+" failed: "+n);var a=cr(t.serverSyncTree_,s,!o),u=a.length>0?Ti(t,e):e;ri(t.eventQueue_,u,a),xi(0,r,n,i)}),L(n,function(n){var r=Ci(t,Tt(e,n));Ti(t,r)}),ri(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function Yi(t){return function(t,e){var n=pr(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=de(n),i=lr(t.serverSyncTree_,e._path,r);return ni(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return wi(t,"get for query "+Object(o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(o.getModularInstance)(t))._repo,t).then(function(e){return new zi(e,new Bi(t._repo,t._path),t._queryParams.getIndex())})}var $i=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Ni("value",this,new zi(t.snapshotNode,new Bi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ri(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Qi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ri(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.assert)(null!=t.childName,"Child events should have a childName.");var n=Hi(new Bi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Ni(t.type,this,new zi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Xi(t,e,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){bi(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Di(n,o||void 0),c="value"===e?new $i(u):new Qi(e,u);return function(t,e,n){var r;r=".info"===bt(e._path)?hr(t.infoSyncTree_,e,n):hr(t.serverSyncTree_,e,n),ni(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return bi(t._repo,t,c)}}function Ji(t,e,n,r){return Xi(t,"value",e,n,r)}function Zi(t,e,n,r){return Xi(t,"child_added",e,n,r)}function to(t,e,n,r){return Xi(t,"child_changed",e,n,r)}function eo(t,e,n,r){return Xi(t,"child_moved",e,n,r)}function no(t,e,n,r){return Xi(t,"child_removed",e,n,r)}function ro(t,e,n){var r=null,i=n?new Di(n):null;"value"===e?r=new $i(i):e&&(r=new Qi(e,i)),bi(t._repo,t,r)}var io=function(){return function(){}}(),oo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Hr("endAt",this._value,t._path,!0);var e=Ce(t._queryParams,this._value,this._key);if(Vi(e),Ui(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Li(t._repo,t._path,e,t._orderByCalled)},e}(io);var ao=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Hr("endBefore",this._value,t._path,!1);var e=function(t,e,n){var r;return t.index_===qt?("string"===typeof e&&(e=be(e)),r=Ce(t,e,n)):r=Ce(t,e,null==n?A:be(n)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Vi(e),Ui(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Li(t._repo,t._path,e,t._orderByCalled)},e}(io);var so=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Hr("startAt",this._value,t._path,!0);var e=Ie(t._queryParams,this._value,this._key);if(Vi(e),Ui(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Li(t._repo,t._path,e,t._orderByCalled)},e}(io);var uo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Hr("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;t.index_===qt?("string"===typeof e&&(e=ye(e)),r=Ie(t,e,n)):r=Ie(t,e,null==n?P:ye(n));return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Vi(e),Ui(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Li(t._repo,t._path,e,t._orderByCalled)},e}(io);var co=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(a.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Li(t._repo,t._path,function(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)},e}(io);var lo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(a.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Li(t._repo,t._path,function(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)},e}(io);var fo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Fi(t,"orderByChild");var e=new mt(this._path);if(Et(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new pe(e),r=Ae(t._queryParams,n);return Ui(r),new Li(t._repo,t._path,r,!0)},e}(io);var ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Fi(t,"orderByKey");var e=Ae(t._queryParams,qt);return Ui(e),new Li(t._repo,t._path,e,!0)},e}(io);var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Fi(t,"orderByPriority");var e=Ae(t._queryParams,ie);return Ui(e),new Li(t._repo,t._path,e,!0)},e}(io);var vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype._apply=function(t){Fi(t,"orderByValue");var e=Ae(t._queryParams,ve);return Ui(e),new Li(t._repo,t._path,e,!0)},e}(io);var go=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(a.__extends)(e,t),e.prototype._apply=function(t){if(Hr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new oo(this._value,this._key)._apply(new so(this._value,this._key)._apply(t))},e}(io);function mo(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.getModularInstance)(t);try{for(var u=Object(a.__values)(r),c=u.next();!c.done;c=u.next()){s=c.value._apply(s)}}catch(l){e={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}!function(t){Object(o.assert)(!Vn,"__referenceConstructor has already been defined"),Vn=t}(Bi),function(t){Object(o.assert)(!Gn,"__referenceConstructor has already been defined"),Gn=t}(Bi);var yo="FIREBASE_DATABASE_EMULATOR_HOST",bo={},_o=!1;function wo(e,n,r,i,o){var a=i||e.options.databaseURL;void 0===a&&(e.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",e.options.projectId),a=e.options.projectId+"-default-rtdb.firebaseio.com");var s,u=Pi(a,o),c=u.repoInfo,l=void 0;"undefined"!==typeof t&&(l=Object({NODE_ENV:"production",PUBLIC_URL:""})[yo]),l?(s=!0,a="http://"+l+"?ns="+c.namespace,c=(u=Pi(a,o)).repoInfo):s=!u.repoInfo.secure;var f=o&&s?new K(K.OWNER):new H(e.name,e.options,n);Zr("Invalid Firebase Database URL",u),Et(u.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=bo[e.name];i||(i={},bo[e.name]=i);var o=i[t.toURLString()];o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ui(t,_o,n,r),i[t.toURLString()]=o,o}(c,e,f,new W(e.name,r));return new xo(h,e)}var xo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(ci(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Bi(this._repo,yt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._checkNotDeleted("delete"),function(t,e){var n=bo[e];n&&n[t.key]===t||S("Database "+e+"("+t.repoInfo_+") has already been deleted."),_i(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&S("Cannot call "+t+" on a deleted database.")},t}();function ko(t,e,n,r){void 0===r&&(r={}),(t=Object(o.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new K(K.OWNER);else if(r.mockUserToken){var s=Object(o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);a=new K(s)}!function(t,e,n,r){t.repoInfo_=new X(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,a)}function Oo(t){var e;(t=Object(o.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(ai)}var To={".sv":"timestamp"};var Eo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function So(t,e,n){var r;if(t=Object(o.getModularInstance)(t),Jr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=Ji(t,function(){});return function(t,e,n,r,i,a){wi(t,"transaction on "+e);var s={path:e,update:n,onComplete:r,status:null,order:y(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ki(t,e,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Kr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Nr(t.transactionQueueTree_,e),f=Rr(l)||[];f.push(s),Dr(l,f);var h=void 0;"object"===typeof c&&null!==c&&Object(o.contains)(c,".priority")?(h=Object(o.safeGet)(c,".priority"),Object(o.assert)(Wr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(dr(t.serverSyncTree_,e)||le.EMPTY_NODE).getPriority().val();var d=fi(t),p=de(c,h),v=Ar(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=vi(t);var g=sr(t.serverSyncTree_,e,v,s.currentWriteId,s.applyLocally);ri(t.eventQueue_,e,g),Oi(t,t.transactionQueueTree_)}}(t._repo,t._path,e,function(e,n,r){var i=null;e?a.reject(e):(i=new zi(r,new Bi(t._repo,t._path),ie),a.resolve(new Eo(n,i)))},s,i),a.promise}var Io=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if(Object(o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),Co=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ao=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Qr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Qr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Object(o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new jo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Po=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var a,s=this;Object(o.validateArgCount)("Query.on",2,4,arguments.length),Object(o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Ao(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return Ji(this._delegate,c,l),n;case"child_added":return Zi(this._delegate,c,l),n;case"child_removed":return no(this._delegate,c,l),n;case"child_changed":return to(this._delegate,c,l),n;case"child_moved":return eo(this._delegate,c,l),n;default:throw new Error(Object(o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(o.validateArgCount)("Query.off",0,3,arguments.length),function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",t,!0),Object(o.validateCallback)("Query.off","callback",e,!0),Object(o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,ro(this._delegate,t,r)}else ro(this._delegate,t)},t.prototype.get=function(){var t=this;return Yi(this._delegate).then(function(e){return new Ao(t.database,e)})},t.prototype.once=function(e,n,r,i){var a=this;Object(o.validateArgCount)("Query.once",1,4,arguments.length),Object(o.validateCallback)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(t,e){var r=new Ao(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Ji(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Zi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":to(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":eo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Object(o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,mo(this._delegate,function(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new co(t)}(e)))},t.prototype.limitToLast=function(e){return Object(o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,mo(this._delegate,function(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lo(t)}(e)))},t.prototype.orderByChild=function(e){return Object(o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,mo(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qr("orderByChild","path",t,!1),new fo(t)}(e)))},t.prototype.orderByKey=function(){return Object(o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,mo(this._delegate,new ho))},t.prototype.orderByPriority=function(){return Object(o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,mo(this._delegate,new po))},t.prototype.orderByValue=function(){return Object(o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,mo(this._delegate,new vo))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,mo(this._delegate,function(t,e){return void 0===t&&(t=null),$r("startAt","key",e,!0),new so(t,e)}(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,mo(this._delegate,function(t,e){return $r("startAfter","key",e,!0),new uo(t,e)}(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,mo(this._delegate,function(t,e){return $r("endAt","key",e,!0),new oo(t,e)}(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,mo(this._delegate,function(t,e){return $r("endBefore","key",e,!0),new ao(t,e)}(e,n)))},t.prototype.equalTo=function(e,n){return Object(o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,mo(this._delegate,function(t,e){return $r("equalTo","key",e,!0),new go(t,e)}(e,n)))},t.prototype.toString=function(){return Object(o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,Object(o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(Object(o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new jo(this.database,new Bi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),jo=function(t){function e(e,n){var r=t.call(this,e,new Li(n._repo,n._path,new Se,!1))||this;return r.database=e,r._delegate=n,r}return Object(a.__extends)(e,t),e.prototype.getKey=function(){return Object(o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof t&&(t=String(t)),new e(this.database,Hi(this._delegate,t))},e.prototype.getParent=function(){Object(o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(o.validateArgCount)("Reference.set",1,2,arguments.length),Object(o.validateCallback)("Reference.set","onComplete",e,!0);var n=Ki(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jr("Reference.update",this._delegate._path),Object(o.validateCallback)("Reference.update","onComplete",e,!0);var i=Gi(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){Object(o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=function(t,e,n){if(Jr("setWithPriority",t._path),Hr("setWithPriority",e,t._path,!1),Yr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return gi(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){Object(o.validateArgCount)("Reference.remove",0,1,arguments.length),Object(o.validateCallback)("Reference.remove","onComplete",t,!0);var e,n=(e=this._delegate,Jr("remove",e._path),Ki(e,null));return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},e.prototype.transaction=function(t,e,n){var r=this;Object(o.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),Object(o.validateCallback)("Reference.transaction","onComplete",e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.errorPrefix)(t,e)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=So(this._delegate,t,{applyLocally:n}).then(function(t){return new Co(t.committed,new Ao(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){Object(o.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=function(t,e){t=Object(o.getModularInstance)(t),Jr("setPriority",t._path),Yr("setPriority",e,!1);var n=new o.Deferred;return gi(t._repo,Tt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;Object(o.validateArgCount)("Reference.push",0,2,arguments.length),Object(o.validateCallback)("Reference.push","onComplete",n,!0);var i=function(t,e){t=Object(o.getModularInstance)(t),Jr("push",t._path),Hr("push",e,t._path,!0);var n,r=li(t._repo),i=me(r),a=Hi(t,i),s=Hi(t,i);return n=null!=e?Ki(s,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,t),a=i.then(function(t){return new e(r.database,t)});n&&a.then(function(){return n(null)},function(t){return n(t)});var s=new e(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return Jr("Reference.onDisconnect",this._delegate._path),new Io(new Mi(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Po),No=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),ko(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof jo){var e=Wi(this._delegate,t.toString());return new jo(this,e)}e=qi(this._delegate,t);return new jo(this,e)},t.prototype.refFromURL=function(t){Object(o.validateArgCount)("database.refFromURL",1,1,arguments.length);var e=Wi(this._delegate,t);return new jo(this,e)},t.prototype.goOffline=function(){return Object(o.validateArgCount)("database.goOffline",0,0,arguments.length),t=this._delegate,(t=Object(o.getModularInstance)(t))._checkNotDeleted("goOffline"),void _i(t._repo);var t},t.prototype.goOnline=function(){return Object(o.validateArgCount)("database.goOnline",0,0,arguments.length),Oo(this._delegate)},t.ServerValue={TIMESTAMP:To,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();var Ro=Object.freeze({__proto__:null,forceLongPolling:function(){ct.forceDisallow(),at.forceAllow()},forceWebSockets:function(){at.forceDisallow()},isWebSocketsAvailable:function(){return ct.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ue(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);L(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,o=t.customAuthImpl,a=t.namespace,s=t.nodeAdmin,u=void 0!==s&&s;f(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",function(){return o},"PRIVATE")),{instance:new No(wo(e,c,void 0,n,u),e),namespace:a}}}),Do=Ut;Ut.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ut.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Mo=ft,Lo=X,Fo=Object.freeze({__proto__:null,DataConnection:Do,RealTimeConnection:Mo,hijackHash:function(t){var e=Ut.prototype.put;return Ut.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ut.prototype.put=e}},ConnectionTarget:Lo,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){_o=t}(t)}}),Uo=No.ServerValue;!function(t){f(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new No(wo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:jo,Query:Po,Database:No,DataSnapshot:Ao,enableLogging:k,INTERNAL:Ro,ServerValue:Uo,TEST_ACCESS:Fo}).setMultipleInstances(!0));t.registerVersion(u,c),Object(o.isNodeSdk)()&&(e.exports=n)}(r.default)}).call(this,n(53),n(257)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r=n(3),i=n(12),o=n(0),a=n(2),s=n(11);function u(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenListeners:[]},v={enabled:!1};function g(t){return d.get(t)||p}function m(t,e){d.set(t,e)}function y(){return v}function b(){return self.grecaptcha}function _(t){if(!g(t).activated)throw h.create("use-before-activation",{appName:t.name})}var w="https://www.google.com/recaptcha/api.js";function x(t,e){var n=g(t),r=new a.Deferred;m(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=b();return u?u.ready(function(){O(t,e,u,i),r.resolve(u)}):function(t){var e=document.createElement("script");e.src=""+w,e.onload=t,document.head.appendChild(e)}(function(){var n=b();if(!n)throw new Error("no recaptcha");n.ready(function(){O(t,e,n,i),r.resolve(n)})}),r.promise}function k(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return _(t),[4,g(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,r){var i=g(t).reCAPTCHAState;e.ready(function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function O(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),a=g(t);m(t,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var T="https://content-firebaseappcheck.googleapis.com/v1beta",E="exchangeRecaptchaToken",S="exchangeDebugToken",I={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},C=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(t),new Promise(function(t){setTimeout(t,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function A(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,function(){var t,i,a,s,u,c,l,f,d,p;return o.__generator(this,function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}})})}function P(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:T+"/projects/"+r+"/apps/"+i+":"+E+"?key="+o,body:{recaptcha_token:e}}}function j(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:T+"/projects/"+r+"/apps/"+i+":"+S+"?key="+o,body:{debug_token:e}}}var N="firebase-app-check-database",R=1,D="firebase-app-check-store",M="debug-token",L=null;function F(){return L||(L=new Promise(function(t,e){try{var n=indexedDB.open(N,R);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(h.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(D,{keyPath:"compositeKey"})}}}catch(r){e(h.create("storage-open",{originalErrorMessage:r.message}))}}))}function U(t){return B(z(t))}function V(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a;return o.__generator(this,function(o){switch(o.label){case 0:return[4,F()];case 1:return n=o.sent(),r=n.transaction(D,"readwrite"),i=r.objectStore(D),a=i.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){a.onsuccess=function(e){t()},r.onerror=function(t){var n;e(h.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function B(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,F()];case 1:return e=o.sent(),n=e.transaction(D,"readonly"),r=n.objectStore(D),i=r.get(t),[2,new Promise(function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(h.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function z(t){return t.options.appId+"-"+t.name}var q=new s.Logger("@firebase/app-check");function W(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,U(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),q.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function H(t,e){return a.isIndexedDBAvailable()?function(t,e){return V(z(t),e)}(t,e).catch(function(t){q.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function K(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,B(M)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),(r=e,V(M,r)).catch(function(t){return q.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r})})}function G(){return y().enabled}function Y(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){if((t=y()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var $={error:"UNKNOWN_ERROR"};function Q(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,s,u,c,l,f,d,p,v,y,b,w;return o.__generator(this,function(x){switch(x.label){case 0:return _(t),G()?(r=A,i=j,s=[t],[4,Y()]):[3,3];case 1:return[4,r.apply(void 0,[i.apply(void 0,s.concat([x.sent()])),e])];case 2:return[2,{token:x.sent().token}];case 3:return u=g(t),c=u.token,l=void 0,c?[3,5]:[4,W(t)];case 4:(f=x.sent())&&Z(f)&&(c=f,m(t,o.__assign(o.__assign({},u),{token:c})),J(t,{token:c.token})),x.label=5;case 5:if(!n&&c&&Z(c))return[2,{token:c.token}];x.label=6;case 6:return x.trys.push([6,12,,13]),u.customProvider?[4,u.customProvider.getToken()]:[3,8];case 7:return d=x.sent(),p=a.issuedAtTime(d.token),v=null!==p&&p<Date.now()&&p>0?1e3*p:Date.now(),c=o.__assign(o.__assign({},d),{issuedAtTimeMillis:v}),[3,11];case 8:return[4,k(t).catch(function(t){throw h.create("recaptcha-error")})];case 9:return y=x.sent(),[4,A(P(t,y),e)];case 10:c=x.sent(),x.label=11;case 11:return[3,13];case 12:return b=x.sent(),q.error(b),l=b,[3,13];case 13:return c?[3,14]:(w=function(t){return{token:(e=$,a.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(l),[3,16]);case 14:return w={token:c.token},m(t,o.__assign(o.__assign({},u),{token:c})),[4,H(t,c)];case 15:x.sent(),x.label=16;case 16:return J(t,w),[2,w]}})})}function X(t,e,n){var r=g(t),i=o.__assign(o.__assign({},r),{tokenListeners:o.__spreadArray(o.__spreadArray([],r.tokenListeners),[n])});if(G()){var a=y();a.enabled&&a.token&&a.token.promise.then(function(t){return n({token:t})}).catch(function(){})}else{if(!i.tokenRefresher){var s=function(t,e){var n=this;return new C(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return g(t).token?[3,2]:[4,Q(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,Q(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=g(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0},I.RETRIAL_MIN_WAIT,I.RETRIAL_MAX_WAIT)}(t,e);i.tokenRefresher=s}if(i.tokenRefresher.isRunning()||!0!==r.isTokenAutoRefreshEnabled||i.tokenRefresher.start(),r.token&&Z(r.token)){var u=r.token;Promise.resolve().then(function(){return n({token:u.token})}).catch(function(){})}}m(t,i)}function J(t,e){for(var n=0,r=g(t).tokenListeners;n<r.length;n++){var i=r[n];try{i(e)}catch(o){}}}function Z(t){return t.expireTimeMillis-Date.now()>0}function tt(t){return{activate:function(e,n){return function(t,e,n){var r=g(t);if(r.activated)throw h.create("already-activated",{appName:t.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"===typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,m(t,i),i.siteKey&&x(t,i.siteKey).catch(function(){})}(t,e,n)},setTokenAutoRefreshEnabled:function(e){return function(t,e){var n=g(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),m(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(t,e)}}}function et(t,e){return{getToken:function(n){return Q(t,e,n)},addTokenListener:function(n){return X(t,e,n)},removeTokenListener:function(e){return function(t,e){var n=g(t),r=n.tokenListeners.filter(function(t){return t!==e});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(t,o.__assign(o.__assign({},n),{tokenListeners:r}))}(t,e)}}}var nt="@firebase/app-check",rt="0.1.1",it="appCheck",ot="app-check-internal";!function(t){t.INTERNAL.registerComponent(new i.Component(it,function(t){return tt(t.getProvider("app").getImmediate())},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider(ot).initialize()})),t.INTERNAL.registerComponent(new i.Component(ot,function(t){return et(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(nt,rt)}(l.default),function(){var t=a.getGlobal();if("string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new a.Deferred;e.token=n,"string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(K())}}()},,function(t,e,n){"use strict";var r=n(0),i=n(1),o=n.n(i),a=function(t){return{isEnabled:function(e){return t.some(function(t){return!!e[t]})}}},s={measureLayout:a(["layout","layoutId","drag","_layoutResetTransform"]),animation:a(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:a(["exit"]),drag:a(["drag","dragControls"]),focus:a(["whileFocus"]),hover:a(["whileHover","onHoverStart","onHoverEnd"]),tap:a(["whileTap","onTap","onTapStart","onTapCancel"]),pan:a(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:a(["layout","layoutId"])};var u=function(){},c=function(){};var l=Object(i.createContext)({strict:!1}),f=Object.keys(s),h=f.length;var d=Object(i.createContext)({transformPagePoint:function(t){return t},isStatic:!1}),p=Object(i.createContext)({});var v=n(31),g=n(39);function m(){var t=Object(i.useContext)(v.a);if(null===t)return[!0,null];var e=t.isPresent,n=t.onExitComplete,r=t.register,o=w();Object(i.useEffect)(function(){return r(o)},[]);return!e&&n?[!1,function(){return null===n||void 0===n?void 0:n(o)}]:[!0]}function y(t){return null===t||t.isPresent}var b=0,_=function(){return b++},w=function(){return Object(g.a)(_)},x=Object(i.createContext)(null),k="undefined"!==typeof window,O=k?i.useLayoutEffect:i.useEffect;function T(t,e,n,o){var a=Object(i.useContext)(d),s=Object(i.useContext)(l),u=Object(i.useContext)(p).visualElement,c=Object(i.useContext)(v.a),f=function(t){var e=t.layoutId,n=Object(i.useContext)(x);return n&&void 0!==e?n+"-"+e:e}(n),h=Object(i.useRef)(void 0);o||(o=s.renderer),!h.current&&o&&(h.current=o(t,{visualState:e,parent:u,props:Object(r.__assign)(Object(r.__assign)({},n),{layoutId:f}),presenceId:null===c||void 0===c?void 0:c.id,blockInitialAnimation:!1===(null===c||void 0===c?void 0:c.initial)}));var g=h.current;return O(function(){g&&(g.setProps(Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},a),n),{layoutId:f})),g.isPresent=y(c),g.isPresenceRoot=!u||u.presenceId!==(null===c||void 0===c?void 0:c.id),g.syncRender())}),Object(i.useEffect)(function(){var t;g&&(null===(t=g.animationState)||void 0===t||t.animateChanges())}),O(function(){return function(){return null===g||void 0===g?void 0:g.notifyUnmount()}},[]),g}function E(t){return"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function S(t){return Array.isArray(t)}function I(t){return"string"===typeof t||S(t)}function C(t,e,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"string"===typeof e&&(e=null===(o=t.variants)||void 0===o?void 0:o[e]),"function"===typeof e?e(null!==n&&void 0!==n?n:t.custom,r,i):e}function A(t,e,n){var r=t.getProps();return C(r,e,null!==n&&void 0!==n?n:r.custom,function(t){var e={};return t.forEachValue(function(t,n){return e[n]=t.get()}),e}(t),function(t){var e={};return t.forEachValue(function(t,n){return e[n]=t.getVelocity()}),e}(t))}function P(t){var e;return"function"===typeof(null===(e=t.animate)||void 0===e?void 0:e.start)||I(t.initial)||I(t.animate)||I(t.whileHover)||I(t.whileDrag)||I(t.whileTap)||I(t.whileFocus)||I(t.exit)}function j(t){return Boolean(P(t)||t.variants)}function N(t,e){var n=function(t,e){if(P(t)){var n=t.initial,r=t.animate;return{initial:!1===n||I(n)?n:void 0,animate:I(r)?r:void 0}}return!1!==t.inherit?e:{}}(t,Object(i.useContext)(p)),r=n.initial,o=n.animate;return Object(i.useMemo)(function(){return{initial:r,animate:o}},e?[R(r),R(o)]:[])}function R(t){return Array.isArray(t)?t.join(" "):t}function D(t){var e=t.preloadedFeatures,n=t.createVisualElement,o=t.useRender,a=t.useVisualState,u=t.Component;return e&&function(t){for(var e in t){var n=t[e];null!==n&&(s[e].Component=n)}}(e),Object(i.forwardRef)(function(t,e){var c=Object(i.useContext)(d).isStatic,v=null,g=N(t,c),m=a(t,c);return!c&&k&&(g.visualElement=T(u,m,t,n),v=function(t,e,n){var o=[];if(Object(i.useContext)(l),!e)return null;for(var a=0;a<h;a++){var u=f[a],c=s[u],d=c.isEnabled,p=c.Component;d(t)&&p&&o.push(i.createElement(p,Object(r.__assign)({key:u},t,{visualElement:e})))}return o}(t,g.visualElement)),i.createElement(i.Fragment,null,i.createElement(p.Provider,{value:g},o(u,t,function(t,e,n){return Object(i.useCallback)(function(r){var i;r&&(null===(i=t.mount)||void 0===i||i.call(t,r)),e&&(r?e.mount(r):e.unmount()),n&&("function"===typeof n?n(r):E(n)&&(n.current=r))},[e])}(m,g.visualElement,e),m,c)),v)})}function M(t){function e(e,n){return void 0===n&&(n={}),D(t(e,n))}var n=new Map;return new Proxy(e,{get:function(t,r){return n.has(r)||n.set(r,e(r)),n.get(r)}})}var L=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function F(t){return"string"===typeof t&&!t.includes("-")&&!!(L.indexOf(t)>-1||/[A-Z]/.test(t))}var U={};var V=["","X","Y","Z"],B=["transformPerspective","x","y","z"];function z(t,e){return B.indexOf(t)-B.indexOf(e)}["translate","scale","rotate","skew"].forEach(function(t){return V.forEach(function(e){return B.push(t+e)})});var q=new Set(B);function W(t){return q.has(t)}var H=new Set(["originX","originY","originZ"]);function K(t){return H.has(t)}function G(t,e){var n=e.layout,r=e.layoutId;return W(t)||K(t)||(n||void 0!==r)&&(!!U[t]||"opacity"===t)}var Y=function(t){return null!==t&&"object"===typeof t&&t.getVelocity},$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Q(t){return t.startsWith("--")}var X=function(t,e){return e&&"number"===typeof t?e.transform(t):t},J=function(t,e){return function(n){return Math.max(Math.min(n,e),t)}},Z=function(t){return t%1?Number(t.toFixed(5)):t},tt=/(-)?([\d]*\.?[\d])+/g,et=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,nt=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function rt(t){return"string"===typeof t}var it=function(t){return{test:function(e){return rt(e)&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}},ot=it("deg"),at=it("%"),st=it("px"),ut=it("vh"),ct=it("vw"),lt=Object(r.__assign)(Object(r.__assign)({},at),{parse:function(t){return at.parse(t)/100},transform:function(t){return at.transform(100*t)}}),ft={test:function(t){return"number"===typeof t},parse:parseFloat,transform:function(t){return t}},ht=Object(r.__assign)(Object(r.__assign)({},ft),{transform:J(0,1)}),dt=Object(r.__assign)(Object(r.__assign)({},ft),{default:1}),pt=Object(r.__assign)(Object(r.__assign)({},ft),{transform:Math.round}),vt={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:ot,rotateX:ot,rotateY:ot,rotateZ:ot,scale:dt,scaleX:dt,scaleY:dt,scaleZ:dt,skew:ot,skewX:ot,skewY:ot,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:ht,originX:lt,originY:lt,originZ:st,zIndex:pt,fillOpacity:ht,strokeOpacity:ht,numOctaves:pt};function gt(t,e,n,r,i,o,a,s){var u,c=t.style,l=t.vars,f=t.transform,h=t.transformKeys,d=t.transformOrigin;h.length=0;var p=!1,v=!1,g=!0;for(var m in e){var y=e[m];if(Q(m))l[m]=y;else{var b=vt[m],_=X(y,b);if(W(m)){if(p=!0,f[m]=_,h.push(m),!g)continue;y!==(null!==(u=b.default)&&void 0!==u?u:0)&&(g=!1)}else if(K(m))d[m]=_,v=!0;else if((null===n||void 0===n?void 0:n.isHydrated)&&(null===r||void 0===r?void 0:r.isHydrated)&&U[m]){var w=U[m].process(y,r,n),x=U[m].applyTo;if(x)for(var k=x.length,O=0;O<k;O++)c[x[O]]=w;else c[m]=w}else c[m]=_}}r&&n&&a&&s?(c.transform=a(r.deltaFinal,r.treeScale,p?f:void 0),o&&(c.transform=o(f,c.transform)),c.transformOrigin=s(r)):(p&&(c.transform=function(t,e,n,r){var i=t.transform,o=t.transformKeys,a=e.enableHardwareAcceleration,s=void 0===a||a,u=e.allowTransformNone,c=void 0===u||u,l="";o.sort(z);for(var f=!1,h=o.length,d=0;d<h;d++){var p=o[d];l+=($[p]||p)+"("+i[p]+") ","z"===p&&(f=!0)}return!f&&s?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(t,i,g,o)),v&&(c.transformOrigin=function(t){var e=t.originX,n=void 0===e?"50%":e,r=t.originY,i=void 0===r?"50%":r,o=t.originZ;return n+" "+i+" "+(void 0===o?0:o)}(d)))}var mt=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function yt(t,e,n){for(var r in e)Y(e[r])||G(r,n)||(t[r]=e[r])}function bt(t,e,n){var o={};return yt(o,t.style||{},t),Object.assign(o,function(t,e,n){var o=t.transformTemplate;return Object(i.useMemo)(function(){var t=mt();gt(t,e,void 0,void 0,{enableHardwareAcceleration:!n},o);var i=t.vars,a=t.style;return Object(r.__assign)(Object(r.__assign)({},i),a)},[e])}(t,e,n)),t.transformValues&&(o=t.transformValues(o)),o}function _t(t,e,n){var r={},i=bt(t,e,n);return Boolean(t.drag)&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),r.style=i,r}var wt=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function xt(t){return wt.has(t)}var kt=function(t){return!xt(t)};try{var Ot=n(67).default;kt=function(t){return t.startsWith("on")?!xt(t):Ot(t)}}catch(Ko){}function Tt(t,e,n){return"string"===typeof t?t:st.transform(e+n*t)}var Et=function(t,e){return st.transform(t*e)},St={offset:"stroke-dashoffset",array:"stroke-dasharray"},It={offset:"strokeDashoffset",array:"strokeDasharray"};function Ct(t,e,n,i,o,a,s,u){var c=e.attrX,l=e.attrY,f=e.originX,h=e.originY,d=e.pathLength,p=e.pathSpacing,v=void 0===p?1:p,g=e.pathOffset,m=void 0===g?0:g;gt(t,Object(r.__rest)(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,i,o,a,s,u),t.attrs=t.style,t.style={};var y=t.attrs,b=t.style,_=t.dimensions,w=t.totalPathLength;y.transform&&(_&&(b.transform=y.transform),delete y.transform),_&&(void 0!==f||void 0!==h||b.transform)&&(b.transformOrigin=function(t,e,n){return Tt(e,t.x,t.width)+" "+Tt(n,t.y,t.height)}(_,void 0!==f?f:.5,void 0!==h?h:.5)),void 0!==c&&(y.x=c),void 0!==l&&(y.y=l),void 0!==w&&void 0!==d&&function(t,e,n,r,i,o){void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=!0);var a=o?St:It;t[a.offset]=Et(-i,e);var s=Et(n,e),u=Et(r,e);t[a.array]=s+" "+u}(y,w,d,v,m,!1)}var At=function(){return Object(r.__assign)(Object(r.__assign)({},mt()),{attrs:{}})};function Pt(t,e){var n=Object(i.useMemo)(function(){var n=At();return Ct(n,e,void 0,void 0,{enableHardwareAcceleration:!1},t.transformTemplate),Object(r.__assign)(Object(r.__assign)({},n.attrs),{style:Object(r.__assign)({},n.style)})},[e]);if(t.style){var o={};yt(o,t.style,t),n.style=Object(r.__assign)(Object(r.__assign)({},o),n.style)}return n}function jt(t){void 0===t&&(t=!1);return function(e,n,o,a,s){var u=a.latestValues,c=(F(e)?Pt:_t)(n,u,s),l=function(t,e,n){var r={};for(var i in t)(kt(i)||!0===n&&xt(i)||!e&&!xt(i))&&(r[i]=t[i]);return r}(n,"string"===typeof e,t),f=Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},l),c),{ref:o});return Object(i.createElement)(e,f)}}var Nt=/([a-z])([A-Z])/g,Rt=function(t){return t.replace(Nt,"$1-$2").toLowerCase()};function Dt(t,e){var n=e.style,r=e.vars;for(var i in Object.assign(t.style,n),r)t.style.setProperty(i,r[i])}var Mt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function Lt(t,e){for(var n in Dt(t,e),e.attrs)t.setAttribute(Mt.has(n)?n:Rt(n),e.attrs[n])}function Ft(t){var e=t.style,n={};for(var r in e)(Y(e[r])||G(r,t))&&(n[r]=e[r]);return n}function Ut(t){var e=Ft(t);for(var n in t){if(Y(t[n]))e["x"===n||"y"===n?"attr"+n.toUpperCase():n]=t[n]}return e}function Vt(t){return"object"===typeof t&&"function"===typeof t.start}var Bt=function(t){return Array.isArray(t)},zt=function(t){return Boolean(t&&"object"===typeof t&&t.mix&&t.toValue)},qt=function(t){return Bt(t)?t[t.length-1]||0:t};function Wt(t){var e=Y(t)?t.get():t;return zt(e)?e.toValue():e}function Ht(t,e,n,r){var i=t.scrapeMotionValuesFromProps,o=t.createRenderState,a=t.onMount,s={latestValues:Gt(e,n,r,i),renderState:o()};return a&&(s.mount=function(t){return a(e,t,s)}),s}var Kt=function(t){return function(e,n){var r=Object(i.useContext)(p),o=Object(i.useContext)(v.a);return n?Ht(t,e,r,o):Object(g.a)(function(){return Ht(t,e,r,o)})}};function Gt(t,e,n,i){var o={},a=!1===(null===n||void 0===n?void 0:n.initial),s=i(t);for(var u in s)o[u]=Wt(s[u]);var c=t.initial,l=t.animate,f=P(t),h=j(t);e&&h&&!f&&!1!==t.inherit&&(null!==c&&void 0!==c||(c=e.initial),null!==l&&void 0!==l||(l=e.animate));var d=a||!1===c?l:c;d&&"boolean"!==typeof d&&!Vt(d)&&(Array.isArray(d)?d:[d]).forEach(function(e){var n=C(t,e);if(n){var i=n.transitionEnd;n.transition;var a=Object(r.__rest)(n,["transitionEnd","transition"]);for(var s in a)o[s]=a[s];for(var s in i)o[s]=i[s]}});return o}var Yt={useVisualState:Kt({scrapeMotionValuesFromProps:Ut,createRenderState:At,onMount:function(t,e,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(o){r.dimensions={x:0,y:0,width:0,height:0}}"path"===e.tagName&&(r.totalPathLength=e.getTotalLength()),Ct(r,i,void 0,void 0,{enableHardwareAcceleration:!1},t.transformTemplate),Lt(e,r)}})};var $t,Qt={useVisualState:Kt({scrapeMotionValuesFromProps:Ft,createRenderState:mt})};function Xt(t,e,n,i){var o=e.forwardMotionProps,a=void 0!==o&&o,s=F(t)?Yt:Qt;return Object(r.__assign)(Object(r.__assign)({},s),{preloadedFeatures:n,useRender:jt(a),createVisualElement:i,Component:t})}function Jt(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function Zt(t,e,n,r){Object(i.useEffect)(function(){var i=t.current;if(n&&i)return Jt(i,e,n,r)},[t,e,n,r])}function te(t){return"undefined"!==typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}function ee(t){return!!t.touches}!function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.Exit="exit"}($t||($t={}));var ne={pageX:0,pageY:0};function re(t,e){void 0===e&&(e="page");var n=t.touches[0]||t.changedTouches[0]||ne;return{x:n[e+"X"],y:n[e+"Y"]}}function ie(t,e){return void 0===e&&(e="page"),{x:t[e+"X"],y:t[e+"Y"]}}function oe(t,e){return void 0===e&&(e="page"),{point:ee(t)?re(t,e):ie(t,e)}}var ae=function(t,e){void 0===e&&(e=!1);var n,r=function(e){return t(e,oe(e))};return e?(n=r,function(t){var e=t instanceof MouseEvent;(!e||e&&0===t.button)&&n(t)}):r},se=function(){return k&&null===window.onpointerdown},ue=function(){return k&&null===window.ontouchstart},ce=function(){return k&&null===window.onmousedown},le={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},fe={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function he(t){return se()?t:ue()?fe[t]:ce()?le[t]:t}function de(t,e,n,r){return Jt(t,he(e),ae(n,"pointerdown"===e),r)}function pe(t,e,n,r){return Zt(t,he(e),n&&ae(n,"pointerdown"===e),r)}function ve(t){var e=null;return function(){return null===e&&(e=t,function(){e=null})}}var ge=ve("dragHorizontal"),me=ve("dragVertical");function ye(t){var e=!1;if("y"===t)e=me();else if("x"===t)e=ge();else{var n=ge(),r=me();n&&r?e=function(){n(),r()}:(n&&n(),r&&r())}return e}function be(){var t=ye(!0);return!t||(t(),!1)}function _e(t,e,n){return function(r,i){var o;te(r)&&!be()&&(null===n||void 0===n||n(r,i),null===(o=t.animationState)||void 0===o||o.setActive($t.Hover,e))}}var we=function t(e,n){return!!n&&(e===n||t(e,n.parentElement))},xe=n(49),ke=function(t,e){return function(n){return e(t(n))}},Oe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(ke)};var Te=function(t){return function(e){return t(e),null}},Ee={tap:Te(function(t){var e=t.onTap,n=t.onTapStart,r=t.onTapCancel,o=t.whileTap,a=t.visualElement,s=e||n||r||o,u=Object(i.useRef)(!1),c=Object(i.useRef)(null);function l(){var t;null===(t=c.current)||void 0===t||t.call(c),c.current=null}function f(){var t;return l(),u.current=!1,null===(t=a.animationState)||void 0===t||t.setActive($t.Tap,!1),!be()}function h(t,n){f()&&(we(a.getInstance(),t.target)?null===e||void 0===e||e(t,n):null===r||void 0===r||r(t,n))}function d(t,e){f()&&(null===r||void 0===r||r(t,e))}pe(a,"pointerdown",s?function(t,e){var r;l(),u.current||(u.current=!0,c.current=Oe(de(window,"pointerup",h),de(window,"pointercancel",d)),null===n||void 0===n||n(t,e),null===(r=a.animationState)||void 0===r||r.setActive($t.Tap,!0))}:void 0),Object(xe.a)(l)}),focus:Te(function(t){var e=t.whileFocus,n=t.visualElement;Zt(n,"focus",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive($t.Focus,!0)}:void 0),Zt(n,"blur",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive($t.Focus,!1)}:void 0)}),hover:Te(function(t){var e=t.onHoverStart,n=t.onHoverEnd,r=t.whileHover,i=t.visualElement;pe(i,"pointerenter",e||r?_e(i,!0,e):void 0),pe(i,"pointerleave",n||r?_e(i,!1,n):void 0)})};function Se(t,e){if(!Array.isArray(e))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var Ie=function(t,e,n){return Math.min(Math.max(n,t),e)},Ce=.001,Ae=.01,Pe=10,je=.05,Ne=1;function Re(t){var e,n,r=t.duration,i=void 0===r?800:r,o=t.bounce,a=void 0===o?.25:o,s=t.velocity,c=void 0===s?0:s,l=t.mass,f=void 0===l?1:l;u(i<=1e3*Pe,"Spring duration must be 10 seconds or less");var h=1-a;h=Ie(je,Ne,h),i=Ie(Ae,Pe,i/1e3),h<1?(e=function(t){var e=t*h,n=e*i,r=e-c,o=Me(t,h),a=Math.exp(-n);return Ce-r/o*a},n=function(t){var n=t*h*i,r=n*c+c,o=Math.pow(h,2)*Math.pow(t,2)*i,a=Math.exp(-n),s=Me(Math.pow(t,2),h);return(-e(t)+Ce>0?-1:1)*((r-o)*a)/s}):(e=function(t){return Math.exp(-t*i)*((t-c)*i+1)-Ce},n=function(t){return Math.exp(-t*i)*(i*i*(c-t))});var d=function(t,e,n){for(var r=n,i=1;i<De;i++)r-=t(r)/e(r);return r}(e,n,5/i);if(i*=1e3,isNaN(d))return{stiffness:100,damping:10,duration:i};var p=Math.pow(d,2)*f;return{stiffness:p,damping:2*h*Math.sqrt(f*p),duration:i}}var De=12;function Me(t,e){return t*Math.sqrt(1-e*e)}var Le=["duration","bounce"],Fe=["stiffness","damping","mass"];function Ue(t,e){return e.some(function(e){return void 0!==t[e]})}function Ve(t){var e=t.from,n=void 0===e?0:e,i=t.to,o=void 0===i?1:i,a=t.restSpeed,s=void 0===a?2:a,u=t.restDelta,c=Object(r.__rest)(t,["from","to","restSpeed","restDelta"]),l={done:!1,value:n},f=function(t){var e=Object(r.__assign)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Ue(t,Fe)&&Ue(t,Le)){var n=Re(t);(e=Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return e}(c),h=f.stiffness,d=f.damping,p=f.mass,v=f.velocity,g=f.duration,m=f.isResolvedFromDuration,y=Be,b=Be;function _(){var t=v?-v/1e3:0,e=o-n,r=d/(2*Math.sqrt(h*p)),i=Math.sqrt(h/p)/1e3;if(null!==u&&void 0!==u||(u=Math.abs(o-n)<=1?.01:.4),r<1){var a=Me(i,r);y=function(n){var s=Math.exp(-r*i*n);return o-s*((t+r*i*e)/a*Math.sin(a*n)+e*Math.cos(a*n))},b=function(n){var o=Math.exp(-r*i*n);return r*i*o*(Math.sin(a*n)*(t+r*i*e)/a+e*Math.cos(a*n))-o*(Math.cos(a*n)*(t+r*i*e)-a*e*Math.sin(a*n))}}else if(1===r)y=function(n){return o-Math.exp(-i*n)*(e+(t+i*e)*n)};else{var s=i*Math.sqrt(r*r-1);y=function(n){var a=Math.exp(-r*i*n),u=Math.min(s*n,300);return o-a*((t+r*i*e)*Math.sinh(u)+s*e*Math.cosh(u))/s}}}return _(),{next:function(t){var e=y(t);if(m)l.done=t>=g;else{var n=1e3*b(t),r=Math.abs(n)<=s,i=Math.abs(o-e)<=u;l.done=r&&i}return l.value=l.done?o:e,l},flipTarget:function(){var t;v=-v,n=(t=[o,n])[0],o=t[1],_()}}}Ve.needsInterpolation=function(t,e){return"string"===typeof t||"string"===typeof e};var Be=function(t){return 0},ze=function(t,e,n){var r=e-t;return 0===r?1:(n-t)/r},qe=function(t,e,n){return-n*t+n*e+t},We=function(t,e){return function(n){return Boolean(rt(n)&&nt.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e))}},He=function(t,e,n){return function(r){var i;if(!rt(r))return r;var o=r.match(tt),a=o[0],s=o[1],u=o[2],c=o[3];return(i={})[t]=parseFloat(a),i[e]=parseFloat(s),i[n]=parseFloat(u),i.alpha=void 0!==c?parseFloat(c):1,i}},Ke=J(0,255),Ge=Object(r.__assign)(Object(r.__assign)({},ft),{transform:function(t){return Math.round(Ke(t))}}),Ye={test:We("rgb","red"),parse:He("red","green","blue"),transform:function(t){var e=t.red,n=t.green,r=t.blue,i=t.alpha,o=void 0===i?1:i;return"rgba("+Ge.transform(e)+", "+Ge.transform(n)+", "+Ge.transform(r)+", "+Z(ht.transform(o))+")"}};var $e={test:We("#"),parse:function(t){var e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Ye.transform},Qe={test:We("hsl","hue"),parse:He("hue","saturation","lightness"),transform:function(t){var e=t.hue,n=t.saturation,r=t.lightness,i=t.alpha,o=void 0===i?1:i;return"hsla("+Math.round(e)+", "+at.transform(Z(n))+", "+at.transform(Z(r))+", "+Z(ht.transform(o))+")"}},Xe=function(t,e,n){var r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},Je=[$e,Ye,Qe],Ze=function(t){return Je.find(function(e){return e.test(t)})},tn=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},en=function(t,e){var n=Ze(t),i=Ze(e);c(!!n,tn(t)),c(!!i,tn(e)),c(n.transform===i.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var o=n.parse(t),a=i.parse(e),s=Object(r.__assign)({},o),u=n===Qe?qe:Xe;return function(t){for(var e in s)"alpha"!==e&&(s[e]=u(o[e],a[e],t));return s.alpha=qe(o.alpha,a.alpha,t),n.transform(s)}},nn={test:function(t){return Ye.test(t)||$e.test(t)||Qe.test(t)},parse:function(t){return Ye.test(t)?Ye.parse(t):Qe.test(t)?Qe.parse(t):$e.parse(t)},transform:function(t){return rt(t)?t:t.hasOwnProperty("red")?Ye.transform(t):Qe.transform(t)}},rn="${c}",on="${n}";function an(t){var e=[],n=0,r=t.match(et);r&&(n=r.length,t=t.replace(et,rn),e.push.apply(e,r.map(nn.parse)));var i=t.match(tt);return i&&(t=t.replace(tt,on),e.push.apply(e,i.map(ft.parse))),{values:e,numColors:n,tokenised:t}}function sn(t){return an(t).values}function un(t){var e=an(t),n=e.values,r=e.numColors,i=e.tokenised,o=n.length;return function(t){for(var e=i,n=0;n<o;n++)e=e.replace(n<r?rn:on,n<r?nn.transform(t[n]):Z(t[n]));return e}}var cn=function(t){return"number"===typeof t?0:t};var ln={test:function(t){var e,n,r,i;return isNaN(t)&&rt(t)&&(null!==(n=null===(e=t.match(tt))||void 0===e?void 0:e.length)&&void 0!==n?n:0)+(null!==(i=null===(r=t.match(et))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:sn,createTransformer:un,getAnimatableNone:function(t){var e=sn(t);return un(t)(e.map(cn))}},fn=function(t){return"number"===typeof t};function hn(t,e){return fn(t)?function(n){return qe(t,e,n)}:nn.test(t)?en(t,e):gn(t,e)}var dn=function(t,e){var n=Object(r.__spreadArray)([],t),i=n.length,o=t.map(function(t,n){return hn(t,e[n])});return function(t){for(var e=0;e<i;e++)n[e]=o[e](t);return n}},pn=function(t,e){var n=Object(r.__assign)(Object(r.__assign)({},t),e),i={};for(var o in n)void 0!==t[o]&&void 0!==e[o]&&(i[o]=hn(t[o],e[o]));return function(t){for(var e in i)n[e]=i[e](t);return n}};function vn(t){for(var e=ln.parse(t),n=e.length,r=0,i=0,o=0,a=0;a<n;a++)r||"number"===typeof e[a]?r++:void 0!==e[a].hue?o++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:o}}var gn=function(t,e){var n=ln.createTransformer(e),r=vn(t),i=vn(e);return c(r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers,"Complex values '"+t+"' and '"+e+"' too different to mix. Ensure all colors are of the same type."),Oe(dn(r.parsed,i.parsed),n)},mn=function(t,e){return function(n){return qe(t,e,n)}};function yn(t,e,n){for(var r,i=[],o=n||("number"===typeof(r=t[0])?mn:"string"===typeof r?nn.test(r)?en:gn:Array.isArray(r)?dn:"object"===typeof r?pn:void 0),a=t.length-1,s=0;s<a;s++){var u=o(t[s],t[s+1]);if(e){var c=Array.isArray(e)?e[s]:e;u=Oe(c,u)}i.push(u)}return i}function bn(t,e,n){var r=void 0===n?{}:n,i=r.clamp,o=void 0===i||i,a=r.ease,s=r.mixer,u=t.length;c(u===e.length,"Both input and output ranges must be the same length"),c(!a||!Array.isArray(a)||a.length===u-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[u-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var l=yn(e,a,s),f=2===u?function(t,e){var n=t[0],r=t[1],i=e[0];return function(t){return i(ze(n,r,t))}}(t,l):function(t,e){var n=t.length,r=n-1;return function(i){var o=0,a=!1;if(i<=t[0]?a=!0:i>=t[r]&&(o=r-1,a=!0),!a){for(var s=1;s<n&&!(t[s]>i||s===r);s++);o=s-1}var u=ze(t[o],t[o+1],i);return e[o](u)}}(t,l);return o?function(e){return f(Ie(t[0],t[u-1],e))}:f}var _n,wn=function(t){return function(e){return 1-t(1-e)}},xn=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},kn=function(t){return function(e){return e*e*((t+1)*e-t)}},On=function(t){return t},Tn=(_n=2,function(t){return Math.pow(t,_n)}),En=wn(Tn),Sn=xn(Tn),In=function(t){return 1-Math.sin(Math.acos(t))},Cn=wn(In),An=xn(Cn),Pn=kn(1.525),jn=wn(Pn),Nn=xn(Pn),Rn=function(t){var e=kn(t);return function(t){return(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}}(1.525),Dn=function(t){if(1===t||0===t)return t;var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72},Mn=wn(Dn);function Ln(t,e){return t.map(function(){return e||Sn}).splice(0,t.length-1)}function Fn(t){var e=t.from,n=void 0===e?0:e,r=t.to,i=void 0===r?1:r,o=t.ease,a=t.offset,s=t.duration,u=void 0===s?300:s,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(t,e){return t.map(function(t){return t*e})}(a&&a.length===l.length?a:function(t){var e=t.length;return t.map(function(t,n){return 0!==n?n/(e-1):0})}(l),u);function h(){return bn(f,l,{ease:Array.isArray(o)?o:Ln(l,o)})}var d=h();return{next:function(t){return c.value=d(t),c.done=t>=u,c},flipTarget:function(){l.reverse(),d=h()}}}var Un={keyframes:Fn,spring:Ve,decay:function(t){var e=t.velocity,n=void 0===e?0:e,r=t.from,i=void 0===r?0:r,o=t.power,a=void 0===o?.8:o,s=t.timeConstant,u=void 0===s?350:s,c=t.restDelta,l=void 0===c?.5:c,f=t.modifyTarget,h={done:!1,value:i},d=a*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(t){var e=-d*Math.exp(-t/u);return h.done=!(e>l||e<-l),h.value=h.done?v:v+e,h},flipTarget:function(){}}}};var Vn=n(9);function Bn(t,e,n){return void 0===n&&(n=0),t-e-n}var zn=function(t){var e=function(e){var n=e.delta;return t(n)};return{start:function(){return Vn.b.update(e,!0)},stop:function(){return Vn.a.update(e)}}};function qn(t){var e,n,i,o,a,s=t.from,u=t.autoplay,c=void 0===u||u,l=t.driver,f=void 0===l?zn:l,h=t.elapsed,d=void 0===h?0:h,p=t.repeat,v=void 0===p?0:p,g=t.repeatType,m=void 0===g?"loop":g,y=t.repeatDelay,b=void 0===y?0:y,_=t.onPlay,w=t.onStop,x=t.onComplete,k=t.onRepeat,O=t.onUpdate,T=Object(r.__rest)(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),E=T.to,S=0,I=T.duration,C=!1,A=!0,P=function(t){if(Array.isArray(t.to))return Fn;if(Un[t.type])return Un[t.type];var e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Fn:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Ve:Fn}(T);(null===(n=(e=P).needsInterpolation)||void 0===n?void 0:n.call(e,s,E))&&(a=bn([0,100],[s,E],{clamp:!1}),s=0,E=100);var j=P(Object(r.__assign)(Object(r.__assign)({},T),{from:s,to:E}));function N(){S++,"reverse"===m?d=function(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?Bn(e+-t,e,n):e-(t-e)+n}(d,I,b,A=S%2===0):(d=Bn(d,I,b),"mirror"===m&&j.flipTarget()),C=!1,k&&k()}function R(t){if(A||(t=-t),d+=t,!C){var e=j.next(Math.max(0,d));o=e.value,a&&(o=a(o)),C=A?e.done:d<=0}null===O||void 0===O||O(o),C&&(0===S&&(null!==I&&void 0!==I||(I=d)),S<v?function(t,e,n,r){return r?t>=e+n:t<=-n}(d,I,b,A)&&N():(i.stop(),x&&x()))}return c&&(null===_||void 0===_||_(),(i=f(R)).start()),{stop:function(){null===w||void 0===w||w(),i.stop()}}}function Wn(t,e){return e?t*(1e3/e):0}var Hn=function(t){return 1e3*t},Kn=function(t,e){return 1-3*e+3*t},Gn=function(t,e){return 3*e-6*t},Yn=function(t){return 3*t},$n=function(t,e,n){return((Kn(e,n)*t+Gn(e,n))*t+Yn(e))*t},Qn=function(t,e,n){return 3*Kn(e,n)*t*t+2*Gn(e,n)*t+Yn(e)},Xn=1e-7,Jn=10;var Zn=8,tr=.001;var er=11,nr=1/(er-1);function rr(t,e,n,r){if(t===e&&n===r)return On;for(var i=new Float32Array(er),o=0;o<er;++o)i[o]=$n(o*nr,t,n);function a(e){for(var r=0,o=1,a=er-1;o!==a&&i[o]<=e;++o)r+=nr;var s=r+(e-i[--o])/(i[o+1]-i[o])*nr,u=Qn(s,t,n);return u>=tr?function(t,e,n,r){for(var i=0;i<Zn;++i){var o=Qn(e,n,r);if(0===o)return e;e-=($n(e,n,r)-t)/o}return e}(e,s,t,n):0===u?s:function(t,e,n,r,i){var o,a,s=0;do{(o=$n(a=e+(n-e)/2,r,i)-t)>0?n=a:e=a}while(Math.abs(o)>Xn&&++s<Jn);return a}(e,r,r+nr,t,n)}return function(t){return 0===t||1===t?t:$n(a(t),e,r)}}var ir={linear:On,easeIn:Tn,easeInOut:Sn,easeOut:En,circIn:In,circInOut:An,circOut:Cn,backIn:Pn,backInOut:Nn,backOut:jn,anticipate:Rn,bounceIn:Mn,bounceInOut:function(t){return t<.5?.5*(1-Dn(1-2*t)):.5*Dn(2*t-1)+.5},bounceOut:Dn},or=function(t){if(Array.isArray(t)){c(4===t.length,"Cubic bezier arrays must contain four numerical values.");var e=Object(r.__read)(t,4);return rr(e[0],e[1],e[2],e[3])}return"string"===typeof t?(c(void 0!==ir[t],"Invalid easing type '"+t+"'"),ir[t]):t},ar=function(t){return Array.isArray(t)&&"number"!==typeof t[0]},sr=function(t,e){return"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!ln.test(e)||e.startsWith("url(")))},ur=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},cr=function(t){return{type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},lr=function(){return{type:"keyframes",ease:"linear",duration:.3}},fr=function(t){return{type:"keyframes",duration:.8,values:t}},hr={x:ur,y:ur,z:ur,rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scaleX:cr,scaleY:cr,scale:cr,opacity:lr,backgroundColor:lr,color:lr,default:cr},dr=function(t,e){var n;return n=Bt(e)?fr:hr[t]||hr.default,Object(r.__assign)({to:e},n(e))},pr=new Set(["brightness","contrast","saturate","opacity"]);function vr(t){var e=t.slice(0,-1).split("("),n=e[0],r=e[1];if("drop-shadow"===n)return t;var i=(r.match(tt)||[])[0];if(!i)return t;var o=r.replace(i,""),a=pr.has(n)?1:0;return i!==r&&(a*=100),n+"("+a+o+")"}var gr=/([a-z-]*)\(.*?\)/g,mr=Object(r.__assign)(Object(r.__assign)({},ln),{getAnimatableNone:function(t){var e=t.match(gr);return e?e.map(vr).join(" "):t}}),yr=Object(r.__assign)(Object(r.__assign)({},vt),{color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:mr,WebkitFilter:mr}),br=function(t){return yr[t]};function _r(t,e){var n,r=br(t);return r!==mr&&(r=ln),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,e)}var wr=!1;function xr(t,e,n){var i;return Array.isArray(e.to)&&(null!==(i=t.duration)&&void 0!==i||(t.duration=.8)),function(t){Array.isArray(t.to)&&null===t.to[0]&&(t.to=Object(r.__spreadArray)([],Object(r.__read)(t.to)),t.to[0]=t.from)}(e),function(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var e=Object(r.__rest)(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}(t)||(t=Object(r.__assign)(Object(r.__assign)({},t),dr(n,e.to))),Object(r.__assign)(Object(r.__assign)({},e),function(t){var e=t.ease,n=t.times,i=t.yoyo,o=t.flip,a=t.loop,s=Object(r.__rest)(t,["ease","times","yoyo","flip","loop"]),c=Object(r.__assign)({},s);return n&&(c.offset=n),s.duration&&(c.duration=Hn(s.duration)),s.repeatDelay&&(c.repeatDelay=Hn(s.repeatDelay)),e&&(c.ease=ar(e)?e.map(or):or(e)),"tween"===s.type&&(c.type="keyframes"),(i||a||o)&&(u(!wr,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),wr=!0,i?c.repeatType="reverse":a?c.repeatType="loop":o&&(c.repeatType="mirror"),c.repeat=a||i||o||s.repeat),"spring"!==s.type&&(c.type="keyframes"),c}(t))}function kr(t,e,n,i,o){var a,s=Er(i,t),c=null!==(a=s.from)&&void 0!==a?a:e.get(),l=sr(t,n);"none"===c&&l&&"string"===typeof n?c=_r(t,n):Or(c)&&"string"===typeof n?c=Tr(n):!Array.isArray(n)&&Or(n)&&"string"===typeof c&&(n=Tr(c));var f=sr(t,c);return u(f===l,"You are trying to animate "+t+' from "'+c+'" to "'+n+'". '+c+" is not an animatable value - to enable this animation set "+c+" to a value animatable to "+n+" via the `style` property."),f&&l&&!1!==s.type?function(){var i={from:c,to:n,velocity:e.getVelocity(),onComplete:o,onUpdate:function(t){return e.set(t)}};return"inertia"===s.type||"decay"===s.type?function(t){var e,n=t.from,i=void 0===n?0:n,o=t.velocity,a=void 0===o?0:o,s=t.min,u=t.max,c=t.power,l=void 0===c?.8:c,f=t.timeConstant,h=void 0===f?750:f,d=t.bounceStiffness,p=void 0===d?500:d,v=t.bounceDamping,g=void 0===v?10:v,m=t.restDelta,y=void 0===m?1:m,b=t.modifyTarget,_=t.driver,w=t.onUpdate,x=t.onComplete;function k(t){return void 0!==s&&t<s||void 0!==u&&t>u}function O(t){return void 0===s?u:void 0===u?s:Math.abs(s-t)<Math.abs(u-t)?s:u}function T(t){null===e||void 0===e||e.stop(),e=qn(Object(r.__assign)(Object(r.__assign)({},t),{driver:_,onUpdate:function(e){var n;null===w||void 0===w||w(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:x}))}function E(t){T(Object(r.__assign)({type:"spring",stiffness:p,damping:g,restDelta:y},t))}if(k(i))E({from:i,velocity:a,to:O(i)});else{var S=l*a+i;"undefined"!==typeof b&&(S=b(S));var I,C,A=O(S),P=A===s?-1:1;T({type:"decay",from:i,velocity:a,timeConstant:h,power:l,restDelta:y,modifyTarget:b,onUpdate:k(S)?function(t){I=C,C=t,a=Wn(t-I,Object(Vn.d)().delta),(1===P&&t>A||-1===P&&t<A)&&E({from:t,to:A,velocity:a})}:void 0})}return{stop:function(){return null===e||void 0===e?void 0:e.stop()}}}(Object(r.__assign)(Object(r.__assign)({},i),s)):qn(Object(r.__assign)(Object(r.__assign)({},xr(s,i,t)),{onUpdate:function(t){var e;i.onUpdate(t),null===(e=s.onUpdate)||void 0===e||e.call(s,t)},onComplete:function(){var t;i.onComplete(),null===(t=s.onComplete)||void 0===t||t.call(s)}}))}:function(){var t;return e.set(n),o(),null===(t=null===s||void 0===s?void 0:s.onComplete)||void 0===t||t.call(s),{stop:function(){}}}}function Or(t){return 0===t||"string"===typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function Tr(t){return"number"===typeof t?0:_r("",t)}function Er(t,e){return t[e]||t.default||t}function Sr(t,e,n,r){return void 0===r&&(r={}),e.start(function(i){var o,a,s=kr(t,e,n,r,i),u=function(t,e){var n;return null!==(n=(Er(t,e)||{}).delay)&&void 0!==n?n:0}(r,t),c=function(){return a=s()};return u?o=setTimeout(c,Hn(u)):c(),function(){clearTimeout(o),null===a||void 0===a||a.stop()}})}var Ir=function(t){return/^\-?\d*\.?\d+$/.test(t)};function Cr(t,e){-1===t.indexOf(e)&&t.push(e)}function Ar(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pr=function(){function t(){this.subscriptions=[]}return t.prototype.add=function(t){var e=this;return Cr(this.subscriptions,t),function(){return Ar(e.subscriptions,t)}},t.prototype.notify=function(t,e,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(t,e,n)}},t.prototype.getSize=function(){return this.subscriptions.length},t.prototype.clear=function(){this.subscriptions.length=0},t}(),jr=function(t){return!isNaN(parseFloat(t))},Nr=function(){function t(t){var e=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Pr,this.velocityUpdateSubscribers=new Pr,this.renderSubscribers=new Pr,this.canTrackVelocity=!1,this.updateAndNotify=function(t,n){void 0===n&&(n=!0),e.prev=e.current,e.current=t;var r=Object(Vn.d)(),i=r.delta,o=r.timestamp;e.lastUpdated!==o&&(e.timeDelta=i,e.lastUpdated=o,Vn.b.postRender(e.scheduleVelocityCheck)),e.prev!==e.current&&e.updateSubscribers.notify(e.current),e.velocityUpdateSubscribers.getSize()&&e.velocityUpdateSubscribers.notify(e.getVelocity()),n&&e.renderSubscribers.notify(e.current)},this.scheduleVelocityCheck=function(){return Vn.b.postRender(e.velocityCheck)},this.velocityCheck=function(t){t.timestamp!==e.lastUpdated&&(e.prev=e.current,e.velocityUpdateSubscribers.notify(e.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=jr(this.current)}return t.prototype.onChange=function(t){return this.updateSubscribers.add(t)},t.prototype.clearListeners=function(){this.updateSubscribers.clear()},t.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},t.prototype.attach=function(t){this.passiveEffect=t},t.prototype.set=function(t,e){void 0===e&&(e=!0),e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)},t.prototype.get=function(){return this.current},t.prototype.getPrevious=function(){return this.prev},t.prototype.getVelocity=function(){return this.canTrackVelocity?Wn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},t.prototype.start=function(t){var e=this;return this.stop(),new Promise(function(n){e.hasAnimated=!0,e.stopAnimation=t(n)}).then(function(){return e.clearAnimation()})},t.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},t.prototype.isAnimating=function(){return!!this.stopAnimation},t.prototype.clearAnimation=function(){this.stopAnimation=null},t.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},t}();function Rr(t){return new Nr(t)}var Dr=function(t){return function(e){return e.test(t)}},Mr=[ft,st,at,ot,ct,ut,{test:function(t){return"auto"===t},parse:function(t){return t}}],Lr=function(t){return Mr.find(Dr(t))},Fr=Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(Mr)),[nn,ln]),Ur=function(t){return Fr.find(Dr(t))};function Vr(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rr(n))}function Br(t,e){var n=A(t,e),i=n?t.makeTargetAnimatable(n,!1):{},o=i.transitionEnd,a=void 0===o?{}:o;i.transition;var s=Object(r.__rest)(i,["transitionEnd","transition"]);for(var u in s=Object(r.__assign)(Object(r.__assign)({},s),a)){Vr(t,u,qt(s[u]))}}function zr(t,e){if(e)return(e[t]||e.default||e).from}function qr(t,e,n){var i;void 0===n&&(n={});var o=A(t,e,n.custom),a=(o||{}).transition,s=void 0===a?t.getDefaultTransition()||{}:a;n.transitionOverride&&(s=n.transitionOverride);var u=o?function(){return Wr(t,o,n)}:function(){return Promise.resolve()},c=(null===(i=t.variantChildren)||void 0===i?void 0:i.size)?function(i){void 0===i&&(i=0);var o=s.delayChildren,a=void 0===o?0:o,u=s.staggerChildren,c=s.staggerDirection;return function(t,e,n,i,o,a){void 0===n&&(n=0);void 0===i&&(i=0);void 0===o&&(o=1);var s=[],u=(t.variantChildren.size-1)*i,c=1===o?function(t){return void 0===t&&(t=0),t*i}:function(t){return void 0===t&&(t=0),u-t*i};return Array.from(t.variantChildren).sort(Hr).forEach(function(t,i){s.push(qr(t,e,Object(r.__assign)(Object(r.__assign)({},a),{delay:n+c(i)})).then(function(){return t.notifyAnimationComplete(e)}))}),Promise.all(s)}(t,e,a+i,u,c,n)}:function(){return Promise.resolve()},l=s.when;if(l){var f=Object(r.__read)("beforeChildren"===l?[u,c]:[c,u],2),h=f[0],d=f[1];return h().then(d)}return Promise.all([u(),c(n.delay)])}function Wr(t,e,n){var i,o=void 0===n?{}:n,a=o.delay,s=void 0===a?0:a,u=o.transitionOverride,c=o.type,l=t.makeTargetAnimatable(e),f=l.transition,h=void 0===f?t.getDefaultTransition():f,d=l.transitionEnd,p=Object(r.__rest)(l,["transition","transitionEnd"]);u&&(h=u);var v=[],g=c&&(null===(i=t.animationState)||void 0===i?void 0:i.getState()[c]);for(var m in p){var y=t.getValue(m),b=p[m];if(!(!y||void 0===b||g&&Kr(g,m))){var _=Sr(m,y,b,Object(r.__assign)({delay:s},h));v.push(_)}}return Promise.all(v).then(function(){d&&Br(t,d)})}function Hr(t,e){return t.sortNodePosition(e)}function Kr(t,e){var n=t.protectedKeys,r=t.needsAnimating,i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}var Gr=[$t.Animate,$t.Hover,$t.Tap,$t.Drag,$t.Focus,$t.Exit],Yr=Object(r.__spreadArray)([],Object(r.__read)(Gr)).reverse(),$r=Gr.length;function Qr(t){return function(e){return Promise.all(e.map(function(e){var n=e.animation,r=e.options;return function(t,e,n){var r;if(void 0===n&&(n={}),t.notifyAnimationStart(),Array.isArray(e)){var i=e.map(function(e){return qr(t,e,n)});r=Promise.all(i)}else if("string"===typeof e)r=qr(t,e,n);else{var o="function"===typeof e?A(t,e,n.custom):e;r=Wr(t,o,n)}return r.then(function(){return t.notifyAnimationComplete(e)})}(t,n,r)}))}}function Xr(t){var e=Qr(t),n=function(){var t;return(t={})[$t.Animate]=Jr(!0),t[$t.Hover]=Jr(),t[$t.Tap]=Jr(),t[$t.Drag]=Jr(),t[$t.Focus]=Jr(),t[$t.Exit]=Jr(),t}(),i={},o=!0,a=function(e,n){var i=A(t,n);if(i){i.transition;var o=i.transitionEnd,a=Object(r.__rest)(i,["transition","transitionEnd"]);e=Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e),a),o)}return e};function s(s,u){for(var c,l=t.getProps(),f=t.getVariantContext(!0)||{},h=[],d=new Set,p={},v=1/0,g=function(e){var i=Yr[e],g=n[i],m=null!==(c=l[i])&&void 0!==c?c:f[i],y=I(m),b=i===u?g.isActive:null;!1===b&&(v=e);var _=m===f[i]&&m!==l[i]&&y;if(_&&o&&t.manuallyAnimateOnMount&&(_=!1),g.protectedKeys=Object(r.__assign)({},p),!g.isActive&&null===b||!m&&!g.prevProp||Vt(m)||"boolean"===typeof m)return"continue";var w=function(t,e){if("string"===typeof e)return e!==t;if(S(e))return!Se(e,t);return!1}(g.prevProp,m)||i===u&&g.isActive&&!_&&y||e>v&&y,x=Array.isArray(m)?m:[m],k=x.reduce(a,{});!1===b&&(k={});var O=g.prevResolvedValues,T=void 0===O?{}:O,E=Object(r.__assign)(Object(r.__assign)({},T),k),C=function(t){w=!0,d.delete(t),g.needsAnimating[t]=!0};for(var A in E){var P=k[A],j=T[A];p.hasOwnProperty(A)||(P!==j?Bt(P)&&Bt(j)?Se(P,j)?g.protectedKeys[A]=!0:C(A):void 0!==P?C(A):d.add(A):void 0!==P&&d.has(A)?C(A):g.protectedKeys[A]=!0)}g.prevProp=m,g.prevResolvedValues=k,g.isActive&&(p=Object(r.__assign)(Object(r.__assign)({},p),k)),o&&t.blockInitialAnimation&&(w=!1),w&&!_&&h.push.apply(h,Object(r.__spreadArray)([],Object(r.__read)(x.map(function(t){return{animation:t,options:Object(r.__assign)({type:i},s)}}))))},m=0;m<$r;m++)g(m);if(i=Object(r.__assign)({},p),d.size){var y={};d.forEach(function(e){var n=t.getBaseTarget(e);void 0!==n&&(y[e]=n)}),h.push({animation:y})}var b=Boolean(h.length);return o&&!1===l.initial&&!t.manuallyAnimateOnMount&&(b=!1),o=!1,b?e(h):Promise.resolve()}return{isAnimated:function(t){return void 0!==i[t]},animateChanges:s,setActive:function(e,r,i){var o;return n[e].isActive===r?Promise.resolve():(null===(o=t.variantChildren)||void 0===o||o.forEach(function(t){var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)}),n[e].isActive=r,s(i,e))},setAnimateFunction:function(n){e=n(t)},getState:function(){return n}}}function Jr(t){return void 0===t&&(t=!1),{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var Zr={animation:Te(function(t){var e=t.visualElement,n=t.animate;e.animationState||(e.animationState=Xr(e)),Vt(n)&&Object(i.useEffect)(function(){return n.subscribe(e)},[n])}),exit:Te(function(t){var e=t.custom,n=t.visualElement,o=Object(r.__read)(m(),2),a=o[0],s=o[1],u=Object(i.useContext)(v.a);Object(i.useEffect)(function(){var t,r,i=null===(t=n.animationState)||void 0===t?void 0:t.setActive($t.Exit,!a,{custom:null!==(r=null===u||void 0===u?void 0:u.custom)&&void 0!==r?r:e});!a&&(null===i||void 0===i||i.then(s))},[a])})},ti=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},ei=function(t){return ti(t)&&t.hasOwnProperty("z")},ni=function(t,e){return Math.abs(t-e)};function ri(t,e){if(fn(t)&&fn(e))return ni(t,e);if(ti(t)&&ti(e)){var n=ni(t.x,e.x),r=ni(t.y,e.y),i=ei(t)&&ei(e)?ni(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var ii=function(){function t(t,e,n){var i=this,o=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var t=si(i.lastMoveEventInfo,i.history),e=null!==i.startEvent,n=ri(t.offset,{x:0,y:0})>=3;if(e||n){var o=t.point,a=Object(Vn.d)().timestamp;i.history.push(Object(r.__assign)(Object(r.__assign)({},o),{timestamp:a}));var s=i.handlers,u=s.onStart,c=s.onMove;e||(u&&u(i.lastMoveEvent,t),i.startEvent=i.lastMoveEvent),c&&c(i.lastMoveEvent,t)}}},this.handlePointerMove=function(t,e){i.lastMoveEvent=t,i.lastMoveEventInfo=oi(e,i.transformPagePoint),te(t)&&0===t.buttons?i.handlePointerUp(t,e):Vn.b.update(i.updatePoint,!0)},this.handlePointerUp=function(t,e){i.end();var n=i.handlers,r=n.onEnd,o=n.onSessionEnd,a=si(oi(e,i.transformPagePoint),i.history);i.startEvent&&r&&r(t,a),o&&o(t,a)},!(ee(t)&&t.touches.length>1)){this.handlers=e,this.transformPagePoint=o;var a=oi(oe(t),this.transformPagePoint),s=a.point,u=Object(Vn.d)().timestamp;this.history=[Object(r.__assign)(Object(r.__assign)({},s),{timestamp:u})];var c=e.onSessionStart;c&&c(t,si(a,this.history)),this.removeListeners=Oe(de(window,"pointermove",this.handlePointerMove),de(window,"pointerup",this.handlePointerUp),de(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(t){this.handlers=t},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),Vn.a.update(this.updatePoint)},t}();function oi(t,e){return e?{point:e(t.point)}:t}function ai(t,e){return{x:t.x-e.x,y:t.y-e.y}}function si(t,e){var n=t.point;return{point:n,delta:ai(n,ci(e)),offset:ai(n,ui(e)),velocity:li(e,.1)}}function ui(t){return t[0]}function ci(t){return t[t.length-1]}function li(t,e){if(t.length<2)return{x:0,y:0};for(var n=t.length-1,r=null,i=ci(t);n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Hn(e)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}var fi=n(17);function hi(t){return[t("x"),t("y")]}function di(t,e,n){var r=e.min,i=e.max;return void 0!==r&&t<r?t=n?qe(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?qe(i,t,n.max):Math.min(t,i)),t}function pi(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function vi(t,e){var n,i=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&(i=(n=Object(r.__read)([o,i],2))[0],o=n[1]),{min:t.min+i,max:t.min+o}}var gi=.35;function mi(t,e,n){return{min:yi(t,e),max:yi(t,n)}}function yi(t,e){var n;return"number"===typeof t?t:null!==(n=t[e])&&void 0!==n?n:0}function bi(t,e){var n=t.getBoundingClientRect();return Object(fi.c)(Object(fi.f)(n,e))}var _i=function(t){return Ie(0,1,t)};function wi(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=.01),ri(t,e)<n}function xi(t){return t.max-t.min}function ki(t,e,n,r){void 0===r&&(r=.5),t.origin=r,t.originPoint=qe(e.min,e.max,t.origin),t.scale=xi(n)/xi(e),wi(t.scale,1,1e-4)&&(t.scale=1),t.translate=qe(n.min,n.max,t.origin)-t.originPoint,wi(t.translate)&&(t.translate=0)}function Oi(t,e,n,r){ki(t.x,e.x,n.x,Ti(r.originX)),ki(t.y,e.y,n.y,Ti(r.originY))}function Ti(t){return"number"===typeof t?t:.5}function Ei(t,e,n){t.min=n.min+e.min,t.max=t.min+xi(e)}var Si=n(26);function Ii(t,e){return{min:e.min-t.min,max:e.max-t.min}}function Ci(t,e){return{x:Ii(t.x,e.x),y:Ii(t.y,e.y)}}function Ai(t){var e=t.getProps(),n=e.drag,r=e._dragX;return n&&!r}function Pi(t,e){t.min=e.min,t.max=e.max}function ji(t,e,n){return n+e*(t-n)}function Ni(t,e,n,r,i){return void 0!==i&&(t=ji(t,i,r)),ji(t,n,r)+e}function Ri(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),t.min=Ni(t.min,e,n,r,i),t.max=Ni(t.max,e,n,r,i)}function Di(t,e){var n=e.x,r=e.y;Ri(t.x,n.translate,n.scale,n.originPoint),Ri(t.y,r.translate,r.scale,r.originPoint)}function Mi(t,e,n,i){var o=Object(r.__read)(i,3),a=o[0],s=o[1],u=o[2];t.min=e.min,t.max=e.max;var c=void 0!==n[u]?n[u]:.5,l=qe(e.min,e.max,c);Ri(t,n[a],n[s],l,n.scale)}var Li=["x","scaleX","originX"],Fi=["y","scaleY","originY"];function Ui(t,e,n){Mi(t.x,e.x,n,Li),Mi(t.y,e.y,n,Fi)}function Vi(t,e,n,r,i){return t=ji(t-=e,1/n,r),void 0!==i&&(t=ji(t,1/i,r)),t}function Bi(t,e,n){var i=Object(r.__read)(n,3),o=i[0],a=i[1],s=i[2];!function(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=.5);var o=qe(t.min,t.max,r)-e;t.min=Vi(t.min,e,n,o,i),t.max=Vi(t.max,e,n,o,i)}(t,e[o],e[a],e[s],e.scale)}function zi(t,e){Bi(t.x,e,Li),Bi(t.y,e,Fi)}var qi,Wi=n(41),Hi=new WeakMap,Ki=function(){function t(t){var e=t.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic=Object(fi.a)(),this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=e,this.visualElement.enableLayoutProjection(),Hi.set(e,this)}return t.prototype.start=function(t,e){var n=this,i=void 0===e?{}:e,o=i.snapToCursor,a=void 0!==o&&o,s=i.cursorProgress,u=this.props.transformPagePoint;this.panSession=new ii(t,{onSessionStart:function(t){var e;n.stopMotion();var i=function(t){return oe(t,"client")}(t).point;null===(e=n.cancelLayout)||void 0===e||e.call(n),n.cancelLayout=Object(Wi.a)(function(t,e){var o=Object(Si.a)(n.visualElement),u=Object(Si.b)(n.visualElement),c=Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(o)),Object(r.__read)(u)),l=!1;n.isLayoutDrag()&&n.visualElement.lockProjectionTarget(),e(function(){c.forEach(function(t){return t.resetTransform()})}),t(function(){Object(Si.d)(n.visualElement),u.forEach(Si.d)}),e(function(){c.forEach(function(t){return t.restoreTransform()}),a&&(l=n.snapToCursor(i))}),t(function(){Boolean(n.getAxisMotionValue("x")&&!n.isExternalDrag())||n.visualElement.rebaseProjectionTarget(!0,n.visualElement.measureViewportBox(!1)),n.visualElement.scheduleUpdateLayoutProjection();var t=n.visualElement.projection;hi(function(e){if(!l){var r=t.target[e],o=r.min,a=r.max;n.cursorProgress[e]=s?s[e]:ze(o,a,i[e])}var u=n.getAxisMotionValue(e);u&&(n.originPoint[e]=u.get())})}),e(function(){Vn.c.update(),Vn.c.preRender(),Vn.c.render(),Vn.c.postRender()}),t(function(){return n.resolveDragConstraints()})})},onStart:function(t,e){var r,i,o,a=n.props,s=a.drag,u=a.dragPropagation;(!s||u||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=ye(s),n.openGlobalLock))&&(Object(Wi.b)(),n.isDragging=!0,n.currentDirection=null,null===(i=(r=n.props).onDragStart)||void 0===i||i.call(r,t,e),null===(o=n.visualElement.animationState)||void 0===o||o.setActive($t.Drag,!0))},onMove:function(t,e){var r,i,o,a,s=n.props,u=s.dragPropagation,c=s.dragDirectionLock;if(u||n.openGlobalLock){var l=e.offset;if(c&&null===n.currentDirection)return n.currentDirection=function(t,e){void 0===e&&(e=10);var n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(l),void(null!==n.currentDirection&&(null===(i=(r=n.props).onDirectionLock)||void 0===i||i.call(r,n.currentDirection)));n.updateAxis("x",e.point,l),n.updateAxis("y",e.point,l),null===(a=(o=n.props).onDrag)||void 0===a||a.call(o,t,e),qi=t}},onSessionEnd:function(t,e){return n.stop(t,e)}},{transformPagePoint:u})},t.prototype.resolveDragConstraints=function(){var t=this,e=this.props,n=e.dragConstraints,r=e.dragElastic,i=this.visualElement.getLayoutState().layoutCorrected;this.constraints=!!n&&(E(n)?this.resolveRefConstraints(i,n):function(t,e){var n=e.top,r=e.left,i=e.bottom,o=e.right;return{x:pi(t.x,r,o),y:pi(t.y,n,i)}}(i,n)),this.elastic=function(t){return!1===t?t=0:!0===t&&(t=gi),{x:mi(t,"left","right"),y:mi(t,"top","bottom")}}(r),this.constraints&&!this.hasMutatedConstraints&&hi(function(e){t.getAxisMotionValue(e)&&(t.constraints[e]=function(t,e){var n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(i[e],t.constraints[e]))})},t.prototype.resolveRefConstraints=function(t,e){var n=this.props,r=n.onMeasureDragConstraints,i=n.transformPagePoint,o=e.current;c(null!==o,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.constraintsBox=bi(o,i);var a=function(t,e){return{x:vi(t.x,e.x),y:vi(t.y,e.y)}}(t,this.constraintsBox);if(r){var s=r(Object(fi.b)(a));this.hasMutatedConstraints=!!s,s&&(a=Object(fi.c)(s))}return a},t.prototype.cancelDrag=function(){var t,e;this.visualElement.unlockProjectionTarget(),null===(t=this.cancelLayout)||void 0===t||t.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(e=this.visualElement.animationState)||void 0===e||e.setActive($t.Drag,!1)},t.prototype.stop=function(t,e){var n,r,i;null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var o=this.isDragging;if(this.cancelDrag(),o){var a=e.velocity;this.animateDragEnd(a),null===(i=(r=this.props).onDragEnd)||void 0===i||i.call(r,t,e)}},t.prototype.snapToCursor=function(t){var e=this;return hi(function(n){if(Gi(n,e.props.drag,e.currentDirection)){var r=e.getAxisMotionValue(n);if(!r)return e.cursorProgress[n]=.5,!0;var i=e.visualElement.getLayoutState().layout,o=i[n].max-i[n].min,a=i[n].min+o/2,s=t[n]-a;e.originPoint[n]=t[n],r.set(s)}}).includes(!0)},t.prototype.updateAxis=function(t,e,n){if(Gi(t,this.props.drag,this.currentDirection))return this.getAxisMotionValue(t)?this.updateAxisMotionValue(t,n):this.updateVisualElementAxis(t,e)},t.prototype.updateAxisMotionValue=function(t,e){var n=this.getAxisMotionValue(t);if(e&&n){var r=this.originPoint[t]+e[t],i=this.constraints?di(r,this.constraints[t],this.elastic[t]):r;n.set(i)}},t.prototype.updateVisualElementAxis=function(t,e){var n,r=this.visualElement.getLayoutState().layout[t],i=r.max-r.min,o=this.cursorProgress[t],a=function(t,e,n,r,i){var o=t-e*n;return r?di(o,r,i):o}(e[t],i,o,null===(n=this.constraints)||void 0===n?void 0:n[t],this.elastic[t]);this.visualElement.setProjectionTargetAxis(t,a,a+i)},t.prototype.setProps=function(t){var e=t.drag,n=void 0!==e&&e,i=t.dragDirectionLock,o=void 0!==i&&i,a=t.dragPropagation,s=void 0!==a&&a,u=t.dragConstraints,c=void 0!==u&&u,l=t.dragElastic,f=void 0===l?gi:l,h=t.dragMomentum,d=void 0===h||h,p=Object(r.__rest)(t,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=Object(r.__assign)({drag:n,dragDirectionLock:o,dragPropagation:s,dragConstraints:c,dragElastic:f,dragMomentum:d},p)},t.prototype.getAxisMotionValue=function(t){var e=this.props,n=e.layout,r=e.layoutId,i="_drag"+t.toUpperCase();return this.props[i]?this.props[i]:n||void 0!==r?void 0:this.visualElement.getValue(t,0)},t.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},t.prototype.isExternalDrag=function(){var t=this.props,e=t._dragX,n=t._dragY;return e||n},t.prototype.animateDragEnd=function(t){var e=this,n=this.props,i=n.drag,o=n.dragMomentum,a=n.dragElastic,s=n.dragTransition,u=function(t,e){void 0===e&&(e=!0);var n,r=t.getProjectionParent();return!!r&&(e?zi(n=Ci(r.projection.target,t.projection.target),r.getLatestValues()):n=Ci(r.getLayoutState().layout,t.getLayoutState().layout),hi(function(e){return t.setProjectionTargetAxis(e,n[e].min,n[e].max,!0)}),!0)}(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),c=this.constraints||{};if(u&&Object.keys(c).length&&this.isLayoutDrag()){var l=this.visualElement.getProjectionParent();if(l){var f=Ci(l.projection.targetFinal,c);hi(function(t){var e=f[t],n=e.min,r=e.max;c[t]={min:isNaN(n)?void 0:n,max:isNaN(r)?void 0:r}})}}var h=hi(function(n){var l;if(Gi(n,i,e.currentDirection)){var f=null!==(l=null===c||void 0===c?void 0:c[n])&&void 0!==l?l:{},h=a?200:1e6,d=a?40:1e7,p=Object(r.__assign)(Object(r.__assign)({type:"inertia",velocity:o?t[n]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},s),f);return e.getAxisMotionValue(n)?e.startAxisValueAnimation(n,p):e.visualElement.startLayoutAnimation(n,p,u)}});return Promise.all(h).then(function(){var t,n;null===(n=(t=e.props).onDragTransitionEnd)||void 0===n||n.call(t)})},t.prototype.stopMotion=function(){var t=this;hi(function(e){var n=t.getAxisMotionValue(e);n?n.stop():t.visualElement.stopLayoutAnimation()})},t.prototype.startAxisValueAnimation=function(t,e){var n=this.getAxisMotionValue(t);if(n){var r=n.get();return n.set(r),n.set(r),Sr(t,n,0,e)}},t.prototype.scalePoint=function(){var t=this,e=this.props,n=e.drag;if(E(e.dragConstraints)&&this.constraintsBox){this.stopMotion();var r={x:0,y:0};hi(function(e){r[e]=function(t,e){var n=.5,r=xi(t),i=xi(e);return i>r?n=ze(e.min,e.max-r,t.min):r>i&&(n=ze(t.min,t.max-i,e.min)),_i(n)}(t.visualElement.projection.target[e],t.constraintsBox[e])}),this.updateConstraints(function(){hi(function(e){if(Gi(e,n,null)){var i=function(t,e,n){var r=t.max-t.min,i=qe(e.min,e.max-r,n);return{min:i,max:i+r}}(t.visualElement.projection.target[e],t.constraintsBox[e],r[e]),o=i.min,a=i.max;t.visualElement.setProjectionTargetAxis(e,o,a)}})}),setTimeout(Wi.b,1)}},t.prototype.updateConstraints=function(t){var e=this;this.cancelLayout=Object(Wi.a)(function(n,r){var i=Object(Si.a)(e.visualElement);r(function(){return i.forEach(function(t){return t.resetTransform()})}),n(function(){return Object(Si.d)(e.visualElement)}),r(function(){return i.forEach(function(t){return t.restoreTransform()})}),n(function(){e.resolveDragConstraints()}),t&&r(t)})},t.prototype.mount=function(t){var e=this,n=de(t.getInstance(),"pointerdown",function(t){var n=e.props,r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)}),r=Jt(window,"resize",function(){e.scalePoint()}),i=t.onLayoutUpdate(function(){e.isDragging&&e.resolveDragConstraints()}),o=t.prevDragCursor;return o&&this.start(qi,{cursorProgress:o}),function(){null===n||void 0===n||n(),null===r||void 0===r||r(),null===i||void 0===i||i(),e.cancelDrag()}},t}();function Gi(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}var Yi={pan:Te(function(t){var e=t.onPan,n=t.onPanStart,r=t.onPanEnd,o=t.onPanSessionStart,a=t.visualElement,s=e||n||r||o,u=Object(i.useRef)(null),c=Object(i.useContext)(d).transformPagePoint,l={onSessionStart:o,onStart:n,onMove:e,onEnd:function(t,e){u.current=null,r&&r(t,e)}};Object(i.useEffect)(function(){null!==u.current&&u.current.updateHandlers(l)}),pe(a,"pointerdown",s&&function(t){u.current=new ii(t,l,{transformPagePoint:c})}),Object(xe.a)(function(){return u.current&&u.current.end()})}),drag:Te(function(t){var e=t.dragControls,n=t.visualElement,o=Object(i.useContext)(d).transformPagePoint,a=Object(g.a)(function(){return new Ki({visualElement:n})});a.setProps(Object(r.__assign)(Object(r.__assign)({},t),{transformPagePoint:o})),Object(i.useEffect)(function(){return e&&e.subscribe(a)},[a]),Object(i.useEffect)(function(){return a.mount(n)},[])})},$i=n(45);function Qi(t){return"string"===typeof t&&t.startsWith("var(--")}var Xi=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var Ji=4;function Zi(t,e,n){void 0===n&&(n=1),c(n<=Ji,'Max CSS variable fallback depth detected in property "'+t+'". This may indicate a circular fallback dependency.');var i=Object(r.__read)(function(t){var e=Xi.exec(t);if(!e)return[,];var n=Object(r.__read)(e,3);return[n[1],n[2]]}(t),2),o=i[0],a=i[1];if(o){var s=window.getComputedStyle(e).getPropertyValue(o);return s?s.trim():Qi(a)?Zi(a,e,n+1):a}}function to(t,e){return t/(e.max-e.min)*100}var eo="_$css";var no={process:function(t,e,n){var r=n.target;if("string"===typeof t){if(!st.test(t))return t;t=parseFloat(t)}return to(t,r.x)+"% "+to(t,r.y)+"%"}},ro={borderRadius:Object(r.__assign)(Object(r.__assign)({},no),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:no,borderTopRightRadius:no,borderBottomLeftRadius:no,borderBottomRightRadius:no,boxShadow:{process:function(t,e){var n=e.delta,r=e.treeScale,i=t,o=t.includes("var("),a=[];o&&(t=t.replace(Xi,function(t){return a.push(t),eo}));var s=ln.parse(t);if(s.length>5)return i;var u=ln.createTransformer(t),c="number"!==typeof s[0]?1:0,l=n.x.scale*r.x,f=n.y.scale*r.y;s[0+c]/=l,s[1+c]/=f;var h=qe(l,f,.5);"number"===typeof s[2+c]&&(s[2+c]/=h),"number"===typeof s[3+c]&&(s[3+c]/=h);var d=u(s);if(o){var p=0;d=d.replace(eo,function(){var t=a[p];return p++,t})}return d}}},io=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameTarget=Object(fi.a)(),e.currentAnimationTarget=Object(fi.a)(),e.isAnimating={x:!1,y:!1},e.stopAxisAnimation={x:void 0,y:void 0},e.isAnimatingTree=!1,e.animate=function(t,n,i){void 0===i&&(i={});var o=i.originBox,a=i.targetBox,s=i.visibilityAction,u=i.shouldStackAnimate,c=i.onComplete,l=i.prevParent,f=Object(r.__rest)(i,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),h=e.props,d=h.visualElement,p=h.layout;if(!1===u)return e.isAnimatingTree=!1,e.safeToRemove();if(!e.isAnimatingTree||!0===u){u&&(e.isAnimatingTree=!0),n=o||n,t=a||t;var v=!1,g=d.getProjectionParent();if(g){var m=g.prevViewportBox,y=g.getLayoutState().layout;l&&(a&&(y=l.getLayoutState().layout),o&&!function(t,e){var n=t.getLayoutId(),r=e.getLayoutId();return n!==r||void 0===r&&t!==e}(l,g)&&l.prevViewportBox&&(m=l.prevViewportBox)),m&&function(t,e,n){return t||!t&&!(e||n)}(l,o,a)&&(v=!0,n=Ci(m,n),t=Ci(y,t))}var b,_,w=(_=t,!ao(b=n)&&!ao(_)&&(!so(b.x,_.x)||!so(b.y,_.y))),x=hi(function(i){var o,a;if("position"===p){var u=t[i].max-t[i].min;n[i].max=n[i].min+u}if(!d.projection.isTargetLocked)return void 0===s?w?e.animateAxis(i,t[i],n[i],Object(r.__assign)(Object(r.__assign)({},f),{isRelative:v})):(null===(a=(o=e.stopAxisAnimation)[i])||void 0===a||a.call(o),d.setProjectionTargetAxis(i,t[i].min,t[i].max,v)):void d.setVisibility(s===$i.b.Show)});return d.syncRender(),Promise.all(x).then(function(){e.isAnimatingTree=!1,c&&c(),d.notifyLayoutAnimationComplete()})}},e}return Object(r.__extends)(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props.visualElement;e.animateMotionValue=Sr,e.enableLayoutProjection(),this.unsubLayoutReady=e.onLayoutUpdate(this.animate),e.layoutSafeToRemove=function(){return t.safeToRemove()},function(t){for(var e in t)U[e]=t[e]}(ro)},e.prototype.componentWillUnmount=function(){var t=this;this.unsubLayoutReady(),hi(function(e){var n,r;return null===(r=(n=t.stopAxisAnimation)[e])||void 0===r?void 0:r.call(n)})},e.prototype.animateAxis=function(t,e,n,r){var i,o,a=this,s=void 0===r?{}:r,u=s.transition,c=s.isRelative;if(!this.isAnimating[t]||!so(e,this.currentAnimationTarget[t])){null===(o=(i=this.stopAxisAnimation)[t])||void 0===o||o.call(i),this.isAnimating[t]=!0;var l=this.props.visualElement,f=this.frameTarget[t],h=l.getProjectionAnimationProgress()[t];h.clearListeners(),h.set(0),h.set(0);var d=function(){var r=h.get()/1e3;!function(t,e,n,r){t.min=qe(e.min,n.min,r),t.max=qe(e.max,n.max,r)}(f,n,e,r),l.setProjectionTargetAxis(t,f.min,f.max,c)};d();var p=h.onChange(d);this.stopAxisAnimation[t]=function(){a.isAnimating[t]=!1,h.stop(),p()},this.currentAnimationTarget[t]=e;var v=u||l.getDefaultTransition()||uo;return Sr("x"===t?"layoutX":"layoutY",h,1e3,v&&Er(v,"layout")).then(this.stopAxisAnimation[t])}},e.prototype.safeToRemove=function(){var t,e;null===(e=(t=this.props).safeToRemove)||void 0===e||e.call(t)},e.prototype.render=function(){return null},e}(i.Component);var oo={min:0,max:0};function ao(t){return so(t.x,oo)&&so(t.y,oo)}function so(t,e){return t.min===e.min&&t.max===e.max}var uo={duration:.45,ease:[.4,0,.1,1]};var co=n(29),lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.syncLayout,n=t.framerSyncLayout,r=t.visualElement;Object(co.c)(e)&&e.register(r),Object(co.c)(n)&&n.register(r),r.onUnmount(function(){Object(co.c)(e)&&e.remove(r),Object(co.c)(n)&&n.remove(r)})},e.prototype.getSnapshotBeforeUpdate=function(){var t=this.props,e=t.syncLayout,n=t.visualElement;return Object(co.c)(e)?e.syncUpdate():(Object(Si.c)(n),e.add(n)),null},e.prototype.componentDidUpdate=function(){var t=this.props.syncLayout;Object(co.c)(t)||t.flush()},e.prototype.render=function(){return null},e}(o.a.Component);var fo={measureLayout:function(t){var e=Object(i.useContext)(co.b),n=Object(i.useContext)(co.a);return o.a.createElement(lo,Object(r.__assign)({},t,{syncLayout:e,framerSyncLayout:n}))},layoutAnimation:function(t){var e=Object(r.__read)(m(),2)[1];return i.createElement(io,Object(r.__assign)({},t,{safeToRemove:e}))}};function ho(){return{isHydrated:!1,layout:Object(fi.a)(),layoutCorrected:Object(fi.a)(),treeScale:{x:1,y:1},delta:Object(fi.e)(),deltaFinal:Object(fi.e)(),deltaTransform:""}}var po=ho();function vo(t,e,n){var r=t.x,i=t.y,o="translate3d("+r.translate/e.x+"px, "+i.translate/e.y+"px, 0) ";if(n){var a=n.rotate,s=n.rotateX,u=n.rotateY;a&&(o+="rotate("+a+") "),s&&(o+="rotateX("+s+") "),u&&(o+="rotateY("+u+") ")}return o+="scale("+r.scale+", "+i.scale+")",n||o!==mo?o:""}function go(t){var e=t.deltaFinal;return 100*e.x.origin+"% "+100*e.y.origin+"% 0"}var mo=vo(po.delta,po.treeScale,{x:1,y:1}),yo=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function bo(t,e,n,r){var i,o,a=t.delta,s=t.layout,u=t.layoutCorrected,c=t.treeScale,l=e.target;o=s,Pi((i=u).x,o.x),Pi(i.y,o.y),function(t,e,n){var r=n.length;if(r){var i,o;e.x=e.y=1;for(var a=0;a<r;a++)o=(i=n[a]).getLayoutState().delta,e.x*=o.x.scale,e.y*=o.y.scale,Di(t,o),Ai(i)&&Ui(t,t,i.getLatestValues())}}(u,c,n),Oi(a,u,l,r)}var _o=n(50),wo=function(){function t(){this.children=[],this.isDirty=!1}return t.prototype.add=function(t){Cr(this.children,t),this.isDirty=!0},t.prototype.remove=function(t){Ar(this.children,t),this.isDirty=!0},t.prototype.forEach=function(t){this.isDirty&&this.children.sort(_o.a),this.isDirty=!1,this.children.forEach(t)},t}();var xo=function(t){var e=t.treeType,n=void 0===e?"":e,i=t.build,o=t.getBaseTarget,a=t.makeTargetAnimatable,s=t.measureViewportBox,u=t.render,c=t.readValueFromInstance,l=t.resetTransform,f=t.restoreTransform,h=t.removeValueFromRenderState,d=t.sortNodePosition,p=t.scrapeMotionValuesFromProps;return function(t,e){var v=t.parent,g=t.props,m=t.presenceId,y=t.blockInitialAnimation,b=t.visualState;void 0===e&&(e={});var _,w,x,k,O,T,E=b.latestValues,S=b.renderState,C=function(){var t=yo.map(function(){return new Pr}),e={},n={clearAllListeners:function(){return t.forEach(function(t){return t.clear()})},updatePropListeners:function(t){return yo.forEach(function(r){var i;null===(i=e[r])||void 0===i||i.call(e);var o="on"+r,a=t[o];a&&(e[r]=n[o](a))})}};return t.forEach(function(t,e){n["on"+yo[e]]=function(e){return t.add(e)},n["notify"+yo[e]]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.notify.apply(t,Object(r.__spreadArray)([],Object(r.__read)(e)))}}),n}(),A={isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:Object(fi.a)(),targetFinal:Object(fi.a)()},N=A,R=E,D=ho(),M=!1,L=new Map,F=new Map,U={},V=Object(r.__assign)({},E);function B(){_&&(X.isProjectionReady()&&(Ui(N.targetFinal,N.target,R),Oi(D.deltaFinal,D.layoutCorrected,N.targetFinal,E)),z(),u(_,S))}function z(){var t=E;if(k&&k.isActive()){var n=k.getCrossfadeState(X);n&&(t=n)}i(X,S,t,N,D,e,g)}function q(){C.notifyUpdate(E)}function W(){X.layoutTree.forEach(Oo)}var H=p(g);for(var K in H){var G=H[K];void 0!==E[K]&&Y(G)&&G.set(E[K],!1)}var $=P(g),Q=j(g),X=Object(r.__assign)(Object(r.__assign)({treeType:n,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,path:v?Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(v.path)),[v]):[],layoutTree:v?v.layoutTree:new wo,presenceId:m,projection:A,variantChildren:Q?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===v||void 0===v?void 0:v.isMounted()),blockInitialAnimation:y,isMounted:function(){return Boolean(_)},mount:function(t){_=X.current=t,X.pointTo(X),Q&&v&&!$&&(T=null===v||void 0===v?void 0:v.addVariantChild(X)),null===v||void 0===v||v.children.add(X)},unmount:function(){Vn.a.update(q),Vn.a.render(B),Vn.a.preRender(X.updateLayoutProjection),F.forEach(function(t){return t()}),X.stopLayoutAnimation(),X.layoutTree.remove(X),null===T||void 0===T||T(),null===v||void 0===v||v.children.delete(X),null===x||void 0===x||x(),C.clearAllListeners()},addVariantChild:function(t){var e,n=X.getClosestVariantNode();if(n)return null===(e=n.variantChildren)||void 0===e||e.add(t),function(){return n.variantChildren.delete(t)}},sortNodePosition:function(t){return d&&n===t.treeType?d(X.getInstance(),t.getInstance()):0},getClosestVariantNode:function(){return Q?X:null===v||void 0===v?void 0:v.getClosestVariantNode()},scheduleUpdateLayoutProjection:v?v.scheduleUpdateLayoutProjection:function(){return Vn.b.preRender(X.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return g.layoutId},getInstance:function(){return _},getStaticValue:function(t){return E[t]},setStaticValue:function(t,e){return E[t]=e},getLatestValues:function(){return E},setVisibility:function(t){X.isVisible!==t&&(X.isVisible=t,X.scheduleRender())},makeTargetAnimatable:function(t,e){return void 0===e&&(e=!0),a(X,t,g,e)},addValue:function(t,e){X.hasValue(t)&&X.removeValue(t),L.set(t,e),E[t]=e.get(),function(t,e){var n=e.onChange(function(e){E[t]=e,g.onUpdate&&Vn.b.update(q,!1,!0)}),r=e.onRenderRequest(X.scheduleRender);F.set(t,function(){n(),r()})}(t,e)},removeValue:function(t){var e;L.delete(t),null===(e=F.get(t))||void 0===e||e(),F.delete(t),delete E[t],h(t,S)},hasValue:function(t){return L.has(t)},getValue:function(t,e){var n=L.get(t);return void 0===n&&void 0!==e&&(n=Rr(e),X.addValue(t,n)),n},forEachValue:function(t){return L.forEach(t)},readValue:function(t){var n;return null!==(n=E[t])&&void 0!==n?n:c(_,t,e)},setBaseTarget:function(t,e){V[t]=e},getBaseTarget:function(t){if(o){var e=o(g,t);if(void 0!==e&&!Y(e))return e}return V[t]}},C),{build:function(){return z(),S},scheduleRender:function(){Vn.b.render(B,!1,!0)},syncRender:B,setProps:function(t){g=t,C.updatePropListeners(t),U=function(t,e,n){var r;for(var i in e){var o=e[i],a=n[i];if(Y(o))t.addValue(i,o);else if(Y(a))t.addValue(i,Rr(o));else if(a!==o)if(t.hasValue(i)){var s=t.getValue(i);!s.hasAnimated&&s.set(o)}else t.addValue(i,Rr(null!==(r=t.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===e[i]&&t.removeValue(i);return e}(X,p(g),U)},getProps:function(){return g},getVariant:function(t){var e;return null===(e=g.variants)||void 0===e?void 0:e[t]},getDefaultTransition:function(){return g.transition},getVariantContext:function(t){if(void 0===t&&(t=!1),t)return null===v||void 0===v?void 0:v.getVariantContext();if(!$){var e=(null===v||void 0===v?void 0:v.getVariantContext())||{};return void 0!==g.initial&&(e.initial=g.initial),e}for(var n={},r=0;r<So;r++){var i=Eo[r],o=g[i];(I(o)||!1===o)&&(n[i]=o)}return n},enableLayoutProjection:function(){A.isEnabled=!0,X.layoutTree.add(X)},lockProjectionTarget:function(){A.isTargetLocked=!0},unlockProjectionTarget:function(){X.stopLayoutAnimation(),A.isTargetLocked=!1},getLayoutState:function(){return D},setCrossfader:function(t){k=t},isProjectionReady:function(){return A.isEnabled&&A.isHydrated&&D.isHydrated},startLayoutAnimation:function(t,e,n){void 0===n&&(n=!1);var r=X.getProjectionAnimationProgress()[t],i=n?A.relativeTarget[t]:A.target[t],o=i.min,a=i.max-o;return r.clearListeners(),r.set(o),r.set(o),r.onChange(function(e){X.setProjectionTargetAxis(t,e,e+a,n)}),X.animateMotionValue(t,r,0,e)},stopLayoutAnimation:function(){hi(function(t){return X.getProjectionAnimationProgress()[t].stop()})},measureViewportBox:function(t){void 0===t&&(t=!0);var n=s(_,e);return t||zi(n,E),n},getProjectionAnimationProgress:function(){return O||(O={x:Rr(0),y:Rr(0)}),O},setProjectionTargetAxis:function(t,e,n,r){var i;void 0===r&&(r=!1),r?(A.relativeTarget||(A.relativeTarget=Object(fi.a)()),i=A.relativeTarget[t]):(A.relativeTarget=void 0,i=A.target[t]),A.isHydrated=!0,i.min=e,i.max=n,M=!0,C.notifySetAxisTarget()},rebaseProjectionTarget:function(t,e){void 0===e&&(e=D.layout);var n=X.getProjectionAnimationProgress(),r=n.x,i=n.y,o=!A.relativeTarget&&!A.isTargetLocked&&!r.isAnimating()&&!i.isAnimating();(t||o)&&hi(function(t){var n=e[t],r=n.min,i=n.max;X.setProjectionTargetAxis(t,r,i)})},notifyLayoutReady:function(t){!function(t){var e=t.getProjectionParent();if(e){var n=Ci(e.getLayoutState().layout,t.getLayoutState().layout);hi(function(e){t.setProjectionTargetAxis(e,n[e].min,n[e].max,!0)})}else t.rebaseProjectionTarget()}(X),X.notifyLayoutUpdate(D.layout,X.prevViewportBox||D.layout,t)},resetTransform:function(){return l(X,_,g)},restoreTransform:function(){return f(_,S)},updateLayoutProjection:function(){if(X.isProjectionReady()){var t=D.delta,e=D.treeScale,n=e.x,r=e.y,i=D.deltaTransform;bo(D,N,X.path,E),M&&X.notifyViewportBoxUpdate(N.target,t),M=!1;var o=vo(t,e);o===i&&n===e.x&&r===e.y||X.scheduleRender(),D.deltaTransform=o}},updateTreeLayoutProjection:function(){X.layoutTree.forEach(ko),Vn.b.preRender(W,!1,!0)},getProjectionParent:function(){if(void 0===w){for(var t=!1,e=X.path.length-1;e>=0;e--){var n=X.path[e];if(n.projection.isEnabled){t=n;break}}w=t}return w},resolveRelativeTargetBox:function(){var t=X.getProjectionParent();if(A.relativeTarget&&t&&(function(t,e){Ei(t.target.x,t.relativeTarget.x,e.target.x),Ei(t.target.y,t.relativeTarget.y,e.target.y)}(A,t.projection),Ai(t))){var e=A.target;Ui(e,e,t.getLatestValues())}},shouldResetTransform:function(){return Boolean(g._layoutResetTransform)},pointTo:function(t){N=t.projection,R=t.getLatestValues(),null===x||void 0===x||x(),x=Oe(t.onSetAxisTarget(X.scheduleUpdateLayoutProjection),t.onLayoutAnimationComplete(function(){var t;X.isPresent?X.presence=$i.a.Present:null===(t=X.layoutSafeToRemove)||void 0===t||t.call(X)}))},isPresent:!0,presence:$i.a.Entering});return X}};function ko(t){t.resolveRelativeTargetBox()}function Oo(t){t.updateLayoutProjection()}var To,Eo=Object(r.__spreadArray)(["initial"],Object(r.__read)(Gr)),So=Eo.length,Io=new Set(["width","height","top","left","right","bottom","x","y"]),Co=function(t){return Io.has(t)},Ao=function(t){return Object.keys(t).some(Co)},Po=function(t,e){t.set(e,!1),t.set(e)},jo=function(t){return t===ft||t===st};!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(To||(To={}));var No=function(t,e){return parseFloat(t.split(", ")[e])},Ro=function(t,e){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return No(o[1],e);var a=i.match(/^matrix\((.+)\)$/);return a?No(a[1],t):0}},Do=new Set(["x","y","z"]),Mo=B.filter(function(t){return!Do.has(t)});var Lo={width:function(t){var e=t.x;return e.max-e.min},height:function(t){var e=t.y;return e.max-e.min},top:function(t,e){var n=e.top;return parseFloat(n)},left:function(t,e){var n=e.left;return parseFloat(n)},bottom:function(t,e){var n=t.y,r=e.top;return parseFloat(r)+(n.max-n.min)},right:function(t,e){var n=t.x,r=e.left;return parseFloat(r)+(n.max-n.min)},x:Ro(4,13),y:Ro(5,14)},Fo=function(t,e,n,i){void 0===n&&(n={}),void 0===i&&(i={}),e=Object(r.__assign)({},e),i=Object(r.__assign)({},i);var o=Object.keys(e).filter(Co),a=[],s=!1,u=[];if(o.forEach(function(r){var o=t.getValue(r);if(t.hasValue(r)){var l,f=n[r],h=e[r],d=Lr(f);if(Bt(h))for(var p=h.length,v=null===h[0]?1:0;v<p;v++)l?c(Lr(h[v])===l,"All keyframes must be of the same type"):(l=Lr(h[v]),c(l===d||jo(d)&&jo(l),"Keyframes must be of the same dimension as the current value"));else l=Lr(h);if(d!==l)if(jo(d)&&jo(l)){var g=o.get();"string"===typeof g&&o.set(parseFloat(g)),"string"===typeof h?e[r]=parseFloat(h):Array.isArray(h)&&l===st&&(e[r]=h.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===l||void 0===l?void 0:l.transform)&&(0===f||0===h)?0===f?o.set(l.transform(f)):e[r]=d.transform(h):(s||(a=function(t){var e=[];return Mo.forEach(function(n){var r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.syncRender(),e}(t),s=!0),u.push(r),i[r]=void 0!==i[r]?i[r]:e[r],Po(o,h))}}),u.length){var l=function(t,e,n){var r=e.measureViewportBox(),i=e.getInstance(),o=getComputedStyle(i),a=o.display,s={top:o.top,left:o.left,bottom:o.bottom,right:o.right,transform:o.transform};"none"===a&&e.setStaticValue("display",t.display||"block"),e.syncRender();var u=e.measureViewportBox();return n.forEach(function(n){var i=e.getValue(n);Po(i,Lo[n](r,s)),t[n]=Lo[n](u,o)}),t}(e,t,u);return a.length&&a.forEach(function(e){var n=Object(r.__read)(e,2),i=n[0],o=n[1];t.getValue(i).set(o)}),t.syncRender(),{target:l,transitionEnd:i}}return{target:e,transitionEnd:i}};var Uo=function(t,e,n,i){var o=function(t,e,n){var i,o=Object(r.__rest)(e,[]),a=t.getInstance();if(!(a instanceof HTMLElement))return{target:o,transitionEnd:n};for(var s in n&&(n=Object(r.__assign)({},n)),t.forEachValue(function(t){var e=t.get();if(Qi(e)){var n=Zi(e,a);n&&t.set(n)}}),o){var u=o[s];if(Qi(u)){var c=Zi(u,a);c&&(o[s]=c,n&&(null!==(i=n[s])&&void 0!==i||(n[s]=u)))}}return{target:o,transitionEnd:n}}(t,e,i);return function(t,e,n,r){return Ao(e)?Fo(t,e,n,r):{target:e,transitionEnd:r}}(t,e=o.target,n,i=o.transitionEnd)};var Vo={treeType:"dom",readValueFromInstance:function(t,e){if(W(e)){var n=br(e);return n&&n.default||0}var r,i=(r=t,window.getComputedStyle(r));return(Q(e)?i.getPropertyValue(e):i[e])||0},sortNodePosition:function(t,e){return 2&t.compareDocumentPosition(e)?1:-1},getBaseTarget:function(t,e){var n;return null===(n=t.style)||void 0===n?void 0:n[e]},measureViewportBox:function(t,e){return bi(t,e.transformPagePoint)},resetTransform:function(t,e,n){var r=n.transformTemplate;e.style.transform=r?r({},""):"none",t.scheduleRender()},restoreTransform:function(t,e){t.style.transform=e.style.transform},removeValueFromRenderState:function(t,e){var n=e.vars,r=e.style;delete n[t],delete r[t]},makeTargetAnimatable:function(t,e,n,i){var o=n.transformValues;void 0===i&&(i=!0);var a=e.transition,s=e.transitionEnd,u=Object(r.__rest)(e,["transition","transitionEnd"]),c=function(t,e,n){var r,i,o={};for(var a in t)o[a]=null!==(r=zr(a,e))&&void 0!==r?r:null===(i=n.getValue(a))||void 0===i?void 0:i.get();return o}(u,a||{},t);if(o&&(s&&(s=o(s)),u&&(u=o(u)),c&&(c=o(c))),i){!function(t,e,n){var r,i,o,a,s=Object.keys(e).filter(function(e){return!t.hasValue(e)}),u=s.length;if(u)for(var c=0;c<u;c++){var l=s[c],f=e[l],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[l])&&void 0!==r?r:t.readValue(l))&&void 0!==i?i:e[l]),void 0!==h&&null!==h&&("string"===typeof h&&Ir(h)?h=parseFloat(h):!Ur(h)&&ln.test(f)&&(h=_r(l,f)),t.addValue(l,Rr(h)),null!==(o=(a=n)[l])&&void 0!==o||(a[l]=h),t.setBaseTarget(l,h))}}(t,u,c);var l=Uo(t,u,c,s);s=l.transitionEnd,u=l.target}return Object(r.__assign)({transition:a,transitionEnd:s},u)},scrapeMotionValuesFromProps:Ft,build:function(t,e,n,r,i,o,a){void 0!==t.isVisible&&(e.style.visibility=t.isVisible?"visible":"hidden");var s=r.isEnabled&&i.isHydrated;gt(e,n,r,i,o,a.transformTemplate,s?vo:void 0,s?go:void 0)},render:Dt},Bo=xo(Vo),zo=xo(Object(r.__assign)(Object(r.__assign)({},Vo),{getBaseTarget:function(t,e){return t[e]},readValueFromInstance:function(t,e){var n;return W(e)?(null===(n=br(e))||void 0===n?void 0:n.default)||0:(e=Mt.has(e)?e:Rt(e),t.getAttribute(e))},scrapeMotionValuesFromProps:Ut,build:function(t,e,n,r,i,o,a){var s=r.isEnabled&&i.isHydrated;Ct(e,n,r,i,o,a.transformTemplate,s?vo:void 0,s?go:void 0)},render:Lt})),qo=function(t,e){return F(t)?zo(e,{enableHardwareAcceleration:!1}):Bo(e,{enableHardwareAcceleration:!0})};n.d(e,"a",function(){return Ho});var Wo=Object(r.__assign)(Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},Zr),Ee),Yi),fo),Ho=M(function(t,e){return Xt(t,e,Wo,qo)})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(49);var a=n(31),s=n(39),u=0;function c(){var t=u;return u++,t}var l=function(t){var e=t.children,n=t.initial,r=t.isPresent,o=t.onExitComplete,u=t.custom,l=t.presenceAffectsLayout,h=Object(s.a)(f),d=Object(s.a)(c),p=Object(i.useMemo)(function(){return{id:d,initial:n,isPresent:r,custom:u,onExitComplete:function(t){h.set(t,!0);var e=!0;h.forEach(function(t){t||(e=!1)}),e&&(null===o||void 0===o||o())},register:function(t){return h.set(t,!1),function(){return h.delete(t)}}}},l?void 0:[r]);return Object(i.useMemo)(function(){h.forEach(function(t,e){return h.set(e,!1)})},[r]),i.useEffect(function(){!r&&!h.size&&(null===o||void 0===o||o())},[r]),i.createElement(a.a.Provider,{value:p},e)};function f(){return new Map}var h=n(29);function d(t){return t.key||""}n.d(e,"a",function(){return p});var p=function(t){var e=t.children,n=t.custom,a=t.initial,s=void 0===a||a,u=t.onExitComplete,c=t.exitBeforeEnter,f=t.presenceAffectsLayout,p=void 0===f||f,v=function(){var t=Object(i.useRef)(!1),e=Object(r.__read)(Object(i.useState)(0),2),n=e[0],a=e[1];return Object(o.a)(function(){return t.current=!0}),Object(i.useCallback)(function(){!t.current&&a(n+1)},[n])}(),g=Object(i.useContext)(h.b);Object(h.c)(g)&&(v=g.forceUpdate);var m=Object(i.useRef)(!0),y=function(t){var e=[];return i.Children.forEach(t,function(t){Object(i.isValidElement)(t)&&e.push(t)}),e}(e),b=Object(i.useRef)(y),_=Object(i.useRef)(new Map).current,w=Object(i.useRef)(new Set).current;if(function(t,e){t.forEach(function(t){var n=d(t);e.set(n,t)})}(y,_),m.current)return m.current=!1,i.createElement(i.Fragment,null,y.map(function(t){return i.createElement(l,{key:d(t),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:p},t)}));for(var x=Object(r.__spreadArray)([],Object(r.__read)(y)),k=b.current.map(d),O=y.map(d),T=k.length,E=0;E<T;E++){var S=k[E];-1===O.indexOf(S)?w.add(S):w.delete(S)}return c&&w.size&&(x=[]),w.forEach(function(t){if(-1===O.indexOf(t)){var e=_.get(t);if(e){var r=k.indexOf(t);x.splice(r,0,i.createElement(l,{key:d(e),isPresent:!1,onExitComplete:function(){_.delete(t),w.delete(t);var e=b.current.findIndex(function(e){return e.key===t});b.current.splice(e,1),w.size||(b.current=y,v(),u&&u())},custom:n,presenceAffectsLayout:p},e))}}}),x=x.map(function(t){var e=t.key;return w.has(e)?t:i.createElement(l,{key:d(t),isPresent:!0,presenceAffectsLayout:p},t)}),b.current=x,i.createElement(i.Fragment,null,w.size?x:x.map(function(t){return Object(i.cloneElement)(t)}))}}]]);
//# sourceMappingURL=2.db9a91a4.chunk.js.map